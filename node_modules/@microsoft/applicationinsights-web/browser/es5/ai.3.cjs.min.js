/*!
 * Application Insights JavaScript SDK - Web, 3.3.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
"use strict";function _pureAssign(e,t){return e||t}function _pureRef(e,t){return e[t]}var _primitiveTypes,UNDEF_VALUE=undefined,NULL_VALUE=null,EMPTY="",FUNCTION="function",OBJECT="object",PROTOTYPE="prototype",__PROTO__="__proto__",UNDEFINED="undefined",CONSTRUCTOR="constructor",SYMBOL="Symbol",LENGTH="length",NAME="name",CALL="call",TO_STRING="toString",GET_OWN_PROPERTY_DESCRIPTOR="getOwnPropertyDescriptor",ObjClass$1=_pureAssign(Object),ObjProto$1=_pureRef(ObjClass$1,PROTOTYPE),StrCls=_pureAssign(String),StrProto=_pureRef(StrCls,PROTOTYPE),MathCls=_pureAssign(Math),ArrCls=_pureAssign(Array),ArrProto=_pureRef(ArrCls,PROTOTYPE),ArrSlice=_pureRef(ArrProto,"slice"),POLYFILL_TAG="_polyfill",POLYFILL_TYPE_NAME="__nw21$polytype__";function safe(e,t){try{return{v:e.apply(this,t)}}catch(n){return{e:n}}}function safeGet(e,t,n){e=safe(e,n);return e.e?t:e.v}function _createIs(t){return function(e){return typeof e===t}}function _createObjIs(e){var t="[object "+e+"]";return function(e){return!(!e||objToString(e)!==t)}}function objToString(e){return ObjProto$1[TO_STRING].call(e)}function isUndefined(e){return typeof e===UNDEFINED||e===UNDEFINED}function isStrictUndefined(e){return e===UNDEF_VALUE}function isNullOrUndefined(e){return e===NULL_VALUE||isUndefined(e)}function isStrictNullOrUndefined(e){return e===NULL_VALUE||e===UNDEF_VALUE}function isDefined(e){return!!e||e!==UNDEF_VALUE}function isPrimitiveType(e){return _primitiveTypes=_primitiveTypes||["string","number","boolean",UNDEFINED,"symbol","bigint"],!(e===OBJECT||!~_primitiveTypes.indexOf(e))}var isString=_createIs("string"),isFunction=_createIs(FUNCTION);function isObject(e){return!(!e&&isNullOrUndefined(e)||!e||typeof e!==OBJECT)}var isArray=_pureRef(ArrCls,"isArray"),isDate=_createObjIs("Date"),isNumber=_createIs("number"),isBoolean=_createIs("boolean"),isError=_createObjIs("Error");function isPromiseLike(e){return!!(e&&e.then&&isFunction(e.then))}function isTruthy(e){return!(!e||safeGet(function(){return!(e&&0+e)},!e))}function _returnNothing(){}function _returnFalse(){return!1}var asString=_pureAssign(StrCls),ERROR_TYPE="[object Error]";function dumpObj(e,t){var n=EMPTY,r=ObjProto$1[TO_STRING][CALL](e);r===ERROR_TYPE&&(e={stack:asString(e.stack),message:asString(e.message),name:asString(e.name)});try{n=((n=JSON.stringify(e,NULL_VALUE,t?"number"==typeof t?t:4:UNDEF_VALUE))?n.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):NULL_VALUE)||asString(e)}catch(i){n=" - "+dumpObj(i,t)}return r+": "+n}function throwError(e){throw Error(e)}function throwTypeError(e){throw new TypeError(e)}function _throwIfNullOrUndefined(e){isStrictNullOrUndefined(e)&&throwTypeError("Cannot convert undefined or null to object")}function _throwIfNotString(e){isString(e)||throwTypeError("'"+dumpObj(e)+"' is not a string")}function objHasOwnProperty(e,t){return!!e&&ObjProto$1.hasOwnProperty[CALL](e,t)}var _objGetOwnPropertyDescriptor$2=_pureAssign(_pureRef(ObjClass$1,GET_OWN_PROPERTY_DESCRIPTOR),_returnNothing),objHasOwn=_pureAssign(_pureRef(ObjClass$1,"hasOwn"),polyObjHasOwn);function polyObjHasOwn(e,t){return _throwIfNullOrUndefined(e),objHasOwnProperty(e,t)||!!_objGetOwnPropertyDescriptor$2(e,t)}function objForEachKey(e,t,n){if(e&&(isObject(e)||isFunction(e)))for(var r in e)if(objHasOwn(e,r)&&-1===t[CALL](n||e,r,e[r]))break}function arrForEach(e,t,n){if(e)for(var r=e[LENGTH]>>>0,i=0;i<r&&!(i in e&&-1===t[CALL](n||e,e[i],i,e));i++);}var _unwrapFunction=_unwrapFunctionWithPoly;function _unwrapFunctionWithPoly(r,e,i){var a=e?e[r]:NULL_VALUE;return function(e){var t,n=(e?e[r]:NULL_VALUE)||a;if(n||i)return t=arguments,(n||i).apply(e,n?ArrSlice[CALL](t,1):t);throwTypeError('"'+asString(r)+'" not defined for '+dumpObj(e))}}function _unwrapProp(t){return function(e){return e[t]}}var _objGetOwnPropertyDescriptor$1=_pureAssign(_pureRef(ObjClass$1,GET_OWN_PROPERTY_DESCRIPTOR),_returnNothing),propMap={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function _createProp(t){var e,n={};return n[propMap.c]=!0,n[propMap.e]=!0,t.l&&(n.get=function(){return t.l.v},(e=_objGetOwnPropertyDescriptor$1(t.l,"v"))&&e.set&&(n.set=function(e){t.l.v=e})),objForEachKey(t,function(e,t){n[propMap[e]]=isStrictUndefined(t)?n[propMap[e]]:t}),n}var objDefineProp=_pureRef(ObjClass$1,"defineProperty"),objDefineProperties=_pureRef(ObjClass$1,"defineProperties");function objDefine(e,t,n){return objDefineProp(e,t,_createProp(n))}function _createKeyValueMap(e,n,r,t,i){var a={};return objForEachKey(e,function(e,t){_assignMapValue(a,e,n?t:e),_assignMapValue(a,t,r?t:e)}),t?t(a):a}function _assignMapValue(e,t,n,r){objDefineProp(e,t,{value:n,enumerable:!0,writable:!1})}var objIsFrozen=_pureAssign(_pureRef(ObjClass$1,"isFrozen"),_returnFalse),_objFreeze=_pureRef(ObjClass$1,"freeze");function _doNothing(e){return e}function _getProto(e){return _throwIfNullOrUndefined(e),e[__PROTO__]||NULL_VALUE}var objAssign=_pureRef(ObjClass$1,"assign"),objKeys=_pureRef(ObjClass$1,"keys");function _deepFreeze(e,n){if((isArray(e)||isObject(e)||isFunction(e))&&!objIsFrozen(e)){for(var t=0;t<n.length;t++)if(n[t]===e)return e;n.push(e),objForEachKey(e,function(e,t){_deepFreeze(t,n)}),objFreeze(e)}return e}function objDeepFreeze(e){return _objFreeze?_deepFreeze(e,[]):e}var objFreeze=_pureAssign(_objFreeze,_doNothing),objGetPrototypeOf=_pureAssign(_pureRef(ObjClass$1,"getPrototypeOf"),_getProto);function createEnum(e){return _createKeyValueMap(e,1,0,objFreeze)}function createEnumKeyMap(e){return _createKeyValueMap(e,0,0,objFreeze)}function createSimpleMap(e){var n={};return objForEachKey(e,function(e,t){_assignMapValue(n,e,t[1]),_assignMapValue(n,t[0],t[1])}),objFreeze(n)}function createTypeMap(e){return createSimpleMap(e)}var _globalCfg,_wellKnownSymbolMap=createEnumKeyMap({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),GLOBAL_CONFIG_KEY="__tsUtils$gblCfg";function _getGlobalValue(){var e;return(e=(e=(e=typeof globalThis!==UNDEFINED?globalThis:e)||typeof self===UNDEFINED?e:self)||typeof window===UNDEFINED?e:window)||typeof global===UNDEFINED?e:global}function _getGlobalConfig(){var e;return _globalCfg||(e=safe(_getGlobalValue).v||{},_globalCfg=e[GLOBAL_CONFIG_KEY]=e[GLOBAL_CONFIG_KEY]||{}),_globalCfg}var mathMin=_pureRef(MathCls,"min"),mathMax=_pureRef(MathCls,"max"),strSlice=_unwrapFunctionWithPoly("slice",StrProto),strSubstring=_unwrapFunctionWithPoly("substring",StrProto),strSubstr=_unwrapFunctionWithPoly("substr",StrProto,polyStrSubstr);function polyStrSubstr(e,t,n){return _throwIfNullOrUndefined(e),n<0?EMPTY:((t=t||0)<0&&(t=mathMax(t+e[LENGTH],0)),isUndefined(n)?strSlice(e,t):strSlice(e,t,t+n))}function strLeft(e,t){return strSubstring(e,0,t)}function _tagAsPolyfill(e,t){return e&&(safe(function(){e[POLYFILL_TAG]=!0,e[POLYFILL_TYPE_NAME]=t}),safe(objDefine,[e,POLYFILL_TAG,{v:!0,w:!1,e:!1}]),safe(objDefine,[e,POLYFILL_TYPE_NAME,{v:t,w:!1,e:!1}])),e}var _globalLazyTestHooks,objCreate=_pureAssign(_pureRef(ObjClass$1,"create"),polyObjCreate);function polyObjCreate(e,t){var n;function r(){}return n=isStrictNullOrUndefined(e)?{}:((n=typeof e)!==OBJECT&&n!==FUNCTION&&throwTypeError("Prototype must be an Object or function: "+dumpObj(e)),r[PROTOTYPE]=e,safe(function(){r[__PROTO__]=e}),new r),t&&safe(objDefineProperties,[n,t]),n}function utcNow(){return(Date.now||polyUtcNow)()}function polyUtcNow(){return(new Date).getTime()}function fnApply(e,t,n){return e.apply(t,n)}function _initTestHooks(){_globalLazyTestHooks=_getGlobalConfig()}function getLazy(t,n){var r={};return _globalLazyTestHooks||_initTestHooks(),r.b=_globalLazyTestHooks.lzy,objDefineProp(r,"v",{configurable:!0,get:function(){var e=fnApply(t,null,n);return _globalLazyTestHooks.lzy||objDefineProp(r,"v",{value:e}),r.b=_globalLazyTestHooks.lzy,e}}),r}var _polySymbols,_wellKnownSymbolCache,mathRandom=_pureRef(MathCls,"random"),_uniqueInstanceId=getLazy(function(){for(var e=utcNow().toString(36).slice(2);e.length<16;)e+=mathRandom().toString(36).slice(2);return e.substring(0,16)}),UNIQUE_REGISTRY_ID="_urid",POLY_SYM="$nw21sym",_polyId=0;function _globalSymbolRegistry(){var e;return _polySymbols||(e=_getGlobalConfig(),_polySymbols=e.gblSym=e.gblSym||{k:{},s:{}}),_polySymbols}function polyNewSymbol(e){var t="_"+_polyId+++"_"+_uniqueInstanceId.v,n=SYMBOL+"("+e+")";function r(e,t){objDefine(i,e,{v:t,e:!1,w:!1})}var i=objCreate(null);return r("description",asString(e)),r(TO_STRING,function(){return n+POLY_SYM+t}),r("valueOf",function(){return i}),r("v",n),r("_uid",t),_tagAsPolyfill(i,"symbol")}function polySymbolFor(e){var t,n,r=_globalSymbolRegistry();return objHasOwn(r.k,e)||(t=polyNewSymbol(e),n=objKeys(r.s).length,t[UNIQUE_REGISTRY_ID]=function(){return n+"_"+t[TO_STRING]()},r.k[e]=t,r.s[t[UNIQUE_REGISTRY_ID]()]=asString(e)),r.k[e]}function polyGetKnownSymbol(e){_wellKnownSymbolCache=_wellKnownSymbolCache||{};e=_wellKnownSymbolMap[e];return e?_wellKnownSymbolCache[e]=_wellKnownSymbolCache[e]||polyNewSymbol(SYMBOL+"."+e):void 0}function createCachedValue(e){return objDefineProp({toJSON:function(){return e}},"v",{value:e})}var _cachedGlobal,WINDOW="window";function _getGlobalInstFn(e,t){var n;return function(){return _globalLazyTestHooks||_initTestHooks(),(n=n&&!_globalLazyTestHooks.lzy?n:createCachedValue(safe(e,t).v)).v}}function getGlobal(e){return _globalLazyTestHooks||_initTestHooks(),(_cachedGlobal=_cachedGlobal&&!1!==e&&!_globalLazyTestHooks.lzy?_cachedGlobal:createCachedValue(safe(_getGlobalValue).v||NULL_VALUE)).v}function getInst(e,t){t=_cachedGlobal&&!1!==t?_cachedGlobal.v:getGlobal(t);if(t&&t[e])return t[e];if(e===WINDOW)try{return window}catch(n){}return NULL_VALUE}function hasDocument(){return!!getDocument()}var getDocument=_getGlobalInstFn(getInst,["document"]);function hasWindow(){return!!getWindow()}var getWindow=_getGlobalInstFn(getInst,[WINDOW]);function hasNavigator(){return!!getNavigator()}var getNavigator=_getGlobalInstFn(getInst,["navigator"]);function hasHistory(){return!!getHistory()}var _symbol,_symbolFor,_iterSymbol$1,getHistory=_getGlobalInstFn(getInst,["history"]),isNode=_getGlobalInstFn(function(){return!!safe(function(){return process&&(process.versions||{}).node}).v}),isWebWorker=_getGlobalInstFn(function(){return!!safe(function(){return self&&self instanceof WorkerGlobalScope}).v});function _initSymbol(){return _symbol=createCachedValue(safe(getInst,[SYMBOL]).v)}function _getSymbolKey(e){var t=(_globalLazyTestHooks.lzy?0:_symbol)||_initSymbol();return t.v?t.v[e]:UNDEF_VALUE}function hasSymbol(){return!!getSymbol()}function getSymbol(){return _globalLazyTestHooks||_initTestHooks(),((_globalLazyTestHooks.lzy?0:_symbol)||_initSymbol()).v}function getKnownSymbol(e,t){var n=_wellKnownSymbolMap[e],r=(_globalLazyTestHooks||_initTestHooks(),(_globalLazyTestHooks.lzy?0:_symbol)||_initSymbol());return r.v?r.v[n||e]:t?UNDEF_VALUE:polyGetKnownSymbol(e)}function newSymbol(e,t){_globalLazyTestHooks||_initTestHooks();var n=(_globalLazyTestHooks.lzy?0:_symbol)||_initSymbol();return n.v?n.v(e):t?NULL_VALUE:polyNewSymbol(e)}function symbolFor(e){return _globalLazyTestHooks||_initTestHooks(),((_symbolFor=(_globalLazyTestHooks.lzy?0:_symbolFor)||createCachedValue(safe(_getSymbolKey,["for"]).v)).v||polySymbolFor)(e)}function isIterator(e){return!!e&&isFunction(e.next)}function isIterable(e){return!isStrictNullOrUndefined(e)&&isFunction(e[getKnownSymbol(3)])}function iterForOf(e,t,n){if(e&&(isIterator(e)||(e=e[(_iterSymbol$1=_iterSymbol$1||createCachedValue(getKnownSymbol(3))).v]?e[_iterSymbol$1.v]():NULL_VALUE),isIterator(e))){var r=UNDEF_VALUE,i=UNDEF_VALUE;try{for(var a=0;!(i=e.next()).done&&-1!==t[CALL](n||e,i.value,a,e);)a++}catch(_){r={e:_},e["throw"]&&(i=NULL_VALUE,e["throw"](r))}finally{try{i&&!i.done&&e["return"]&&e["return"](i)}finally{if(r)throw r.e}}}}function arrAppend(t,e){return!isUndefined(e)&&t&&(isArray(e)?fnApply(t.push,t,e):isIterator(e)||isIterable(e)?iterForOf(e,function(e){t.push(e)}):t.push(e)),t}var arrIndexOf=_unwrapFunctionWithPoly("indexOf",ArrProto),arrMap=_unwrapFunctionWithPoly("map",ArrProto);function arrSlice(e,t,n){return((e?e.slice:NULL_VALUE)||ArrSlice).apply(e,ArrSlice[CALL](arguments,1))}var _isProtoArray,_unsupportedError,arrReduce=_unwrapFunctionWithPoly("reduce",ArrProto),objSetPrototypeOf=_pureAssign(_pureRef(ObjClass$1,"setPrototypeOf"),_polyObjSetPrototypeOf);function _polyObjSetPrototypeOf(n,e){var t;return(_isProtoArray=_isProtoArray||createCachedValue(((t={})[__PROTO__]=[],t instanceof Array))).v?n[__PROTO__]=e:objForEachKey(e,function(e,t){return n[e]=t}),n}function _createCustomError(e,t,n){function r(){this[CONSTRUCTOR]=t,safe(objDefine,[this,NAME,{v:e,c:!0,e:!1}])}return safe(objDefine,[t,NAME,{v:e,c:!0,e:!1}]),(t=objSetPrototypeOf(t,n))[PROTOTYPE]=n===NULL_VALUE?objCreate(n):(r[PROTOTYPE]=n[PROTOTYPE],new r),t}function _setName(e,t){t&&(e[NAME]=t)}function createCustomError(i,a,e){var _=e||Error,o=_[PROTOTYPE][NAME],s=Error.captureStackTrace;return _createCustomError(i,function(){var e=this,t=arguments;try{safe(_setName,[_,i]);var n,r=fnApply(_,e,ArrSlice[CALL](t))||e;return r!==e&&(n=objGetPrototypeOf(e))!==objGetPrototypeOf(r)&&objSetPrototypeOf(r,n),s&&s(r,e[CONSTRUCTOR]),a&&a(r,t),r}finally{safe(_setName,[_,o])}},_)}function throwUnsupported(e){throw new(_unsupportedError=_unsupportedError||createCustomError("UnsupportedError"))(e)}function _createTrimFn(t){return function(e){return _throwIfNullOrUndefined(e),e&&e.replace?e.replace(t,EMPTY):e}}var _fnToString,_objCtrFnString,_gblWindow,polyStrTrim=_createTrimFn(/^\s+|(?=\s)\s+$/g),strTrim=_unwrapFunctionWithPoly("trim",StrProto,polyStrTrim),mathFloor=_pureRef(MathCls,"floor");function isPlainObject(e){if(!e||typeof e!==OBJECT)return!1;var t=!1;if(e!==(_gblWindow=_gblWindow||!hasWindow()||getWindow())){_objCtrFnString||(_fnToString=Function[PROTOTYPE][TO_STRING],_objCtrFnString=_fnToString[CALL](ObjClass$1));try{var n=objGetPrototypeOf(e),t=(t=!n)||!(!(n=objHasOwnProperty(n,CONSTRUCTOR)?n[CONSTRUCTOR]:n)||typeof n!==FUNCTION||_fnToString[CALL](n)!==_objCtrFnString)}catch(r){}}return t}function _defaultDeepCopyHandler(e){return e.value&&plainObjDeepCopyHandler(e),!0}var defaultDeepCopyHandlers=[arrayDeepCopyHandler,plainObjDeepCopyHandler,functionDeepCopyHandler,dateDeepCopyHandler];function _getSetVisited(e,t,n,r){var i;return arrForEach(e,function(e){if(e.k===t)return i=e,-1}),i||(i={k:t,v:t},e.push(i),r(i)),i.v}function _deepCopy(n,e,r,t){var i=r.handler,t=r.path?t?r.path.concat(t):r.path:[],a={handler:r.handler,src:r.src,path:t},_=typeof e,o=!1,s=e===NULL_VALUE,c=(s||(e&&_===OBJECT?o=isPlainObject(e):s=isPrimitiveType(_)),{type:_,isPrim:s,isPlain:o,value:e,result:e,path:t,origin:r.src,copy:function(e,t){return _deepCopy(n,e,t?a:r,t)},copyTo:function(e,t){return _copyProps(n,e,t,a)}});return c.isPrim?i&&i[CALL](r,c)?c.result:e:_getSetVisited(n,e,t,function(t){objDefine(c,"result",{g:function(){return t.v},s:function(e){t.v=e}});for(var e=0,n=i;!(n||(e<defaultDeepCopyHandlers.length?defaultDeepCopyHandlers[e++]:_defaultDeepCopyHandler))[CALL](r,c);)n=NULL_VALUE})}function _copyProps(e,t,n,r){if(!isNullOrUndefined(n))for(var i in n)t[i]=_deepCopy(e,n[i],r,i);return t}function objCopyProps(e,t,n){return _copyProps([],e,t,{handler:n,src:t,path:[]})}function objDeepCopy(e,t){return _deepCopy([],e,{handler:t,src:e})}function arrayDeepCopyHandler(e){var t,n=e.value;return!!isArray(n)&&((t=e.result=[]).length=n.length,e.copyTo(t,n),!0)}function dateDeepCopyHandler(e){var t=e.value;return!!isDate(t)&&(e.result=new Date(t.getTime()),!0)}function functionDeepCopyHandler(e){return e.type===FUNCTION}function plainObjDeepCopyHandler(e){var t,n=e.value;return!(!n||!e.isPlain||(t=e.result={},e.copyTo(t,n),0))}function _doExtend(t,e){return arrForEach(e,function(e){objCopyProps(t,e)}),t}function deepExtend(e,t,n,r,i,a,_){return _doExtend(objDeepCopy(e)||{},ArrSlice[CALL](arguments))}function objExtend$1(e,t,n,r,i,a,_){return _doExtend(e||{},ArrSlice[CALL](arguments))}var strSplit=_unwrapFunctionWithPoly("split",StrProto);function setValueByKey(t,e,n){var r;t&&e&&(r=(e=strSplit(e,".")).pop(),arrForEach(e,function(e){isNullOrUndefined(t[e])&&(t[e]={}),t=t[e]}),t[r]=n)}var _perf,getLength=_unwrapProp(LENGTH);function getPerformance(){return _globalLazyTestHooks||_initTestHooks(),(_perf=_perf&&!_globalLazyTestHooks.lzy?_perf:createCachedValue(safe(getInst,["performance"]).v)).v}var mathRound=_pureRef(MathCls,"round"),objGetOwnPropertyDescriptor=_pureAssign(_pureRef(ObjClass$1,GET_OWN_PROPERTY_DESCRIPTOR),_returnNothing),strEndsWith=_unwrapFunctionWithPoly("endsWith",StrProto,polyStrEndsWith);function polyStrEndsWith(e,t,n){_throwIfNotString(e);t=isString(t)?t:asString(t),n=!isUndefined(n)&&n<e[LENGTH]?n:e[LENGTH];return strSubstring(e,n-t[LENGTH],n)===t}var _setTimeoutFn,_clearTimeoutFn,strIndexOf=_unwrapFunctionWithPoly("indexOf",StrProto),REF="ref",UNREF="unref",HAS_REF="hasRef",ENABLED="enabled";function _createTimerHandler(e,t,n){var r,i=!0,a=e?t(NULL_VALUE):NULL_VALUE;function _(){return i=!1,a&&a[UNREF]&&a[UNREF](),r}function o(){a&&n(a),a=NULL_VALUE}function s(){return a=t(a),i||_(),r}return(r={cancel:o,refresh:s})[HAS_REF]=function(){return a&&a[HAS_REF]?a[HAS_REF]():i},r[REF]=function(){return i=!0,a&&a[REF]&&a[REF](),r},r[UNREF]=_,{h:r=objDefineProp(r,ENABLED,{get:function(){return!!a},set:function(e){!e&&a&&o(),e&&!a&&s()}}),dn:function(){a=NULL_VALUE}}}function _resolveTimeoutFn(e){var t,e=isFunction(e)?e:_setTimeoutFn;return e||(t=_getGlobalConfig().tmOut||[],isArray(t)&&0<t.length&&isFunction(t[0])&&(e=t[0])),e||setTimeout}function _resolveClearTimeoutFn(e){var t,e=isFunction(e)?e:_clearTimeoutFn;return e||(t=_getGlobalConfig().tmOut||[],isArray(t)&&1<t.length&&isFunction(t[1])&&(e=t[1])),e||clearTimeout}function _createTimeoutWith(e,t,n){var r=isArray(t),i=r?t.length:0,a=_resolveTimeoutFn(0<i?t[0]:r?UNDEF_VALUE:t),_=_resolveClearTimeoutFn(1<i?t[1]:UNDEF_VALUE),o=n[0],s=(n[0]=function(){s.dn(),fnApply(o,UNDEF_VALUE,ArrSlice[CALL](arguments))},_createTimerHandler(e,function(e){if(e){if(e.refresh)return e.refresh(),e;fnApply(_,UNDEF_VALUE,[e])}return fnApply(a,UNDEF_VALUE,n)},function(e){fnApply(_,UNDEF_VALUE,[e])}));return s.h}function scheduleTimeout(e,t){return _createTimeoutWith(!0,UNDEF_VALUE,ArrSlice[CALL](arguments))}function createTimeout(e,t){return _createTimeoutWith(!1,UNDEF_VALUE,ArrSlice[CALL](arguments))}var aggregationErrorType,createEnumStyle=createEnum,createValueMap=createTypeMap,ActiveStatus=createEnumStyle({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),_DYN_TO_LOWER_CASE$2="toLowerCase",_DYN_LENGTH$4="length",_DYN_WARN_TO_CONSOLE="warnToConsole",_DYN_THROW_INTERNAL="throwInternal",_DYN_WATCH="watch",_DYN_APPLY="apply",_DYN_PUSH$1="push",_DYN_SPLICE="splice",_DYN_LOGGER="logger",_DYN_CANCEL="cancel",_DYN_INITIALIZE$1="initialize",_DYN_IDENTIFIER="identifier",_DYN_REMOVE_NOTIFICATION_0="removeNotificationListener",_DYN_ADD_NOTIFICATION_LIS1="addNotificationListener",_DYN_IS_INITIALIZED="isInitialized",_DYN_GET_NOTIFY_MGR="getNotifyMgr",_DYN_GET_PLUGIN="getPlugin",_DYN_NAME$2="name",_DYN_PROCESS_NEXT="processNext",_DYN_GET_PROCESS_TEL_CONT2="getProcessTelContext",_DYN_VALUE="value",_DYN_ENABLED="enabled",_DYN_STOP_POLLING_INTERNA3="stopPollingInternalLogs",_DYN_UNLOAD="unload",_DYN_ON_COMPLETE="onComplete",_DYN_VERSION$1="version",_DYN_LOGGING_LEVEL_CONSOL4="loggingLevelConsole",_DYN_CREATE_NEW="createNew",_DYN_TEARDOWN="teardown",_DYN_MESSAGE_ID="messageId",_DYN_MESSAGE$1="message",_DYN_DIAG_LOG$2="diagLog",_DYN__DO_TEARDOWN="_doTeardown",_DYN_UPDATE="update",_DYN_GET_NEXT="getNext",_DYN_SET_NEXT_PLUGIN="setNextPlugin",_DYN_USER_AGENT="userAgent",_DYN_SPLIT$1="split",_DYN_REPLACE="replace",_DYN_TYPE="type",_DYN_EVT_NAME="evtName",_DYN_STATUS$1="status",_DYN_INDEX_OF="indexOf",_DYN_GET_ALL_RESPONSE_HEA5="getAllResponseHeaders",_DYN_IS_CHILD_EVT="isChildEvt",_DYN_DATA$1="data",_DYN_GET_CTX="getCtx",_DYN_SET_CTX="setCtx",_DYN_ITEMS_RECEIVED$1="itemsReceived",_DYN_HEADERS$1="headers",_DYN_URL_STRING="urlString",_DYN_TIMEOUT="timeout",_DYN_TRACE_FLAGS$1="traceFlags",_DYN_GET_ATTRIBUTE="getAttribute";function throwAggregationError(e,t){aggregationErrorType=aggregationErrorType||createCustomError("AggregationError",function(e,t){1<t[_DYN_LENGTH$4]&&(e.errors=t[1])});var n=e||"One or more errors occurred.";throw arrForEach(t,function(e,t){n+="\n".concat(t," > ").concat(dumpObj(e))}),new aggregationErrorType(n,t||[])}var _a$a,strShimFunction="function",strShimObject="object",strShimUndefined="undefined",strShimPrototype="prototype",ObjClass=Object,ObjProto=ObjClass[strShimPrototype],strHasOwnProperty=((getGlobal()||{}).Symbol,(getGlobal()||{}).Reflect,"hasOwnProperty"),__objAssignFnImpl=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])ObjProto[strHasOwnProperty].call(t,i)&&(e[i]=t[i]);return e},__assignFn=objAssign||__objAssignFnImpl,extendStaticsFn=function(e,t){return(extendStaticsFn=ObjClass.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[strHasOwnProperty](n)&&(e[n]=t[n])})(e,t)};function __extendsFn(e,t){function n(){this.constructor=e}typeof t!==strShimFunction&&null!==t&&throwTypeError("Class extends value "+t+" is not a constructor or null"),extendStaticsFn(e,t),e[strShimPrototype]=null===t?objCreate(t):(n[strShimPrototype]=t[strShimPrototype],new n)}function __spreadArrayFn(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var Constructor="constructor",Prototype="prototype",strFunction="function",DynInstFuncTable="_dynInstFuncs",DynProxyTag="_isDynProxy",DynClassName="_dynClass",DynClassNamePrefix="_dynCls$",DynInstChkTag="_dynInstChk",DynAllowInstChkTag=DynInstChkTag,DynProtoDefaultOptions="_dfOpts",UnknownValue="_unknown_",str__Proto="__proto__",DynProtoBaseProto="_dyn"+str__Proto,DynProtoGlobalSettings="__dynProto$Gbl",DynProtoCurrent="_dynInstProto",strUseBaseInst="useBaseInst",strSetInstFuncs="setInstFuncs",Obj=Object,_objGetPrototypeOf=Obj.getPrototypeOf,_objGetOwnProps=Obj.getOwnPropertyNames,_gbl=getGlobal(),_gblInst=_gbl[DynProtoGlobalSettings]||(_gbl[DynProtoGlobalSettings]={o:((_a$a={})[strSetInstFuncs]=!0,_a$a[strUseBaseInst]=!0,_a$a),n:1e3});function _isObjectOrArrayPrototype(e){return e&&(e===Obj[Prototype]||e===Array[Prototype])}function _isObjectArrayOrFunctionPrototype(e){return _isObjectOrArrayPrototype(e)||e===Function[Prototype]}function _getObjProto$1(e){if(e){if(_objGetPrototypeOf)return _objGetPrototypeOf(e);var t=e[str__Proto]||e[Prototype]||(e[Constructor]?e[Constructor][Prototype]:null),n=e[DynProtoBaseProto]||t;objHasOwnProperty(e,DynProtoBaseProto)||(delete e[DynProtoCurrent],n=e[DynProtoBaseProto]=e[DynProtoCurrent]||e[DynProtoBaseProto],e[DynProtoCurrent]=t)}return n}function _forEachProp(e,t){var n=[];if(_objGetOwnProps)n=_objGetOwnProps(e);else for(var r in e)"string"==typeof r&&objHasOwnProperty(e,r)&&n.push(r);if(n&&0<n.length)for(var i=0;i<n.length;i++)t(n[i])}function _isDynamicCandidate(e,t,n){return t!==Constructor&&typeof e[t]===strFunction&&(n||objHasOwnProperty(e,t))&&t!==str__Proto&&t!==Prototype}function _throwTypeError(e){throwTypeError("DynamicProto: "+e)}function _getInstanceFuncs(t){var n=objCreate(null);return _forEachProp(t,function(e){!n[e]&&_isDynamicCandidate(t,e,!1)&&(n[e]=t[e])}),n}function _hasVisited(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return!0;return!1}function _getBaseFuncs(e,t,n,a){function r(e,t,n){var r,i=t[n];return i[DynProxyTag]&&a&&!1!==(r=e[DynInstFuncTable]||{})[DynAllowInstChkTag]&&(i=(r[t[DynClassName]]||{})[n]||i),function(){return i.apply(e,arguments)}}for(var i=objCreate(null),_=(_forEachProp(n,function(e){i[e]=r(t,n,e)}),_getObjProto$1(e)),o=[];_&&!_isObjectArrayOrFunctionPrototype(_)&&!_hasVisited(o,_);)_forEachProp(_,function(e){!i[e]&&_isDynamicCandidate(_,e,!_objGetPrototypeOf)&&(i[e]=r(t,_,e))}),o.push(_),_=_getObjProto$1(_);return i}function _getInstFunc(e,t,n,r){var i=null;if(e&&objHasOwnProperty(n,DynClassName)){var a=e[DynInstFuncTable]||objCreate(null);if((i=(a[n[DynClassName]]||objCreate(null))[t])||_throwTypeError("Missing ["+t+"] "+strFunction),!i[DynInstChkTag]&&!1!==a[DynAllowInstChkTag]){for(var _=!objHasOwnProperty(e,t),o=_getObjProto$1(e),s=[];_&&o&&!_isObjectArrayOrFunctionPrototype(o)&&!_hasVisited(s,o);){var c=o[t];if(c){_=c===r;break}s.push(o),o=_getObjProto$1(o)}try{_&&(e[t]=i),i[DynInstChkTag]=1}catch(u){a[DynAllowInstChkTag]=!1}}}return i}function _getProtoFunc(e,t,n){var r=t[e];return typeof(r=r===n?_getObjProto$1(t)[e]:r)!==strFunction&&_throwTypeError("["+e+"] is not a "+strFunction),r}function _populatePrototype(i,e,a,_,t){var n,o;_isObjectOrArrayPrototype(i)||_isObjectOrArrayPrototype(n=a[DynInstFuncTable]=a[DynInstFuncTable]||objCreate(null))||(o=n[e]=n[e]||objCreate(null),!1!==n[DynAllowInstChkTag]&&(n[DynAllowInstChkTag]=!!t),_isObjectOrArrayPrototype(o)||_forEachProp(a,function(e){var t,n,r;_isDynamicCandidate(a,e,!1)&&a[e]!==_[e]&&(o[e]=a[e],delete a[e],objHasOwnProperty(i,e)&&(!i[e]||i[e][DynProxyTag])||(i[e]=(t=i,n=e,(r=function(){return(_getInstFunc(this,n,t,r)||_getProtoFunc(n,t,r)).apply(this,arguments)})[DynProxyTag]=1,r)))}))}function _checkPrototype(e,t){if(_objGetPrototypeOf){for(var n=[],r=_getObjProto$1(t);r&&!_isObjectArrayOrFunctionPrototype(r)&&!_hasVisited(n,r);){if(r===e)return!0;n.push(r),r=_getObjProto$1(r)}return!1}return!0}function _getObjName(e,t){return objHasOwnProperty(e,Prototype)?e.name||t||UnknownValue:((e||{})[Constructor]||{}).name||t||UnknownValue}function dynamicProto(e,t,n,r){objHasOwnProperty(e,Prototype)||_throwTypeError("theClass is an invalid class definition.");var i=e[Prototype],a=(_checkPrototype(i,t)||_throwTypeError("["+_getObjName(e)+"] not in hierarchy of ["+_getObjName(t)+"]"),null),e=(objHasOwnProperty(i,DynClassName)?a=i[DynClassName]:(a=DynClassNamePrefix+_getObjName(e,"_")+"$"+_gblInst.n,_gblInst.n++,i[DynClassName]=a),dynamicProto[DynProtoDefaultOptions]),_=!!e[strUseBaseInst],o=(_&&r&&r[strUseBaseInst]!==undefined&&(_=!!r[strUseBaseInst]),_getInstanceFuncs(t)),_=(n(t,_getBaseFuncs(i,t,o,_)),!!_objGetPrototypeOf&&!!e[strSetInstFuncs]);_populatePrototype(i,a,t,o,!1!==(_=_&&r?!!r[strSetInstFuncs]:_))}dynamicProto[DynProtoDefaultOptions]=_gblInst.o;var STR_PROMISE="Promise",REJECTED="rejected";function doAwaitResponse(e,t){return doAwait(e,function(e){return t?t({status:"fulfilled",rejected:!1,value:e}):e},function(e){return t?t({status:REJECTED,rejected:!0,reason:e}):e})}function doAwait(e,t,n,r){var i=e;try{if(isPromiseLike(e))(t||n)&&(i=e.then(t,n));else try{t&&(i=t(e))}catch(a){if(!n)throw a;i=n(a)}}finally{r&&doFinally(i,r)}return i}function doFinally(e,t){var n=e;return t&&(isPromiseLike(e)?n=e["finally"]?e["finally"](t):e.then(function(e){return t(),e},function(e){throw t(),e}):t()),n}var _hasInitEvent,STRING_STATES=["pending","resolving","resolved",REJECTED],DISPATCH_EVENT="dispatchEvent";function _hasInitEventFn(e){var t;return!!(t=e&&e.createEvent?e.createEvent("Event"):t)&&t.initEvent}function emitEvent(e,t,n,r){var i=getDocument(),i=(_hasInitEvent=_hasInitEvent||createCachedValue(!!safe(_hasInitEventFn,[i]).v)).v?i.createEvent("Event"):r?new Event(t):{};n&&n(i),_hasInitEvent.v&&i.initEvent(t,!1,!0),i&&e[DISPATCH_EVENT]?e[DISPATCH_EVENT](i):(r=e["on"+t])?r(i):(n=getInst("console"))&&(n.error||n.log)(t,dumpObj(i))}var _hasPromiseRejectionEvent,_promiseCls,_allSyncSettledCreator,_promiseCreator,NODE_UNHANDLED_REJECTION="unhandledRejection",UNHANDLED_REJECTION=NODE_UNHANDLED_REJECTION.toLowerCase(),_unhandledRejectionTimeout=10;function dumpFnObj(e){return isFunction(e)?e.toString():dumpObj(e)}function _createPromise(e,t,n){var o,r,i=arrSlice(arguments,3),s=0,c=!1,u=[],l=!1,E=null;function a(a,_){return l=!0,E&&E.cancel(),E=null,e(function(r,i){u.push(function(){try{var e=2===s?a:_,t=isUndefined(e)?o:isFunction(e)?e(o):e;isPromiseLike(t)?t.then(r,i):(e||3!==s?r:i)(t)}catch(n){i(n)}}),c&&N()},i)}function _(){return STRING_STATES[s]}function N(){var e;0<u.length&&(e=u.slice(),u=[],l=!0,E&&E.cancel(),E=null,t(e))}function f(t,n){return function(e){if(s===n){if(2===t&&isPromiseLike(e))return s=1,void e.then(f(2,1),f(3,1));s=t,c=!0,o=e,N(),l||3!==t||E||(E=scheduleTimeout(D,_unhandledRejectionTimeout))}}}function D(){var e;l||(l=!0,isNode()?process.emit(NODE_UNHANDLED_REJECTION,o,r):(e=getWindow()||getGlobal(),_hasPromiseRejectionEvent=_hasPromiseRejectionEvent||createCachedValue(safe(getInst,[STR_PROMISE+"RejectionEvent"]).v),emitEvent(e,UNHANDLED_REJECTION,function(e){return objDefine(e,"promise",{g:function(){return r}}),e.reason=o,e},!!_hasPromiseRejectionEvent.v)))}objDefineProp(r={then:a,"catch":function(e){return a(undefined,e)},"finally":function(t){var e=t,n=t;return isFunction(t)&&(e=function(e){return t&&t(),e},n=function(e){throw t&&t(),e}),a(e,n)}},"state",{get:_}),hasSymbol()&&(r[getKnownSymbol(11)]="IPromise"),r.toString=function(){return"IPromise "+_()+(c?" - "+dumpFnObj(o):"")},isFunction(n)||throwTypeError(STR_PROMISE+": executor is not a function - "+dumpFnObj(n));var T=f(3,0);try{n.call(r,f(2,0),T)}catch(d){T(d)}return r}function _createAllPromise(n){return function(t){var e=arrSlice(arguments,1);return n(function(n,r){try{var i=[],a=1;iterForOf(t,function(e,t){e&&(a++,doAwait(e,function(e){i[t]=e,0==--a&&n(i)},r))}),0==--a&&n(i)}catch(e){r(e)}},e)}}function _createAllSettledPromise(t){return createCachedValue(function(_){var e=arrSlice(arguments,1);return t(function(n,e){var r=[],i=1;function t(e,t){i++,doAwaitResponse(e,function(e){e.rejected?r[t]={status:REJECTED,reason:e.reason}:r[t]={status:"fulfilled",value:e.value},0==--i&&n(r)})}try{isArray(_)?arrForEach(_,t):isIterable(_)?iterForOf(_,t):throwTypeError("Input is not an iterable"),0==--i&&n(r)}catch(a){e(a)}},e)})}function syncItemProcessor(e){arrForEach(e,function(e){try{e()}catch(t){}})}function timeoutItemProcessor(e){var t=isNumber(e)?e:0;return function(e){scheduleTimeout(function(){syncItemProcessor(e)},t)}}function createAsyncPromise(e,t){return _createPromise(createAsyncPromise,timeoutItemProcessor(t),e,t)}function createNativePromise(e,t){var n=(_promiseCls=_promiseCls||createCachedValue(safe(getInst,[STR_PROMISE]).v||null)).v;if(!n)return createAsyncPromise(e);isFunction(e)||throwTypeError(STR_PROMISE+": executor is not a function - "+dumpObj(e));var r=0,n=new n(function(t,n){e(function(e){r=2,t(e)},function(e){r=3,n(e)})});return objDefineProp(n,"state",{get:function(){return STRING_STATES[r]}}),n}function createSyncPromise(e){return _createPromise(createSyncPromise,syncItemProcessor,e)}function createSyncAllSettledPromise(e,t){return(_allSyncSettledCreator=_allSyncSettledCreator||_createAllSettledPromise(createSyncPromise)).v(e,t)}function createPromise(e,t){return(_promiseCreator=_promiseCreator||createCachedValue(createNativePromise)).v.call(this,e,t)}var createAllPromise=_createAllPromise(createPromise),UNDEFINED_VALUE$2=undefined,STR_EMPTY$1="",STR_CHANNELS="channels",STR_CORE="core",STR_CREATE_PERF_MGR="createPerfMgr",STR_DISABLED="disabled",STR_EXTENSION_CONFIG="extensionConfig",STR_EXTENSIONS="extensions",STR_PROCESS_TELEMETRY="processTelemetry",STR_PRIORITY="priority",STR_EVENTS_SENT="eventsSent",STR_EVENTS_DISCARDED="eventsDiscarded",STR_EVENTS_SEND_REQUEST="eventsSendRequest",STR_PERF_EVENT="perfEvent",STR_OFFLINE_STORE="offlineEventsStored",STR_OFFLINE_SENT="offlineBatchSent",STR_OFFLINE_DROP="offlineBatchDrop",STR_GET_PERF_MGR="getPerfMgr",STR_DOMAIN="domain",STR_PATH="path",STR_NOT_DYNAMIC_ERROR="Not dynamic - ",strGetPrototypeOf="getPrototypeOf",rCamelCase=/-([a-z])/g,rNormalizeInvalid=/([^\w\d_$])/g,rLeadingNumeric=/^(\d+[\w\d_$])/,_getObjProto=Object[strGetPrototypeOf];function isNotNullOrUndefined(e){return!isNullOrUndefined(e)}function normalizeJsName(e){return e&&isString(e)?(e=(e=e[_DYN_REPLACE](rCamelCase,function(e,t){return t.toUpperCase()}))[_DYN_REPLACE](rNormalizeInvalid,"_"))[_DYN_REPLACE](rLeadingNumeric,function(e,t){return"_"+t}):e}function strContains(e,t){return!(!e||!t)&&-1!==strIndexOf(e,t)}function toISOString(e){return e&&e.toISOString()||""}function getExceptionName(e){return isError(e)?e[_DYN_NAME$2]:STR_EMPTY$1}function setValue(e,t,n,r,i){var a=n;return!e||(a=e[t])===n||i&&!i(a)||r&&!r(n)||(e[t]=a=n),a}function getSetValue(e,t,n){var r;return e?!(r=e[t])&&isNullOrUndefined(r)&&(r=isUndefined(n)?{}:n,e[t]=r):r=isUndefined(n)?{}:n,r}function _createProxyFunction(e,t){var n=null,r=null;return isFunction(e)?n=e:r=e,function(){var e=arguments;if(r=n?n():r)return r[t][_DYN_APPLY](r,e)}}function proxyAssign(n,r,i){if(n&&r&&isObject(n)&&isObject(r))for(var e in r)!function(t){var e;isString(t)&&(e=r[t],isFunction(e)?i&&!i(t,!0,r,n)||(n[t]=_createProxyFunction(r,t)):i&&!i(t,!1,r,n)||(objHasOwn(n,t)&&delete n[t],objDefine(n,t,{g:function(){return r[t]},s:function(e){r[t]=e}})))}(e);return n}function proxyFunctionAs(e,t,n,r,i){e&&t&&n&&(!1===i&&!isUndefined(e[t])||(e[t]=_createProxyFunction(n,r)))}function proxyFunctions(t,n,e,r){return t&&n&&isObject(t)&&isArray(e)&&arrForEach(e,function(e){isString(e)&&proxyFunctionAs(t,e,n,e,r)}),t}function createClassFromInterface(e){return function(){var n=this;e&&objForEachKey(e,function(e,t){n[e]=t})}}function optimizeObject(e){return e&&objAssign?ObjClass(objAssign({},e)):e}function objExtend(e,t,n,r,i,a){var _=arguments,o=_[0]||{},s=_[_DYN_LENGTH$4],c=!1,u=1;for(0<s&&isBoolean(o)&&(c=o,o=_[u]||{},u++),isObject(o)||(o={});u<s;u++){var l,E,N,f,D=_[u],T=isArray(D),d=isObject(D);for(l in D)(T&&l in D||d&&objHasOwn(D,l))&&(E=D[l],N=void 0,c&&E&&((N=isArray(E))||isPlainObject(E))&&(f=o[l],N?isArray(f)||(f=[]):isPlainObject(f)||(f={}),E=objExtend(c,f,E)),E!==undefined&&(o[l]=E))}return o}function isFeatureEnabled(e,t,n){t=t&&t.featureOptIn&&t.featureOptIn[e];if(e&&t){e=t.mode;if(3===e)return!0;if(2===e)return!1}return n}function getResponseText(e){try{return e.responseText}catch(t){}return null}function formatErrorMessageXdr(e,t){return e?"XDomainRequest,Response:"+getResponseText(e)||"":t}function formatErrorMessageXhr(e,t){return e?"XMLHttpRequest,Status:"+e[_DYN_STATUS$1]+",Response:"+getResponseText(e)||e.response||"":t}function prependTransports(e,t){return t&&(isNumber(t)?e=[t].concat(e):isArray(t)&&(e=t.concat(e))),e}var strDisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",strWithCredentials="withCredentials",strTimeout="timeout";function openXhr(e,t,n,r,i,a){function _(e,t,n){try{e[t]=n}catch(r){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var o=new XMLHttpRequest;return r&&_(o,strDisabledPropertyName,r),n&&_(o,strWithCredentials,n),o.open(e,t,!i),n&&_(o,strWithCredentials,n),!i&&a&&_(o,strTimeout,a),o}function convertAllHeadersToMap(e){var r={};return isString(e)&&arrForEach(strTrim(e)[_DYN_SPLIT$1](/[\r\n]+/),function(e){var t,n;e&&(-1!==(n=e[_DYN_INDEX_OF](": "))?(t=strTrim(e.substring(0,n))[_DYN_TO_LOWER_CASE$2](),n=strTrim(e.substring(n+1)),r[t]=n):r[strTrim(e)]=1)}),r}function _appendHeader(e,t,n){return!e[n]&&t&&t.getResponseHeader&&(t=t.getResponseHeader(n))&&(e[n]=strTrim(t)),e}var STR_KILL_DURATION_HEADER="kill-duration",STR_KILL_DURATION_SECONDS_HEADER="kill-duration-seconds",STR_TIME_DELTA_HEADER="time-delta-millis";function _getAllResponseHeaders(e,t){var n={};return e[_DYN_GET_ALL_RESPONSE_HEA5]?n=convertAllHeadersToMap(e[_DYN_GET_ALL_RESPONSE_HEA5]()):t&&(n=_appendHeader(n,e,STR_TIME_DELTA_HEADER),n=_appendHeader(n,e,STR_KILL_DURATION_HEADER),n=_appendHeader(n,e,STR_KILL_DURATION_SECONDS_HEADER)),n}var strDocumentMode="documentMode",strLocation="location",strConsole="console",strJSON="JSON",strCrypto="crypto",strMsCrypto="msCrypto",strReactNative="ReactNative",strMsie="msie",strTrident="trident/",strXMLHttpRequest="XMLHttpRequest",_isTrident=null,_navUserAgentCheck=null,_enableMocks=!1,_useXDomainRequest=null,_beaconsSupported=null;function _hasProperty(e,t){var n,r=!1;if(e){try{(r=t in e)||(n=e[strShimPrototype])&&(r=t in n)}catch(i){}if(!r)try{r=!isUndefined((new e)[t])}catch(i){}}return r}function getLocation(e){if(e&&_enableMocks){e=getInst("__mockLocation");if(e)return e}return typeof location===strShimObject&&location?location:getInst(strLocation)}function getConsole(){return typeof console!==strShimUndefined?console:getInst(strConsole)}function hasJSON(){return!!(typeof JSON===strShimObject&&JSON||null!==getInst(strJSON))}function getJSON(){return hasJSON()?JSON||getInst(strJSON):null}function getCrypto(){return getInst(strCrypto)}function getMsCrypto(){return getInst(strMsCrypto)}function isReactNative(){var e=getNavigator();return!(!e||!e.product)&&e.product===strReactNative}function isIE(){var e=getNavigator();return!e||e[_DYN_USER_AGENT]===_navUserAgentCheck&&null!==_isTrident||(e=((_navUserAgentCheck=e[_DYN_USER_AGENT])||STR_EMPTY$1)[_DYN_TO_LOWER_CASE$2](),_isTrident=strContains(e,strMsie)||strContains(e,strTrident)),_isTrident}function getIEVersion(e){var t=((e=(e=void 0===e?null:e)?e:(t=getNavigator()||{})?(t.userAgent||STR_EMPTY$1)[_DYN_TO_LOWER_CASE$2]():STR_EMPTY$1)||STR_EMPTY$1)[_DYN_TO_LOWER_CASE$2]();if(strContains(t,strMsie))return e=getDocument()||{},mathMax(parseInt(t[_DYN_SPLIT$1](strMsie)[1]),e[strDocumentMode]||0);if(strContains(t,strTrident)){e=parseInt(t[_DYN_SPLIT$1](strTrident)[1]);if(e)return e+4}return null}function isBeaconsSupported(e){return _beaconsSupported=null!==_beaconsSupported&&!1!==e?_beaconsSupported:hasNavigator()&&!!getNavigator().sendBeacon}function isFetchSupported(e){var t=!1;try{var t=!!getInst("fetch"),n=getInst("Request");t&&e&&n&&(t=_hasProperty(n,"keepalive"))}catch(r){}return t}function useXDomainRequest(){return _useXDomainRequest=null===_useXDomainRequest&&(_useXDomainRequest=typeof XDomainRequest!==strShimUndefined)&&isXhrSupported()?_useXDomainRequest&&!_hasProperty(getInst(strXMLHttpRequest),"withCredentials"):_useXDomainRequest}function isXhrSupported(){var e=!1;try{e=!!getInst(strXMLHttpRequest)}catch(t){}return e}function _getNamedValue(e,t){if(e)for(var n=0;n<e[_DYN_LENGTH$4];n++){var r=e[n];if(r[_DYN_NAME$2]&&r[_DYN_NAME$2]===t)return r}return{}}function findMetaTag(e){var t=getDocument();return t&&e?_getNamedValue(t.querySelectorAll("meta"),e).content:null}function findNamedServerTiming(e){var t=getPerformance();return t?_getNamedValue((0<(t=t.getEntriesByType("navigation")||[])[_DYN_LENGTH$4]?t[0]:{}).serverTiming,e).description:void 0}function dispatchEvent(e,t){return!!(e&&e.dispatchEvent&&t)&&(e.dispatchEvent(t),!0)}function createCustomDomEvent(e,t){var n,r=null,t={detail:t||null};return isFunction(CustomEvent)?r=new CustomEvent(e,t):(n=getDocument())&&n.createEvent&&(r=n.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),r}function sendCustomEvent(e,t,n){var r=getGlobal();if(r&&r.CustomEvent)try{return dispatchEvent(r,createCustomDomEvent(e,{cfg:t||null,customDetails:n||null}))}catch(i){}return!1}var UInt32Mask=4294967296,MaxUInt32=4294967295,SEED1=123456789,SEED2=987654321,_mwcSeeded=!1,_mwcW=SEED1,_mwcZ=SEED2;function _mwcSeed(e){e<0&&(e>>>=0),_mwcW=SEED1+e&MaxUInt32,_mwcZ=SEED2-e&MaxUInt32,_mwcSeeded=!0}function _autoSeedMwc(){try{var e=2147483647&utcNow();_mwcSeed((Math.random()*UInt32Mask^e)+e)}catch(t){}}function randomValue(e){return 0<e?mathFloor(random32()/MaxUInt32*(e+1))>>>0:0}function random32(e){var t=0,n=getCrypto()||getMsCrypto();return 0===(t=n&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&MaxUInt32:t)&&isIE()&&(_mwcSeeded||_autoSeedMwc(),t=mwcRandom32()&MaxUInt32),0===t&&(t=mathFloor(UInt32Mask*Math.random()|0)),e||(t>>>=0),t}function mwcRandom32(e){var t=((_mwcZ=36969*(65535&_mwcZ)+(_mwcZ>>16)&MaxUInt32)<<16)+(65535&(_mwcW=18e3*(65535&_mwcW)+(_mwcW>>16)&MaxUInt32))>>>0&MaxUInt32|0;return e||(t>>>=0),t}function newId(e){void 0===e&&(e=22);for(var t=random32()>>>0,n=0,r=STR_EMPTY$1;r[_DYN_LENGTH$4]<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(random32()<<2&4294967295|3&t)>>>0,n=0);return r}var version="3.3.9",instanceName="."+newId(6),_dataUid=0;function _canAcceptData(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function _getCache(e,t){var n=t[e.id];if(!n){n={};try{_canAcceptData(t)&&objDefine(t,e.id,{e:!1,v:n})}catch(r){}}return n}function createUniqueNamespace(e,t){return normalizeJsName(e+_dataUid+++((t=void 0!==t&&t)?"."+version:STR_EMPTY$1)+instanceName)}function createElmNodeData(e){var a={id:createUniqueNamespace("_aiData-"+(e||STR_EMPTY$1)+"."+version),accept:function(e){return _canAcceptData(e)},get:function(e,t,n,r){var i=e[a.id];return i?i[normalizeJsName(t)]:(r&&((i=_getCache(a,e))[normalizeJsName(t)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(n){}}};return a}function _isConfigDefaults(e){return e&&isObject(e)&&!isArray(e)&&(e.isVal||e.fb||objHasOwn(e,"v")||objHasOwn(e,"mrg")||objHasOwn(e,"ref")||e.set)}function _getDefault(e,t,n){var r,i=n.dfVal||isDefined;if(t&&n.fb){var a=n.fb;isArray(a)||(a=[a]);for(var _=0;_<a[_DYN_LENGTH$4];_++){var o=a[_],s=t[o];if(i(s)?r=s:e&&(i(s=e.cfg[o])&&(r=s),e.set(e.cfg,asString(o),s)),i(r))break}}return!i(r)&&i(n.v)?n.v:r}function _resolveDefaultValue(n,r,e){var i,t=e;return(t=e&&_isConfigDefaults(e)?_getDefault(n,r,e):t)&&(_isConfigDefaults(t)&&(t=_resolveDefaultValue(n,r,t)),isArray(t)?(i=[])[_DYN_LENGTH$4]=t[_DYN_LENGTH$4]:isPlainObject(t)&&(i={}),i&&(objForEachKey(t,function(e,t){t&&_isConfigDefaults(t)&&(t=_resolveDefaultValue(n,r,t)),i[e]=t}),t=i)),t}function _applyDefaultValue(n,e,t,r){var i,a,_,o,s,c,u=r,u=_isConfigDefaults(u)?(i=u.isVal,a=u.set,s=u.rdOnly,l=u.blkVal,_=u.mrg,!(o=u.ref)&&isUndefined(o)&&(o=!!_),_getDefault(n,e,u)):r,r=(l&&n.blkVal(e,t),!0),l=e[t];!l&&isNullOrUndefined(l)||(c=l,r=!1,i&&c!==u&&!i(c)&&(c=u,r=!0),a&&(r=(c=a(c,u,e))===u)),r?c=u&&_resolveDefaultValue(n,e,u):(isPlainObject(c)||isArray(u))&&_&&u&&(isPlainObject(u)||isArray(u))&&objForEachKey(u,function(e,t){_applyDefaultValue(n,c,e,t)}),n.set(e,t,c),o&&n.ref(e,t),s&&n.rdOnly(e,t)}var CFG_HANDLER_LINK=symbolFor("[[ai_dynCfg_1]]"),BLOCK_DYNAMIC=symbolFor("[[ai_blkDynCfg_1]]"),FORCE_DYNAMIC=symbolFor("[[ai_frcDynCfg_1]]");function _cfgDeepCopy(e){var n;return e&&(isArray(e)?(n=[])[_DYN_LENGTH$4]=e[_DYN_LENGTH$4]:isPlainObject(e)&&(n={}),n)?(objForEachKey(e,function(e,t){n[e]=_cfgDeepCopy(t)}),n):e}function getDynamicConfigHandler(e){if(e){var t=e[CFG_HANDLER_LINK]||e;if(t.cfg&&(t.cfg===e||t.cfg[CFG_HANDLER_LINK]===t))return t}return null}function blockDynamicConversion(e){if(e&&(isPlainObject(e)||isArray(e)))try{e[BLOCK_DYNAMIC]=!0}catch(t){}return e}function _canMakeDynamic(e,t,n){var r=!1;return!n||e[t.blkVal]||(r=n[FORCE_DYNAMIC])||n[BLOCK_DYNAMIC]?r:isPlainObject(n)||isArray(n)}function throwInvalidAccess(e){throwTypeError("InvalidAccess:"+e)}var arrayMethodsToPatch=["push","pop","shift","unshift","splice"],_throwDynamicError=function(e,t,n,r){e&&e[_DYN_THROW_INTERNAL](3,108,"".concat(n," [").concat(t,"] failed - ")+dumpObj(r))};function _patchArray(i,a,_){isArray(a)&&arrForEach(arrayMethodsToPatch,function(e){var r=a[e];a[e]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r[_DYN_APPLY](this,e);return _makeDynamicObject(i,a,_,"Patching"),n}})}function _getOwnPropGetter(e,t){e=objGetOwnPropertyDescriptor(e,t);return e&&e.get}function _createDynamicProperty(i,a,_,o){var s={n:_,h:[],trk:function(e){e&&e.fn&&(-1===arrIndexOf(s.h,e)&&s.h[_DYN_PUSH$1](e),i.trk(e,s))},clr:function(e){e=arrIndexOf(s.h,e);-1!==e&&s.h[_DYN_SPLICE](e,1)}},c=!0,u=!1;function l(){c&&(u=u||_canMakeDynamic(l,i,o),o&&!o[CFG_HANDLER_LINK]&&u&&(o=_makeDynamicObject(i,o,_,"Converting")),c=!1);var e=i.act;return e&&s.trk(e),o}l[i.prop]={chng:function(){i.add(s)}},objDefine(a,s.n,{g:l,s:function(t){if(o!==t){l[i.ro]&&!i.upd&&throwInvalidAccess("["+_+"] is read-only:"+dumpObj(a)),c&&(u=u||_canMakeDynamic(l,i,o),c=!1);var e,n=u&&l[i.rf];if(u)if(n){objForEachKey(o,function(e){o[e]=t?t[e]:UNDEFINED_VALUE$2});try{objForEachKey(t,function(e,t){_setDynamicProperty(i,o,e,t)}),t=o}catch(r){_throwDynamicError((i.hdlr||{})[_DYN_LOGGER],_,"Assigning",r),u=!1}}else o&&o[CFG_HANDLER_LINK]&&objForEachKey(o,function(e){var e=_getOwnPropGetter(o,e);e&&(e=e[i.prop])&&e.chng()});t!==o&&(e=t&&_canMakeDynamic(l,i,t),!n&&e&&(t=_makeDynamicObject(i,t,_,"Converting")),o=t,u=e),i.add(s)}}})}function _setDynamicProperty(e,t,n,r){var i;return t&&((i=_getOwnPropGetter(t,n))&&i[e.prop]?t[n]=r:_createDynamicProperty(e,t,n,r)),t}function _setDynamicPropertyState(e,t,n,r){if(t){var i=_getOwnPropGetter(t,n),a=i&&!!i[e.prop],_=r&&r[0],o=r&&r[1],r=r&&r[2];if(!a){if(r)try{blockDynamicConversion(t)}catch(s){_throwDynamicError((e.hdlr||{})[_DYN_LOGGER],n,"Blocking",s)}try{_setDynamicProperty(e,t,n,t[n]),i=_getOwnPropGetter(t,n)}catch(s){_throwDynamicError((e.hdlr||{})[_DYN_LOGGER],n,"State",s)}}_&&(i[e.rf]=_),o&&(i[e.ro]=o),r&&(i[e.blkVal]=!0)}return t}function _makeDynamicObject(n,r,e,t){try{objForEachKey(r,function(e,t){_setDynamicProperty(n,r,e,t)}),r[CFG_HANDLER_LINK]||(objDefineProp(r,CFG_HANDLER_LINK,{get:function(){return n.hdlr}}),_patchArray(n,r,e))}catch(i){_throwDynamicError((n.hdlr||{})[_DYN_LOGGER],e,t,i)}return r}var symPrefix="[[ai_",symPostfix="]]";function _createState(a){var _,e=newSymbol(symPrefix+"get"+a.uid+symPostfix),t=newSymbol(symPrefix+"ro"+a.uid+symPostfix),n=newSymbol(symPrefix+"rf"+a.uid+symPostfix),r=newSymbol(symPrefix+"blkVal"+a.uid+symPostfix),o=newSymbol(symPrefix+"dtl"+a.uid+symPostfix),i=null,s=null;function c(t,e){var n=_.act;try{(_.act=t)&&t[o]&&(arrForEach(t[o],function(e){e.clr(t)}),t[o]=[]),e({cfg:a.cfg,set:a.set.bind(a),setDf:a.setDf.bind(a),ref:a.ref.bind(a),rdOnly:a.rdOnly.bind(a)})}catch(i){var r=a[_DYN_LOGGER];throw r&&r[_DYN_THROW_INTERNAL](1,107,dumpObj(i)),i}finally{_.act=n||null}}function u(){if(i){var e=i,n=(i=null,s&&s[_DYN_CANCEL](),s=null,[]);if(arrForEach(e,function(t){if(t&&(t[o]&&(arrForEach(t[o],function(e){e.clr(t)}),t[o]=null),t.fn))try{c(t,t.fn)}catch(e){n[_DYN_PUSH$1](e)}}),i)try{u()}catch(t){n[_DYN_PUSH$1](t)}0<n[_DYN_LENGTH$4]&&throwAggregationError("Watcher error(s): ",n)}}return _={prop:e,ro:t,rf:n,blkVal:r,hdlr:a,add:function(e){if(e&&0<e.h[_DYN_LENGTH$4]){i=i||[],s=s||scheduleTimeout(function(){s=null,u()},0);for(var t=0;t<e.h[_DYN_LENGTH$4];t++){var n=e.h[t];n&&-1===arrIndexOf(i,n)&&i[_DYN_PUSH$1](n)}}},notify:u,use:c,trk:function(e,t){e&&(e=e[o]=e[o]||[],-1===arrIndexOf(e,t)&&e[_DYN_PUSH$1](t))}}}function _createAndUseHandler(e,t){var n={fn:t,rm:function(){n.fn=null,t=e=null}};return objDefine(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),e.use(n,t),n}function _createDynamicHandler(i,e,t){var n=getDynamicConfigHandler(e);if(n)return n;var a,n=createUniqueNamespace("dyncfg",!0),t=e&&!1!==t?e:_cfgDeepCopy(e),r={uid:null,cfg:t,logger:i,notify:function(){a.notify()},set:function(e,t,n){try{e=_setDynamicProperty(a,e,t,n)}catch(r){_throwDynamicError(i,t,"Setting value",r)}return e[t]},setDf:function(n,e){return e&&objForEachKey(e,function(e,t){_applyDefaultValue(r,n,e,t)}),n},watch:function(e){return _createAndUseHandler(a,e)},ref:function(e,t){return _setDynamicPropertyState(a,e,t,((e={})[0]=!0,e))[t]},rdOnly:function(e,t){return _setDynamicPropertyState(a,e,t,((e={})[1]=!0,e))[t]},blkVal:function(e,t){return _setDynamicPropertyState(a,e,t,((e={})[2]=!0,e))[t]},_block:function(n,r){a.use(null,function(e){var t=a.upd;try{isUndefined(r)||(a.upd=r),n(e)}finally{a.upd=t}})}};return objDefine(r,"uid",{c:!1,e:!1,w:!1,v:n}),_makeDynamicObject(a=_createState(r),t,"config","Creating"),r}function _logInvalidAccess(e,t){e?(e[_DYN_WARN_TO_CONSOLE](t),e[_DYN_THROW_INTERNAL](2,108,t)):throwInvalidAccess(t)}function createDynamicConfig(e,t,n,r){n=_createDynamicHandler(n,e||{},r);return t&&n.setDf(n.cfg,t),n}function onConfigChange(e,t,n){var r=e[CFG_HANDLER_LINK]||e;return!r.cfg||r.cfg!==e&&r.cfg[CFG_HANDLER_LINK]!==r?(_logInvalidAccess(n,STR_NOT_DYNAMIC_ERROR+dumpObj(e)),createDynamicConfig(e,null,n)[_DYN_WATCH](t)):r[_DYN_WATCH](t)}function runTargetUnload(e,t){if(e&&e[_DYN_UNLOAD])return e[_DYN_UNLOAD](t)}function doUnloadAll(e,t,n){var r;return n||(r=createPromise(function(e){n=e})),e&&0<getLength(e)?doAwaitResponse(runTargetUnload(e[0],t),function(){doUnloadAll(arrSlice(e,1),t,n)}):n(),r}var ChannelControllerPriority=500,DisabledPropertyName$1="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function _stringToBoolOrDefault(e,t,n){return!e&&isNullOrUndefined(e)?t:isBoolean(e)?e:"true"===asString(e)[_DYN_TO_LOWER_CASE$2]()}function cfgDfMerge(e){return{mrg:!0,v:e}}function cfgDfSet(e,t){return{set:e,v:t}}function cfgDfValidate(e,t,n){return{fb:n,isVal:e,v:t}}function cfgDfBoolean(e,t){return{fb:t,set:_stringToBoolOrDefault,v:!!e}}function cfgDfString(e){return{isVal:isString,v:asString(e||STR_EMPTY$1)}}var _debugListener,_a$9,listenerFuncs=[STR_EVENTS_SENT,STR_EVENTS_DISCARDED,STR_EVENTS_SEND_REQUEST,STR_PERF_EVENT],_aiNamespace=null;function _listenerProxyFunc(n,r){return function(){var e=arguments,t=getDebugExt(r);t&&(t=t.listener)&&t[n]&&t[n][_DYN_APPLY](t,e)}}function _getExtensionNamespace(){var e=getInst("Microsoft");return _aiNamespace=e?e.ApplicationInsights:_aiNamespace}function getDebugExt(e){var t=_aiNamespace;return(t=t||!0===e.disableDbgExt?t:_aiNamespace||_getExtensionNamespace())?t.ChromeDbgExt:null}function getDebugListener(e){if(!_debugListener){_debugListener={};for(var t=0;t<listenerFuncs[_DYN_LENGTH$4];t++)_debugListener[listenerFuncs[t]]=_listenerProxyFunc(listenerFuncs[t],e)}return _debugListener}var STR_WARN_TO_CONSOLE="warnToConsole",AiNonUserActionablePrefix="AI (Internal): ",AiUserActionablePrefix="AI: ",AIInternalMessagePrefix="AITR_",defaultValues$3={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},_logFuncs=((_a$9={})[0]=null,_a$9[1]="errorToConsole",_a$9[2]=STR_WARN_TO_CONSOLE,_a$9[3]="debugToConsole",_a$9);function _sanitizeDiagnosticText(e){return e?'"'+e[_DYN_REPLACE](/\"/g,STR_EMPTY$1)+'"':STR_EMPTY$1}function _logToConsole(e,t){var n,r=getConsole();r&&(n="log",r[e]&&(n=e),isFunction(r[n])&&r[n](t))}var _InternalLogMessage=function(){function e(e,t,n,r){void 0===n&&(n=!1),this[_DYN_MESSAGE_ID]=e,this[_DYN_MESSAGE$1]=(n?AiUserActionablePrefix:AiNonUserActionablePrefix)+e;n=STR_EMPTY$1,hasJSON()&&(n=getJSON().stringify(r)),e=(t?" message:"+_sanitizeDiagnosticText(t):STR_EMPTY$1)+(r?" props:"+_sanitizeDiagnosticText(n):STR_EMPTY$1);this[_DYN_MESSAGE$1]+=e}return e.dataType="MessageData",e}();function safeGetLogger(e,t){return(e||{})[_DYN_LOGGER]||new DiagnosticLogger(t)}var _a$8,_b$2,DiagnosticLogger=function(){function e(r){this.identifier="DiagnosticLogger",this.queue=[];var s,i,c,u,t,l=0,E={};dynamicProto(e,this,function(a){function _(e,t){var n,r;c<=l||(r=!0,n=AIInternalMessagePrefix+t[_DYN_MESSAGE_ID],E[n]?r=!1:E[n]=!0,r&&(e<=i&&(a.queue[_DYN_PUSH$1](t),l++,o(1===e?"error":"warn",t)),l===c&&(r=new _InternalLogMessage(23,n="Internal events throttle limit per PageView reached for this app.",!1),a.queue[_DYN_PUSH$1](r),1===e?a.errorToConsole(n):a[_DYN_WARN_TO_CONSOLE](n))))}function o(e,t){var n=getDebugExt(r||{});n&&n[_DYN_DIAG_LOG$2]&&n[_DYN_DIAG_LOG$2](e,t)}t=onConfigChange(createDynamicConfig(r||{},defaultValues$3,a).cfg,function(e){e=e.cfg;s=e[_DYN_LOGGING_LEVEL_CONSOL4],i=e.loggingLevelTelemetry,c=e.maxMessageLimit,u=e.enableDebug}),a.consoleLoggingLevel=function(){return s},a[_DYN_THROW_INTERNAL]=function(e,t,n,r,i){t=new _InternalLogMessage(t,n,i=void 0!==i&&i,r);if(u)throw dumpObj(t);n=_logFuncs[e]||STR_WARN_TO_CONSOLE;isUndefined(t[_DYN_MESSAGE$1])?o("throw"+(1===e?"Critical":"Warning"),t):(i?(r=+t[_DYN_MESSAGE_ID],!E[r]&&e<=s&&(a[n](t[_DYN_MESSAGE$1]),E[r]=!0)):e<=s&&a[n](t[_DYN_MESSAGE$1]),_(e,t))},a.debugToConsole=function(e){_logToConsole("debug",e),o("warning",e)},a[_DYN_WARN_TO_CONSOLE]=function(e){_logToConsole("warn",e),o("warning",e)},a.errorToConsole=function(e){_logToConsole("error",e),o("error",e)},a.resetInternalMessageCount=function(){l=0,E={}},a.logInternalMessage=_,a[_DYN_UNLOAD]=function(e){t&&t.rm(),t=null}})}return e.__ieDyn=1,e}();function _getLogger(e){return e||new DiagnosticLogger}function _throwInternal(e,t,n,r,i,a){void 0===a&&(a=!1),_getLogger(e)[_DYN_THROW_INTERNAL](t,n,r,i,a)}function _warnToConsole(e,t){_getLogger(e)[_DYN_WARN_TO_CONSOLE](t)}function _logInternalMessage(e,t,n){_getLogger(e).logInternalMessage(t,n)}var _doc,strToGMTString="toGMTString",strToUTCString="toUTCString",strCookie="cookie",strExpires="expires",strIsCookieUseDisabled="isCookieUseDisabled",strDisableCookiesUsage="disableCookiesUsage",strConfigCookieMgr="_ckMgr",_supportsCookies=null,_allowUaSameSite=null,_parsedCookieValue=null,_cookieCache={},_globalCookieConfig={},rootDefaultConfig=((_a$8={cookieCfg:cfgDfMerge(((_b$2={})[STR_DOMAIN]={fb:"cookieDomain",dfVal:isNotNullOrUndefined},_b$2.path={fb:"cookiePath",dfVal:isNotNullOrUndefined},_b$2.enabled=UNDEFINED_VALUE$2,_b$2.ignoreCookies=UNDEFINED_VALUE$2,_b$2.blockedCookies=UNDEFINED_VALUE$2,_b$2)),cookieDomain:UNDEFINED_VALUE$2,cookiePath:UNDEFINED_VALUE$2})[strDisableCookiesUsage]=UNDEFINED_VALUE$2,_a$8);function _getDoc(){_doc=_doc||getLazy(function(){return getDocument()})}function _gblCookieMgr(e,t){var n=createCookieMgr[strConfigCookieMgr]||_globalCookieConfig[strConfigCookieMgr];return n||(n=createCookieMgr[strConfigCookieMgr]=createCookieMgr(e,t),_globalCookieConfig[strConfigCookieMgr]=n),n}function _isMgrEnabled(e){return!e||e.isEnabled()}function _isIgnoredCookie(e,t){return!!(t&&e&&isArray(e.ignoreCookies))&&-1!==arrIndexOf(e.ignoreCookies,t)}function _isBlockedCookie(e,t){return!!(t&&e&&isArray(e.blockedCookies)&&-1!==arrIndexOf(e.blockedCookies,t))||_isIgnoredCookie(e,t)}function _isCfgEnabled(e,t){var n,t=t[_DYN_ENABLED];return isNullOrUndefined(t)&&(n=void 0,isUndefined(e[strIsCookieUseDisabled])||(n=!e[strIsCookieUseDisabled]),t=n=isUndefined(e[strDisableCookiesUsage])?n:!e[strDisableCookiesUsage]),t}function safeGetCookieMgr(e,t){var n,r;return e?r=e.getCookieMgr():t&&(r=(n=t.cookieCfg)&&n[strConfigCookieMgr]?n[strConfigCookieMgr]:createCookieMgr(t)),r||_gblCookieMgr(t,(e||{})[_DYN_LOGGER])}function createCookieMgr(n,i){var c,u,l,r,a,E,_,t=onConfigChange(n=createDynamicConfig(n||_globalCookieConfig,null,i).cfg,function(e){e.setDf(e.cfg,rootDefaultConfig),c=e.ref(e.cfg,"cookieCfg"),u=c[STR_PATH]||"/",l=c[STR_DOMAIN],r=!1!==_isCfgEnabled(n,c),a=c.getCookie||_getCookieValue,E=c.setCookie||_setCookieValue,_=c.delCookie||_setCookieValue},i),N={isEnabled:function(){var e=!1!==_isCfgEnabled(n,c)&&r&&areCookiesSupported(i),t=_globalCookieConfig[strConfigCookieMgr];return e&&t&&N!==t?_isMgrEnabled(t):e},setEnabled:function(e){r=!1!==e,c[_DYN_ENABLED]=e},set:function(e,t,n,r,i){var a,_,o,s=!1;return _isMgrEnabled(N)&&!_isBlockedCookie(c,e)&&(a={},_=strTrim(t||STR_EMPTY$1),-1!==(o=strIndexOf(_,";"))&&(_=strTrim(strLeft(t,o)),a=_extractParts(strSubstring(t,o+1))),setValue(a,STR_DOMAIN,r||l,isTruthy,isUndefined),isNullOrUndefined(n)||(t=isIE(),isUndefined(a[strExpires])&&0<(o=utcNow()+1e3*n)&&((r=new Date).setTime(o),setValue(a,strExpires,_formatDate(r,t?strToGMTString:strToUTCString)||_formatDate(r,t?strToGMTString:strToUTCString)||STR_EMPTY$1,isTruthy)),t||setValue(a,"max-age",STR_EMPTY$1+n,null,isUndefined)),(o=getLocation())&&"https:"===o.protocol&&(setValue(a,"secure",null,null,isUndefined),(_allowUaSameSite=null===_allowUaSameSite?!uaDisallowsSameSiteNone((getNavigator()||{})[_DYN_USER_AGENT]):_allowUaSameSite)&&setValue(a,"SameSite","None",null,isUndefined)),setValue(a,STR_PATH,i||u,null,isUndefined),E(e,_formatCookieValue(_,a)),s=!0),s},get:function(e){var t=STR_EMPTY$1;return _isMgrEnabled(N)&&!_isIgnoredCookie(c,e)?a(e):t},del:function(e,t){return!!_isMgrEnabled(N)&&N.purge(e,t)},purge:function(e,t){var n,r=!1;return areCookiesSupported(i)&&((n={})[STR_PATH]=t||"/",n[strExpires]="Thu, 01 Jan 1970 00:00:01 GMT",t=n,isIE()||(t["max-age"]="0"),_(e,_formatCookieValue(STR_EMPTY$1,t)),r=!0),r},unload:function(e){t&&t.rm(),t=null}};return N[strConfigCookieMgr]=N}function areCookiesSupported(e){if(null===_supportsCookies){_supportsCookies=!1,_doc||_getDoc();try{var t=_doc.v||{};_supportsCookies=t[strCookie]!==undefined}catch(n){_throwInternal(e,2,68,"Cannot access document.cookie - "+getExceptionName(n),{exception:dumpObj(n)})}}return _supportsCookies}function _extractParts(e){var n={};return e&&e[_DYN_LENGTH$4]&&arrForEach(strTrim(e)[_DYN_SPLIT$1](";"),function(e){var t;(e=strTrim(e||STR_EMPTY$1))&&(-1===(t=strIndexOf(e,"="))?n[e]=null:n[strTrim(strLeft(e,t))]=strTrim(strSubstring(e,t+1)))}),n}function _formatDate(e,t){return isFunction(e[t])?e[t]():null}function _formatCookieValue(e,t){var n=e||STR_EMPTY$1;return objForEachKey(t,function(e,t){n+="; "+e+(isNullOrUndefined(t)?STR_EMPTY$1:"="+t)}),n}function _getCookieValue(e){var t,n=STR_EMPTY$1;return _doc||_getDoc(),_doc.v&&(t=_doc.v[strCookie]||STR_EMPTY$1,_parsedCookieValue!==t&&(_cookieCache=_extractParts(t),_parsedCookieValue=t),n=strTrim(_cookieCache[e]||STR_EMPTY$1)),n}function _setCookieValue(e,t){_doc||_getDoc(),_doc.v&&(_doc.v[strCookie]=e+"="+t)}function uaDisallowsSameSiteNone(e){return!(!isString(e)||!strContains(e,"CPU iPhone OS 12")&&!strContains(e,"iPad; CPU OS 12")&&!(strContains(e,"Macintosh; Intel Mac OS X 10_14")&&strContains(e,"Version/")&&strContains(e,"Safari"))&&(!strContains(e,"Macintosh; Intel Mac OS X 10_14")||!strEndsWith(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!strContains(e,"Chrome/5")&&!strContains(e,"Chrome/6")&&(!strContains(e,"UnrealEngine")||strContains(e,"Chrome"))&&!strContains(e,"UCBrowser/12")&&!strContains(e,"UCBrowser/11"))}var defaultValues$2={perfEvtsSendAll:!1};function _runScheduledListeners(e){e.h=null;var t=e.cb;e.cb=[],arrForEach(t,function(e){safe(e.fn,[e.arg])})}function _runListeners(e,t,n,r){arrForEach(e,function(e){e&&e[t]&&(n?(n.cb[_DYN_PUSH$1]({fn:r,arg:e}),n.h=n.h||scheduleTimeout(_runScheduledListeners,0,n)):safe(r,[e]))})}var NotificationManager=function(){function t(e){this.listeners=[];var n,i=[],a={h:null,cb:[]},_=createDynamicConfig(e,defaultValues$2)[_DYN_WATCH](function(e){n=!!e.cfg.perfEvtsSendAll});dynamicProto(t,this,function(e){objDefine(e,"listeners",{g:function(){return i}}),e[_DYN_ADD_NOTIFICATION_LIS1]=function(e){i[_DYN_PUSH$1](e)},e[_DYN_REMOVE_NOTIFICATION_0]=function(e){for(var t=arrIndexOf(i,e);-1<t;)i[_DYN_SPLICE](t,1),t=arrIndexOf(i,e)},e[STR_EVENTS_SENT]=function(t){_runListeners(i,STR_EVENTS_SENT,a,function(e){e[STR_EVENTS_SENT](t)})},e[STR_EVENTS_DISCARDED]=function(t,n){_runListeners(i,STR_EVENTS_DISCARDED,a,function(e){e[STR_EVENTS_DISCARDED](t,n)})},e[STR_EVENTS_SEND_REQUEST]=function(t,n){_runListeners(i,STR_EVENTS_SEND_REQUEST,n?a:null,function(e){e[STR_EVENTS_SEND_REQUEST](t,n)})},e[STR_PERF_EVENT]=function(t){!t||!n&&t[_DYN_IS_CHILD_EVT]()||_runListeners(i,STR_PERF_EVENT,null,function(e){t.isAsync?scheduleTimeout(function(){return e[STR_PERF_EVENT](t)},0):e[STR_PERF_EVENT](t)})},e[STR_OFFLINE_STORE]=function(t){t&&t[_DYN_LENGTH$4]&&_runListeners(i,STR_OFFLINE_STORE,a,function(e){e[STR_OFFLINE_STORE](t)})},e[STR_OFFLINE_SENT]=function(t){t&&t[_DYN_DATA$1]&&_runListeners(i,STR_OFFLINE_SENT,a,function(e){e[STR_OFFLINE_SENT](t)})},e[STR_OFFLINE_DROP]=function(t,e){var n;0<t&&(n=e||0,_runListeners(i,STR_OFFLINE_DROP,a,function(e){e[STR_OFFLINE_DROP](t,n)}))},e[_DYN_UNLOAD]=function(t){var n,r=function(){_&&_.rm(),_=null,i=[],a.h&&a.h[_DYN_CANCEL](),a.h=null,a.cb=[]};if(_runListeners(i,"unload",null,function(e){e=e[_DYN_UNLOAD](t);e&&(n=n||[])[_DYN_PUSH$1](e)}),n)return createPromise(function(e){return doAwaitResponse(createAllPromise(n),function(){r(),e()})});r()}})}return t.__ieDyn=1,t}(),strExecutionContextKey="ctx",strParentContextKey="ParentContextKey",strChildrenContextKey="ChildrenContextKey",_defaultPerfManager=null,PerfEvent=function(){function a(e,t,n){var r,i=this;i.start=utcNow(),i[_DYN_NAME$2]=e,i.isAsync=n,i[_DYN_IS_CHILD_EVT]=function(){return!1},isFunction(t)&&objDefine(i,"payload",{g:function(){return!r&&isFunction(t)&&(r=t(),t=null),r}}),i[_DYN_GET_CTX]=function(e){return e?(e===a[strParentContextKey]||e===a[strChildrenContextKey]?i:i[strExecutionContextKey]||{})[e]:null},i[_DYN_SET_CTX]=function(e,t){e&&(e===a[strParentContextKey]?(i[e]||(i[_DYN_IS_CHILD_EVT]=function(){return!0}),i[e]=t):e===a[strChildrenContextKey]?i[e]=t:(i[strExecutionContextKey]=i[strExecutionContextKey]||{})[e]=t)},i.complete=function(){var e=0,t=i[_DYN_GET_CTX](a[strChildrenContextKey]);if(isArray(t))for(var n=0;n<t[_DYN_LENGTH$4];n++){var r=t[n];r&&(e+=r.time)}i.time=utcNow()-i.start,i.exTime=i.time-e,i.complete=function(){}}}return a.ParentContextKey="parent",a.ChildrenContextKey="childEvts",a}(),PerfManager=function(){function e(t){this.ctx={},dynamicProto(e,this,function(n){n.create=function(e,t,n){return new PerfEvent(e,t,n)},n.fire=function(e){e&&(e.complete(),t&&isFunction(t[STR_PERF_EVENT])&&t[STR_PERF_EVENT](e))},n[_DYN_SET_CTX]=function(e,t){e&&((n[strExecutionContextKey]=n[strExecutionContextKey]||{})[e]=t)},n[_DYN_GET_CTX]=function(e){return(n[strExecutionContextKey]||{})[e]}})}return e.__ieDyn=1,e}(),doPerfActiveKey="CoreUtils.doPerf";function doPerf(e,t,n,r,i){if(e)if(e=e[STR_GET_PERF_MGR]?e[STR_GET_PERF_MGR]():e){var a,_=void 0,o=e[_DYN_GET_CTX](doPerfActiveKey);try{if(_=e.create(t(),r,i))return o&&_[_DYN_SET_CTX]&&(_[_DYN_SET_CTX](PerfEvent[strParentContextKey],o),o[_DYN_GET_CTX]&&o[_DYN_SET_CTX]&&((a=o[_DYN_GET_CTX](PerfEvent[strChildrenContextKey]))||(a=[],o[_DYN_SET_CTX](PerfEvent[strChildrenContextKey],a)),a[_DYN_PUSH$1](_))),e[_DYN_SET_CTX](doPerfActiveKey,_),n(_)}catch(s){_&&_[_DYN_SET_CTX]&&_[_DYN_SET_CTX]("exception",s)}finally{_&&e.fire(_),e[_DYN_SET_CTX](doPerfActiveKey,o)}}return n()}function getGblPerfMgr(){return _defaultPerfManager}function newGuid(){var e=generateW3CId();return strSubstring(e,0,8)+"-"+strSubstring(e,8,12)+"-"+strSubstring(e,12,16)+"-"+strSubstring(e,16,20)+"-"+strSubstring(e,20)}function generateW3CId(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=STR_EMPTY$1,r=0;r<4;r++)n+=t[15&(e=random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&random32())|0];return strSubstr(n,0,8)+strSubstr(n,9,4)+"4"+strSubstr(n,13,3)+i+strSubstr(n,16,3)+strSubstr(n,19,12)}var TRACE_PARENT_REGEX=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,DEFAULT_VERSION="00",INVALID_VERSION="ff",INVALID_TRACE_ID="00000000000000000000000000000000",INVALID_SPAN_ID="0000000000000000";function _isValid(e,t,n){return!(!e||e[_DYN_LENGTH$4]!==t||e===n||!e.match(/^[\da-f]*$/i))}function _formatValue(e,t,n){return _isValid(e,t)?e:n}function _formatFlags(e){for(var t=(e=isNaN(e)||e<0||255<e?1:e).toString(16);t[_DYN_LENGTH$4]<2;)t="0"+t;return t}function createTraceParent(e,t,n,r){return{version:_isValid(r,2,INVALID_VERSION)?r:DEFAULT_VERSION,traceId:isValidTraceId(e)?e:generateW3CId(),spanId:isValidSpanId(t)?t:strLeft(generateW3CId(),16),traceFlags:0<=n&&n<=255?n:1}}function parseTraceParent(e,t){if(!e)return null;if(!(e=isArray(e)?e[0]||"":e)||!isString(e)||8192<e[_DYN_LENGTH$4])return null;-1!==e[_DYN_INDEX_OF](",")&&(e=(n=e[_DYN_SPLIT$1](","))[0<t&&n[_DYN_LENGTH$4]>t?t:0]);var n=TRACE_PARENT_REGEX.exec(strTrim(e));return n&&n[1]!==INVALID_VERSION&&n[2]!==INVALID_TRACE_ID&&n[3]!==INVALID_SPAN_ID?{version:(n[1]||STR_EMPTY$1)[_DYN_TO_LOWER_CASE$2](),traceId:(n[2]||STR_EMPTY$1)[_DYN_TO_LOWER_CASE$2](),spanId:(n[3]||STR_EMPTY$1)[_DYN_TO_LOWER_CASE$2](),traceFlags:parseInt(n[4],16)}:null}function isValidTraceId(e){return _isValid(e,32,INVALID_TRACE_ID)}function isValidSpanId(e){return _isValid(e,16,INVALID_SPAN_ID)}function formatTraceParent(e){var t,n;return e?(_isValid(t=_formatFlags(e[_DYN_TRACE_FLAGS$1]),2)||(t="01"),n=e[_DYN_VERSION$1]||DEFAULT_VERSION,"".concat((n="00"!==n&&"ff"!==n?DEFAULT_VERSION:n).toLowerCase(),"-").concat(_formatValue(e.traceId,32,INVALID_TRACE_ID).toLowerCase(),"-").concat(_formatValue(e.spanId,16,INVALID_SPAN_ID).toLowerCase(),"-").concat(t.toLowerCase())):""}function findW3cTraceParent(e){var t="traceparent";return parseTraceParent(findMetaTag(t),e)||parseTraceParent(findNamedServerTiming(t),e)}function findAllScripts(e){var e=e.getElementsByTagName("script"),a=[];return arrForEach(e,function(e){var t,n,r,i=e[_DYN_GET_ATTRIBUTE]("src");i&&(t=e[_DYN_GET_ATTRIBUTE]("crossorigin"),n=!0===e.hasAttribute("async"),r=!0===e.hasAttribute("defer"),e=e[_DYN_GET_ATTRIBUTE]("referrerpolicy"),i={url:i},t&&(i.crossOrigin=t),n&&(i["async"]=n),r&&(i.defer=r),e&&(i.referrerPolicy=e),a[_DYN_PUSH$1](i))}),a}var pluginStateData=createElmNodeData("plugin");function _getPluginState(e){return pluginStateData.get(e,"state",{},!0)}function initializePlugins(n,r){for(var e=[],t=null,i=n[_DYN_GET_NEXT]();i;){var a,_,o=i[_DYN_GET_PLUGIN]();o&&(t&&t[_DYN_SET_NEXT_PLUGIN]&&o[STR_PROCESS_TELEMETRY]&&t[_DYN_SET_NEXT_PLUGIN](o),_=!!(a=_getPluginState(o))[_DYN_IS_INITIALIZED],(_=o[_DYN_IS_INITIALIZED]?o[_DYN_IS_INITIALIZED]():_)||e[_DYN_PUSH$1](o),t=o,i=i[_DYN_GET_NEXT]())}arrForEach(e,function(e){var t=n[STR_CORE]();e[_DYN_INITIALIZE$1](n.getCfg(),t,r,n[_DYN_GET_NEXT]()),a=_getPluginState(e),e[STR_CORE]||a[STR_CORE]||(a[STR_CORE]=t),a[_DYN_IS_INITIALIZED]=!0,delete a[_DYN_TEARDOWN]})}function sortPlugins(e){return e.sort(function(e,t){var n,r=0;return t?(n=t[STR_PROCESS_TELEMETRY],e[STR_PROCESS_TELEMETRY]?r=n?e[STR_PRIORITY]-t[STR_PRIORITY]:1:n&&(r=-1)):r=e?1:-1,r})}function createDistributedTraceContext(t){var n={};return{getName:function(){return n[_DYN_NAME$2]},setName:function(e){t&&t.setName(e),n[_DYN_NAME$2]=e},getTraceId:function(){return n.traceId},setTraceId:function(e){t&&t.setTraceId(e),isValidTraceId(e)&&(n.traceId=e)},getSpanId:function(){return n.spanId},setSpanId:function(e){t&&t.setSpanId(e),isValidSpanId(e)&&(n.spanId=e)},getTraceFlags:function(){return n[_DYN_TRACE_FLAGS$1]},setTraceFlags:function(e){t&&t.setTraceFlags(e),n[_DYN_TRACE_FLAGS$1]=e}}}var _a$7,strTelemetryPluginChain="TelemetryPluginChain",strHasRunFlags="_hasRun",strGetTelCtx="_getTelCtx",_chainId=0;function _getNextProxyStart(e,t,n){for(;e;){if(e[_DYN_GET_PLUGIN]()===n)return e;e=e[_DYN_GET_NEXT]()}return createTelemetryProxyChain([n],t.config||{},t)}function _createInternalContext(e,a,n,t){var r=null,i=[],_=(a=a||createDynamicConfig({},null,n[_DYN_LOGGER]),null!==t&&(r=t?_getNextProxyStart(e,n,t):e),{_next:function(){var e,t=r;return r=t?t[_DYN_GET_NEXT]():null,t||(e=i)&&0<e[_DYN_LENGTH$4]&&(arrForEach(e,function(e){try{e.func.call(e.self,e.args)}catch(t){_throwInternal(n[_DYN_LOGGER],2,73,"Unexpected Exception during onComplete - "+dumpObj(t))}}),i=[]),t},ctx:{core:function(){return n},diagLog:function(){return safeGetLogger(n,a.cfg)},getCfg:function(){return a.cfg},getExtCfg:function(e,t){var r=o(e,!0);return t&&objForEachKey(t,function(e,t){var n;!isNullOrUndefined(r[e])||!(n=a.cfg[e])&&isNullOrUndefined(n)||(r[e]=n),_applyDefaultValue(a,r,e,t)}),a.setDf(r,t)},getConfig:function(e,t,n){void 0===n&&(n=!1);var r,e=o(e,!1),i=a.cfg;return!e||!e[t]&&isNullOrUndefined(e[t])?!i[t]&&isNullOrUndefined(i[t])||(r=i[t]):r=e[t],r||!isNullOrUndefined(r)?r:n},hasNext:function(){return!!r},getNext:function(){return r},setNext:function(e){r=e},iterate:function(e){for(;t=_._next();){var t=t[_DYN_GET_PLUGIN]();t&&e(t)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&i[_DYN_PUSH$1]({func:e,self:isUndefined(t)?_.ctx:t,args:n})}}});function o(e,t){var n,r=null,i=a.cfg;return i&&e&&(n=i[STR_EXTENSION_CONFIG],i[STR_EXTENSION_CONFIG]=n=!n&&t?{}:n,(n=a.ref(i,STR_EXTENSION_CONFIG))&&(r=n[e],n[e]=r=!r&&t?{}:r,r=a.ref(n,e))),r}return _}function createProcessTelemetryContext(e,t,n,r){var i=createDynamicConfig(t),a=_createInternalContext(e,i,n,r),_=a.ctx;return _[_DYN_PROCESS_NEXT]=function(e){var t=a._next();return t&&t[STR_PROCESS_TELEMETRY](e,_),!t},_[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,i.cfg,n,t):e)||_[_DYN_GET_NEXT](),i.cfg,n,t)},_}function createProcessTelemetryUnloadContext(e,n,t){var r=createDynamicConfig(n.config),i=_createInternalContext(e,r,n,t),a=i.ctx;return a[_DYN_PROCESS_NEXT]=function(e){var t=i._next();return t&&t[_DYN_UNLOAD](a,e),!t},a[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryUnloadContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,r.cfg,n,t):e)||a[_DYN_GET_NEXT](),n,t)},a}function createProcessTelemetryUpdateContext(e,n,t){var r=createDynamicConfig(n.config),i=_createInternalContext(e,r,n,t).ctx;return i[_DYN_PROCESS_NEXT]=function(t){return i.iterate(function(e){isFunction(e[_DYN_UPDATE])&&e[_DYN_UPDATE](i,t)})},i[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryUpdateContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,r.cfg,n,t):e)||i[_DYN_GET_NEXT](),n,t)},i}function createTelemetryProxyChain(e,t,n,r){var i,a=null,_=!r;return isArray(e)&&0<e[_DYN_LENGTH$4]&&(i=null,arrForEach(e,function(e){(_=!_&&r===e||_)&&e&&isFunction(e[STR_PROCESS_TELEMETRY])&&(e=createTelemetryPluginProxy(e,t,n),a=a||e,i&&i._setNext(e),i=e)})),r&&!a?createTelemetryProxyChain([r],t,n):a}function createTelemetryPluginProxy(s,r,i){var c=null,a=isFunction(s[STR_PROCESS_TELEMETRY]),_=isFunction(s[_DYN_SET_NEXT_PLUGIN]),u=s?s[_DYN_IDENTIFIER]+"-"+s[STR_PRIORITY]+"-"+_chainId++:"Unknown-0-"+_chainId++,o={getPlugin:function(){return s},getNext:function(){return c},processTelemetry:function(n,e){var t;l(e=e||(t=(t=s&&isFunction(s[strGetTelCtx])?s[strGetTelCtx]():t)||createProcessTelemetryContext(o,r,i)),function(e){if(!s||!a)return!1;var t=_getPluginState(s);return!t[_DYN_TEARDOWN]&&!t[STR_DISABLED]&&(_&&s[_DYN_SET_NEXT_PLUGIN](c),s[STR_PROCESS_TELEMETRY](n,e),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||e[_DYN_PROCESS_NEXT](n)},unload:function(r,i){l(r,function(){var e,t,n=!1;return s&&(e=_getPluginState(s),t=s[STR_CORE]||e[STR_CORE],!s||t&&t!==r.core()||e[_DYN_TEARDOWN]||(e[STR_CORE]=null,e[_DYN_TEARDOWN]=!0,e[_DYN_IS_INITIALIZED]=!1,s[_DYN_TEARDOWN]&&!0===s[_DYN_TEARDOWN](r,i)&&(n=!0))),n},"unload",function(){},i.isAsync)||r[_DYN_PROCESS_NEXT](i)},update:function(r,i){l(r,function(){var e,t,n=!1;return s&&(e=_getPluginState(s),t=s[STR_CORE]||e[STR_CORE],!s||t&&t!==r.core()||e[_DYN_TEARDOWN]||s[_DYN_UPDATE]&&!0===s[_DYN_UPDATE](r,i)&&(n=!0)),n},"update",function(){},!1)||r[_DYN_PROCESS_NEXT](i)},_id:u,_setNext:function(e){c=e}};function l(n,r,i,e,t){var a=!1,_=s?s[_DYN_IDENTIFIER]:strTelemetryPluginChain,o=(o=n[strHasRunFlags])||(n[strHasRunFlags]={});return n.setNext(c),s&&doPerf(n[STR_CORE](),function(){return _+":"+i},function(){o[u]=!0;try{var e=c?c._id:STR_EMPTY$1;e&&(o[e]=!1),a=r(n)}catch(t){e=!c||o[c._id];e&&(a=!0),c&&e||_throwInternal(n[_DYN_DIAG_LOG$2](),1,73,"Plugin ["+_+"] failed during "+i+" - "+dumpObj(t)+", run flags: "+dumpObj(o))}},e,t),a}return objFreeze(o)}function createUnloadHandlerContainer(){var t=[];return{add:function(e){e&&t[_DYN_PUSH$1](e)},run:function(n,r){arrForEach(t,function(e){try{e(n,r)}catch(t){_throwInternal(n[_DYN_DIAG_LOG$2](),2,73,"Unexpected error calling unload handler - "+dumpObj(t))}}),t=[]}}}function createUnloadHookContainer(){var t=[];return{run:function(n){var e=t;t=[],arrForEach(e,function(e){try{(e.rm||e.remove).call(e)}catch(t){_throwInternal(n,2,73,"Unloading:"+dumpObj(t))}})},add:function(e){e&&arrAppend(t,e)}}}var strGetPlugin="getPlugin",defaultValues$1=((_a$7={})[STR_EXTENSION_CONFIG]={isVal:isNotNullOrUndefined,v:{}},_a$7),BaseTelemetryPlugin=function(){function e(){var i,a,c,u,l,_=this;function t(e){var t,e=e=void 0===e?null:e;return e||(t=a||createProcessTelemetryContext(null,{},_[STR_CORE]),e=c&&c[strGetPlugin]?t[_DYN_CREATE_NEW](null,c[strGetPlugin]):t[_DYN_CREATE_NEW](null,c)),e}function o(e,t,n){createDynamicConfig(e,defaultValues$1,safeGetLogger(t)),!n&&t&&(n=t[_DYN_GET_PROCESS_TEL_CONT2]()[_DYN_GET_NEXT]());var r=c;c&&c[strGetPlugin]&&(r=c[strGetPlugin]()),_[STR_CORE]=t,a=createProcessTelemetryContext(n,e,t,r)}function E(){i=!1,_[STR_CORE]=null,c=a=null,l=createUnloadHookContainer(),u=createUnloadHandlerContainer()}E(),dynamicProto(e,_,function(s){s[_DYN_INITIALIZE$1]=function(e,t,n,r){o(e,t,r),i=!0},s[_DYN_TEARDOWN]=function(e,t){var n,r,i,a,_=s[STR_CORE];if(_&&(!e||_===e[STR_CORE]()))return r=!1,i=e||createProcessTelemetryUnloadContext(null,_,c&&c[strGetPlugin]?c[strGetPlugin]():c),a=t||{reason:0,isAsync:!1},s[_DYN__DO_TEARDOWN]&&!0===s[_DYN__DO_TEARDOWN](i,a,o)?n=!0:o(),n;function o(){r||(r=!0,u.run(i,t),l.run(i[_DYN_DIAG_LOG$2]()),!0===n&&i[_DYN_PROCESS_NEXT](a),E())}},s[_DYN_UPDATE]=function(e,t){var n,r,i,a=s[STR_CORE];if(a&&(!e||a===e[STR_CORE]()))return r=!1,i=e||createProcessTelemetryUpdateContext(null,a,c&&c[strGetPlugin]?c[strGetPlugin]():c),s._doUpdate&&!0===s._doUpdate(i,t||{reason:0},_)?n=!0:_(),n;function _(){r||(r=!0,o(i.getCfg(),i.core(),i[_DYN_GET_NEXT]()))}},proxyFunctionAs(s,"_addUnloadCb",function(){return u},"add"),proxyFunctionAs(s,"_addHook",function(){return l},"add"),objDefine(s,"_unloadHooks",{g:function(){return l}})}),_[_DYN_DIAG_LOG$2]=function(e){return t(e)[_DYN_DIAG_LOG$2]()},_[_DYN_IS_INITIALIZED]=function(){return i},_.setInitialized=function(e){i=e},_[_DYN_SET_NEXT_PLUGIN]=function(e){c=e},_[_DYN_PROCESS_NEXT]=function(e,t){t?t[_DYN_PROCESS_NEXT](e):c&&isFunction(c[STR_PROCESS_TELEMETRY])&&c[STR_PROCESS_TELEMETRY](e,null)},_._getTelCtx=t}return e.__ieDyn=1,e}();function _addInitializer(n,e,t){var r={id:e,fn:t};return arrAppend(n,r),{remove:function(){arrForEach(n,function(e,t){if(e.id===r.id)return n[_DYN_SPLICE](t,1),-1})}}}function _runInitializers(e,t,n){for(var r=!1,i=e[_DYN_LENGTH$4],a=0;a<i;++a){var _=e[a];if(_)try{if(!1===_.fn[_DYN_APPLY](null,[t])){r=!0;break}}catch(o){_throwInternal(n,2,64,"Telemetry initializer failed: "+getExceptionName(o),{exception:dumpObj(o)},!0)}}return!r}var _a$6,TelemetryInitializerPlugin=function(n){function a(){var t,r,e=n.call(this)||this;function i(){t=0,r=[]}return e.identifier="TelemetryInitializerPlugin",e.priority=199,i(),dynamicProto(a,e,function(n,e){n.addTelemetryInitializer=function(e){return _addInitializer(r,t++,e)},n[STR_PROCESS_TELEMETRY]=function(e,t){_runInitializers(r,e,(t||n)[_DYN_DIAG_LOG$2]())&&n[_DYN_PROCESS_NEXT](e,t)},n[_DYN__DO_TEARDOWN]=function(){i()}}),e}return __extendsFn(a,n),a.__ieDyn=1,a}(BaseTelemetryPlugin),strValidationError="Plugins must provide initialize method",strNotificationManager="_notificationManager",strSdkUnloadingError="SDK is still unloading...",strSdkNotInitialized="SDK is not initialized",maxInitQueueSize=100,maxInitTimeout=5e4,defaultConfig=objDeepFreeze(((_a$6={cookieCfg:{}})[STR_EXTENSIONS]={rdOnly:!0,ref:!0,v:[]},_a$6[STR_CHANNELS]={rdOnly:!0,ref:!0,v:[]},_a$6[STR_EXTENSION_CONFIG]={ref:!0,v:{}},_a$6[STR_CREATE_PERF_MGR]=UNDEFINED_VALUE$2,_a$6.loggingLevelConsole=0,_a$6.diagnosticLogInterval=UNDEFINED_VALUE$2,_a$6));function _createPerfManager(e,t){return new PerfManager(t)}function _validateExtensions(r,i,e){var a=[],_=[],o={};return arrForEach(e,function(e){(isNullOrUndefined(e)||isNullOrUndefined(e[_DYN_INITIALIZE$1]))&&throwError(strValidationError);var t=e[STR_PRIORITY],n=e[_DYN_IDENTIFIER];e&&t&&(isNullOrUndefined(o[t])?o[t]=n:_warnToConsole(r,"Two extensions have same priority #"+t+" - "+o[t]+", "+n)),(!t||t<i?a:_)[_DYN_PUSH$1](e)}),{core:a,channels:_}}function _isPluginPresent(t,e){var n=!1;return arrForEach(e,function(e){if(e===t)return n=!0,-1}),n}function _deepMergeConfig(n,r,e,i){e&&objForEachKey(e,function(e,t){i&&isPlainObject(t)&&isPlainObject(r[e])&&_deepMergeConfig(n,r[e],t,i),i&&isPlainObject(t)&&isPlainObject(r[e])?_deepMergeConfig(n,r[e],t,i):n.set(r,e,t)})}function _findWatcher(e,n){var r=null,i=-1;return arrForEach(e,function(e,t){if(e.w===n)return r=e,i=t,-1}),{i:i,l:r}}function _addDelayedCfgListener(t,n){var e=_findWatcher(t,n).l;return e||t[_DYN_PUSH$1](e={w:n,rm:function(){var e=_findWatcher(t,n);-1!==e.i&&t[_DYN_SPLICE](e.i,1)}}),e}function _registerDelayedCfgListener(n,e,r){arrForEach(e,function(e){var t=onConfigChange(n,e.w,r);delete e.w,e.rm=function(){t.rm()}})}function _initDebugListener(e,t,n,r){return t.add(e[_DYN_WATCH](function(e){var t=e.cfg.disableDbgExt;!0===t&&r&&(n[_DYN_REMOVE_NOTIFICATION_0](r),r=null),n&&!r&&!0!==t&&(r=getDebugListener(e.cfg),n[_DYN_ADD_NOTIFICATION_LIS1](r))})),r}function _createUnloadHook(e){return objDefine({rm:function(){e.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"}})}var AppInsightsCore=function(){function e(){var g,p,A,r,I,R,Y,O,C,m,P,v,y,h,L,U,b,F,M,x,G,H,w,$,V,k,j,B,K,X,W,z,q;dynamicProto(e,this,function(_){function o(){K=!0,isNullOrUndefined(G)?(k=ActiveStatus.INACTIVE,_throwInternal(A,1,112,"ikey can't be resolved from promises")):k=ActiveStatus.ACTIVE,s()}function s(){p&&(_.releaseQueue(),_.pollInternalLogs())}function c(e){return W&&W[_DYN_ENABLED]||q||(e||A&&0<A.queue[_DYN_LENGTH$4])&&(z||(z=!0,a(g[_DYN_WATCH](function(e){var e=e.cfg.diagnosticLogInterval,t=(e&&0<e||(e=1e4),!1);W&&(t=W[_DYN_ENABLED],W[_DYN_CANCEL]()),(W=createTimeout(T,e)).unref(),W[_DYN_ENABLED]=t}))),W[_DYN_ENABLED]=!0),W}function t(){var n={},t=($=[],function(e){e&&arrForEach(e,function(e){var t;e[_DYN_IDENTIFIER]&&e[_DYN_VERSION$1]&&!n[e.identifier]&&(t=e[_DYN_IDENTIFIER]+"="+e[_DYN_VERSION$1],$[_DYN_PUSH$1](t),n[e.identifier]=e)})});t(v),P&&arrForEach(P,function(e){t(e)}),t(m)}function u(){p=!1,(g=createDynamicConfig({},defaultConfig,_[_DYN_LOGGER])).cfg[_DYN_LOGGING_LEVEL_CONSOL4]=1,objDefine(_,"config",{g:function(){return g.cfg},s:function(e){_.updateCfg(e,!1)}}),objDefine(_,"pluginVersionStringArr",{g:function(){return $||t(),$}}),objDefine(_,"pluginVersionString",{g:function(){return V||($||t(),V=$.join(";")),V||STR_EMPTY$1}}),objDefine(_,"logger",{g:function(){return A||(A=new DiagnosticLogger(g.cfg),g[_DYN_LOGGER]=A),A},s:function(e){g[_DYN_LOGGER]=e,A!==e&&(runTargetUnload(A,!1),A=e)}}),_[_DYN_LOGGER]=new DiagnosticLogger(g.cfg),w=[];var e=_.config[STR_EXTENSIONS]||[];e.splice(0,e[_DYN_LENGTH$4]),arrAppend(e,w),h=new TelemetryInitializerPlugin,runTargetUnload(I,!(r=[])),Y=R=I=null,runTargetUnload(O,!1),y=!(m=[]),U=createUniqueNamespace("AIBaseCore",!(L=v=P=C=O=null)),b=createUnloadHandlerContainer(),G=x=null,F=createUnloadHookContainer(),k=0,K=z=q=!(H=[]),X=B=j=W=$=V=null}function l(){var e=createProcessTelemetryContext(f(),g.cfg,_);return e[_DYN_ON_COMPLETE](c),e}function E(e){var t=_validateExtensions(_[_DYN_LOGGER],ChannelControllerPriority,m),t=($=V=C=null,v=sortPlugins(arrAppend(v=(P||[])[0]||[],t[STR_CHANNELS])),arrAppend(sortPlugins(t[STR_CORE]),v)),n=(w=objFreeze(t),_.config[STR_EXTENSIONS]||[]),n=(n.splice(0,n[_DYN_LENGTH$4]),arrAppend(n,w),l());v&&0<v[_DYN_LENGTH$4]&&initializePlugins(n[_DYN_CREATE_NEW](v),t),initializePlugins(n,t),e&&i(e)}function N(t){var r=null,n=[];return arrForEach(w,function(e){if(e[_DYN_IDENTIFIER]===t&&e!==h)return r=e,-1;e.getChannel&&n[_DYN_PUSH$1](e)}),!r&&0<n[_DYN_LENGTH$4]&&arrForEach(n,function(e){if(!(r=e.getChannel(t)))return-1}),r?{plugin:r,setEnabled:function(e){_getPluginState(r)[STR_DISABLED]=!e},isEnabled:function(){var e=_getPluginState(r);return!e[_DYN_TEARDOWN]&&!e[STR_DISABLED]},remove:function(e,t){var n=[r];D(n,{reason:1,isAsync:e=void 0===e||e},function(e){e&&E({reason:32,removed:n}),t&&t(e)})}}:null}function f(){var e;return C||(e=(w||[]).slice(),-1===arrIndexOf(e,h)&&e[_DYN_PUSH$1](h),C=createTelemetryProxyChain(sortPlugins(e),g.cfg,_)),C}function D(a,e,t){var n;a&&0<a[_DYN_LENGTH$4]?((n=createProcessTelemetryUnloadContext(createTelemetryProxyChain(a,g.cfg,_),_))[_DYN_ON_COMPLETE](function(){var r=!1,n=[],i=(arrForEach(m,function(e,t){_isPluginPresent(e,a)?r=!0:n[_DYN_PUSH$1](e)}),m=n,$=V=null,[]);P&&(arrForEach(P,function(e,t){var n=[];arrForEach(e,function(e){_isPluginPresent(e,a)?r=!0:n[_DYN_PUSH$1](e)}),i[_DYN_PUSH$1](n)}),P=i),t&&t(r),c()}),n[_DYN_PROCESS_NEXT](e)):t(!1)}function T(){var e;A&&A.queue&&(e=A.queue.slice(0),A.queue[_DYN_LENGTH$4]=0,arrForEach(e,function(e){e={name:L||"InternalMessageId: "+e[_DYN_MESSAGE_ID],iKey:G,time:toISOString(new Date),baseType:_InternalLogMessage.dataType,baseData:{message:e[_DYN_MESSAGE$1]}};_.track(e)}))}function d(n,e,r,i){var a=1,t=!1,_=null;function o(){a--,t&&0===a&&(_&&_[_DYN_CANCEL](),_=null,e&&e(t),e=null)}return i=i||5e3,v&&0<v[_DYN_LENGTH$4]&&l()[_DYN_CREATE_NEW](v).iterate(function(e){var t;e.flush&&(a++,t=!1,e.flush(n,function(){t=!0,o()},r)||t||(n&&null==_?_=scheduleTimeout(function(){_=null,o()},i):o()))}),t=!0,o(),!0}function i(e){var t=createProcessTelemetryUpdateContext(f(),_);t[_DYN_ON_COMPLETE](c),_._updateHook&&!0===_._updateHook(t,e)||t[_DYN_PROCESS_NEXT](e)}function S(e){var t=_[_DYN_LOGGER];t?(_throwInternal(t,2,73,e),c()):throwError(e)}function n(e){var t=_[_DYN_GET_NOTIFY_MGR]();t&&t[STR_EVENTS_DISCARDED]([e],2)}function a(e){F.add(e)}u(),_._getDbgPlgTargets=function(){return[w,r]},_[_DYN_IS_INITIALIZED]=function(){return p},_.activeStatus=function(){return k},_._setPendingStatus=function(){k=3},_[_DYN_INITIALIZE$1]=function(e,t,n,r){y&&throwError(strSdkUnloadingError),_[_DYN_IS_INITIALIZED]()&&throwError("Core cannot be initialized more than once"),e=(g=createDynamicConfig(e,defaultConfig,n||_[_DYN_LOGGER],!1)).cfg,a(g[_DYN_WATCH](function(t){var e=t.cfg,n=(B=e.initInMemoMaxSize||maxInitQueueSize,function(e){var a,t=e.instrumentationKey,n=e.endpointUrl;if(3!==k){if(isNullOrUndefined(t))return G=null,k=ActiveStatus.INACTIVE,r="Please provide instrumentation key",p?(_throwInternal(A,1,100,r),s()):throwError(r);var r=[];G=isPromiseLike(t)?(r[_DYN_PUSH$1](t),null):t,j=isPromiseLike(n)?(r[_DYN_PUSH$1](n),null):n,r[_DYN_LENGTH$4]?(t=r,K=!1,k=3,n=isNotNullOrUndefined((a=e).initTimeOut)?a.initTimeOut:maxInitTimeout,r=createSyncAllSettledPromise(t),X&&X[_DYN_CANCEL](),X=scheduleTimeout(function(){X=null,K||o()},n),doAwaitResponse(r,function(e){try{if(K)return;var t,n,r;e.rejected||((t=e[_DYN_VALUE])&&t[_DYN_LENGTH$4]&&(n=t[0],G=n&&n[_DYN_VALUE],1<t[_DYN_LENGTH$4]&&(r=t[1],j=r&&r[_DYN_VALUE])),G&&(a.instrumentationKey=G,a.endpointUrl=j)),o()}catch(i){K||o()}})):o()}}(e),t.ref(t.cfg,STR_EXTENSION_CONFIG));objForEachKey(n,function(e){t.ref(n,e)})})),M=_initDebugListener(g,F,(I=r)&&_[_DYN_GET_NOTIFY_MGR](),M),a(g[_DYN_WATCH](function(e){var t;e.cfg.enablePerfMgr?(t=e.cfg[STR_CREATE_PERF_MGR],i===t&&i||(getSetValue(e.cfg,STR_CREATE_PERF_MGR,t=t||_createPerfManager),i=t,Y=null),R||Y||!isFunction(t)||(Y=t(_,_[_DYN_GET_NOTIFY_MGR]()))):i=Y=null})),_[_DYN_LOGGER]=n;var i,r=e[STR_EXTENSIONS];(m=[])[_DYN_PUSH$1].apply(m,__spreadArrayFn(__spreadArrayFn([],t,!1),r)),P=e[STR_CHANNELS],E(null),v&&0!==v[_DYN_LENGTH$4]||throwError("No "+STR_CHANNELS+" available"),P&&1<P[_DYN_LENGTH$4]&&((n=_[_DYN_GET_PLUGIN]("TeeChannelController"))&&n.plugin||_throwInternal(A,1,28,"TeeChannel required")),_registerDelayedCfgListener(e,H,A),p=!(H=null),k===ActiveStatus.ACTIVE&&s()},_.getChannels=function(){var t=[];return v&&arrForEach(v,function(e){t[_DYN_PUSH$1](e)}),objFreeze(t)},_.track=function(e){doPerf(_[STR_GET_PERF_MGR](),function(){return"AppInsightsCore:track"},function(){null===e&&(n(e),throwError("Invalid telemetry item")),!e[_DYN_NAME$2]&&isNullOrUndefined(e[_DYN_NAME$2])&&(n(e),throwError("telemetry name required")),e.iKey=e.iKey||G,e.time=e.time||toISOString(new Date),e.ver=e.ver||"4.0",!y&&_[_DYN_IS_INITIALIZED]()&&k===ActiveStatus.ACTIVE?l()[_DYN_PROCESS_NEXT](e):k!==ActiveStatus.INACTIVE&&r[_DYN_LENGTH$4]<=B&&r[_DYN_PUSH$1](e)},function(){return{item:e}},!e.sync)},_[_DYN_GET_PROCESS_TEL_CONT2]=l,_[_DYN_GET_NOTIFY_MGR]=function(){return I||(I=new NotificationManager(g.cfg),_[strNotificationManager]=I),I},_[_DYN_ADD_NOTIFICATION_LIS1]=function(e){_.getNotifyMgr()[_DYN_ADD_NOTIFICATION_LIS1](e)},_[_DYN_REMOVE_NOTIFICATION_0]=function(e){I&&I[_DYN_REMOVE_NOTIFICATION_0](e)},_.getCookieMgr=function(){return O=O||createCookieMgr(g.cfg,_[_DYN_LOGGER])},_.setCookieMgr=function(e){O!==e&&(runTargetUnload(O,!1),O=e)},_[STR_GET_PERF_MGR]=function(){return R||Y||getGblPerfMgr()},_.setPerfMgr=function(e){R=e},_.eventCnt=function(){return r[_DYN_LENGTH$4]},_.releaseQueue=function(){var e;p&&0<r[_DYN_LENGTH$4]&&(e=r,r=[],2===k?arrForEach(e,function(e){e.iKey=e.iKey||G,l()[_DYN_PROCESS_NEXT](e)}):_throwInternal(A,2,20,"core init status is not active"))},_.pollInternalLogs=function(e){return L=e||null,q=!1,W&&W[_DYN_CANCEL](),c(!0)},_[_DYN_STOP_POLLING_INTERNA3]=function(){q=!0,W&&W[_DYN_CANCEL](),T()},proxyFunctions(_,function(){return h},["addTelemetryInitializer"]),_[_DYN_UNLOAD]=function(e,t,n){void 0===e&&(e=!0),p||throwError(strSdkNotInitialized),y&&throwError(strSdkUnloadingError);var r,i={reason:50,isAsync:e,flushComplete:!1},a=(e&&!t&&(r=createPromise(function(e){t=e})),createProcessTelemetryUnloadContext(f(),_));return a[_DYN_ON_COMPLETE](function(){F.run(_[_DYN_LOGGER]),doUnloadAll([O,I,A],e,function(){u(),t&&t(i)})},_),T(),d(e,function(e){i.flushComplete=e,y=!0,b.run(a,i),_[_DYN_STOP_POLLING_INTERNA3](),a[_DYN_PROCESS_NEXT](i)},6,n),r},_[_DYN_GET_PLUGIN]=N,_.addPlugin=function(e,t,n,r){if(!e)return r&&r(!1),void S(strValidationError);var i=N(e[_DYN_IDENTIFIER]);if(i&&!t)return r&&r(!1),void S("Plugin ["+e[_DYN_IDENTIFIER]+"] is already loaded!");var a,_={reason:16};function o(){m[_DYN_PUSH$1](e),_.added=[e],E(_),r&&r(!0)}i?D(a=[i.plugin],{reason:2,isAsync:!!n},function(e){e?(_.removed=a,_.reason|=32,o()):r&&r(!1)}):o()},_.updateCfg=function(r,e){var t,n;void 0===e&&(e=!0),_[_DYN_IS_INITIALIZED]()&&(t={reason:1,cfg:g.cfg,oldCfg:deepExtend({},g.cfg),newConfig:deepExtend({},r),merge:e},r=t.newConfig,n=g.cfg,r[STR_EXTENSIONS]=n[STR_EXTENSIONS],r[STR_CHANNELS]=n[STR_CHANNELS]),g._block(function(t){var n=t.cfg;_deepMergeConfig(t,n,r,e),e||objForEachKey(n,function(e){objHasOwn(r,e)||t.set(n,e,UNDEFINED_VALUE$2)}),t.setDf(n,defaultConfig)},!0),g.notify(),t&&i(t)},_.evtNamespace=function(){return U},_.flush=d,_.getTraceCtx=function(e){return x=x||createDistributedTraceContext()},_.setTraceCtx=function(e){x=e||null},_.addUnloadHook=a,proxyFunctionAs(_,"addUnloadCb",function(){return b},"add"),_.onCfgChange=function(e){return _createUnloadHook(p?onConfigChange(g.cfg,e,_[_DYN_LOGGER]):_addDelayedCfgListener(H,e))},_.getWParam=function(){return hasDocument()||g.cfg.enableWParam?0:-1}})}return e.__ieDyn=1,e}();function parseResponse(e,t){try{if(e&&""!==e){var n=getJSON().parse(e);if(n&&n[_DYN_ITEMS_RECEIVED$1]&&n[_DYN_ITEMS_RECEIVED$1]>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors[_DYN_LENGTH$4])return n}}catch(r){_throwInternal(t,1,43,"Cannot parse the response. "+(r[_DYN_NAME$2]||dumpObj(r)),{response:e})}return null}var STR_EMPTY="",STR_NO_RESPONSE_BODY="NoResponseBody",_noResponseQs="&"+STR_NO_RESPONSE_BODY+"=true",STR_POST_METHOD="POST",SenderPostManager=function(){function e(){var p,i,E,A,I,a,R,N,f,D,T,Y,O,C,m=0;dynamicProto(e,this,function(n,e){var d=!0;function o(e,t){_throwInternal(E,2,26,"Failed to send telemetry.",{message:e}),g(t,400,{})}function S(e){o("No endpoint url is provided for the batch",e)}function g(e,t,n,r){try{e&&e(t,n,r)}catch(i){}}function _(e,t){var n=getNavigator();if(!e[_DYN_URL_STRING])return S(t),!0;t=e[_DYN_URL_STRING]+(O?_noResponseQs:STR_EMPTY),e=e[_DYN_DATA$1],e=A?e:new Blob([e],{type:"text/plain;charset=UTF-8"});return n.sendBeacon(t,e)}function s(e,t,n){var r,i=e[_DYN_DATA$1];try{i&&(_(e,t)?g(t,200,{},STR_EMPTY):(r=I&&I.beaconOnRetry)&&isFunction(r)?r(e,t,_):(N&&N.sendPOST(e,t,!0),_throwInternal(E,2,40,". Failed to send telemetry with Beacon API, retried with normal sender.")))}catch(a){A&&_warnToConsole(E,"Failed to send telemetry using sendBeacon API. Ex:"+dumpObj(a)),g(t,A?0:400,{},STR_EMPTY)}}function c(n,r,e){var t,i,a,_=n[_DYN_HEADERS$1]||{},o=(!e&&p&&(t=createPromise(function(e,t){i=e,a=t})),A&&e&&n.disableXhrSync&&(e=!1),n[_DYN_URL_STRING]);if(!o)return S(r),void(i&&i(!1));var s=openXhr(STR_POST_METHOD,o,d,!0,e,n[_DYN_TIMEOUT]);function c(e){var t=I&&I.xhrOnComplete;t&&isFunction(t)?t(e,r,n):(t=getResponseText(e),g(r,e[_DYN_STATUS$1],_getAllResponseHeaders(e,A),t))}return A||s.setRequestHeader("Content-type","application/json"),arrForEach(objKeys(_),function(e){s.setRequestHeader(e,_[e])}),s.onreadystatechange=function(){A||(c(s),4===s.readyState&&i&&i(!0))},s.onload=function(){A&&c(s)},s.onerror=function(e){g(r,A?s[_DYN_STATUS$1]:400,_getAllResponseHeaders(s,A),A?STR_EMPTY:formatErrorMessageXhr(s)),a&&a(e)},s.ontimeout=function(){g(r,A?s[_DYN_STATUS$1]:500,_getAllResponseHeaders(s,A),A?STR_EMPTY:formatErrorMessageXhr(s)),i&&i(!1)},s.send(n[_DYN_DATA$1]),t}function u(n,a,r){var e,i,_,t=n[_DYN_URL_STRING],o=n[_DYN_DATA$1],s=A?o:new Blob([o],{type:"application/json"}),c=new Headers,u=o[_DYN_LENGTH$4],o=!1,l=!1,E=n[_DYN_HEADERS$1]||{},N=((s={method:STR_POST_METHOD,body:s})[DisabledPropertyName$1]=!0,n.headers&&0<objKeys(n.headers)[_DYN_LENGTH$4]&&(arrForEach(objKeys(E),function(e){c.append(e,E[e])}),s[_DYN_HEADERS$1]=c),R?s.credentials=R:d&&A&&(s.credentials="include"),r&&(s.keepalive=!0,m+=u,A?2===n._sendReason&&(o=!0,O&&(t+=_noResponseQs)):o=!0),new Request(t,s));try{N[DisabledPropertyName$1]=!0}catch(T){}if(!r&&p&&(e=createPromise(function(e,t){i=e,_=t})),!t)return S(a),void(i&&i(!1));function f(e,t){g(a,t?A?0:t:A?0:400,{},A?STR_EMPTY:e)}function D(e,t,n){var r=e[_DYN_STATUS$1],i=I.fetchOnComplete;i&&isFunction(i)?i(e,a,n||STR_EMPTY,t):g(a,r,{},n||STR_EMPTY)}try{doAwaitResponse(fetch(A?t:N,A?s:null),function(e){if(r&&(m-=u,u=0),!l)if(l=!0,e.rejected)f(e.reason&&e.reason[_DYN_MESSAGE$1],499),_&&_(e.reason);else{var t=e[_DYN_VALUE];try{A||t.ok?A&&!t.body?(D(t,null,STR_EMPTY),i&&i(!0)):doAwaitResponse(t.text(),function(e){D(t,n,e[_DYN_VALUE]),i&&i(!0)}):(t[_DYN_STATUS$1]?f(t.statusText,t[_DYN_STATUS$1]):f(t.statusText,499),i&&i(!1))}catch(T){t&&t[_DYN_STATUS$1]?f(dumpObj(T),t[_DYN_STATUS$1]):f(dumpObj(T),499),_&&_(T)}}})}catch(T){l||(f(dumpObj(T),499),_&&_(T))}return o&&!l&&(l=!0,g(a,200,{}),i&&i(!0)),A&&!l&&0<n[_DYN_TIMEOUT]&&C&&C.set(function(){l||(l=!0,g(a,500,{}),i&&i(!0))},n[_DYN_TIMEOUT]),e}function l(n,r,e){var t=getWindow(),i=new XDomainRequest,a=n[_DYN_DATA$1],t=(i.onload=function(){var e=getResponseText(i),t=I&&I.xdrOnComplete;t&&isFunction(t)?t(i,r,n):g(r,200,{},e)},i.onerror=function(){g(r,400,{},A?STR_EMPTY:formatErrorMessageXdr(i))},i.ontimeout=function(){g(r,500,{})},i.onprogress=function(){},t&&t.location&&t.location.protocol||""),_=n[_DYN_URL_STRING];if(_){if(!A&&_.lastIndexOf(t,0))return _throwInternal(E,2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void o("Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.",r);t=A?_:_[_DYN_REPLACE](/^(https?:)/,"");i.open(STR_POST_METHOD,t),n[_DYN_TIMEOUT]&&(i[_DYN_TIMEOUT]=n[_DYN_TIMEOUT]),i.send(a),A&&e?C&&C.set(function(){i.send(a)},0):i.send(a)}else S(r)}function r(){m=0,O=Y=T=D=f=p=i=!1,C=N=R=a=I=A=E=null}r(),n[_DYN_INITIALIZE$1]=function(e,t){E=t,i&&_throwInternal(E,1,28,"Sender is already initialized"),n.SetConfig(e),i=!0},n._getDbgPlgTargets=function(){return[i,A,a,p]},n.SetConfig=function(e){try{var t;return I=e.senderOnCompleteCallBack||{},a=!!e.disableCredentials,R=e.fetchCredentials,A=!!e.isOneDs,p=!!e.enableSendPromise,f=!!e.disableXhr,D=!!e.disableBeacon,T=!!e.disableBeaconSync,C=e.timeWrapper,O=!!e.addNoResponse,Y=!!e.disableFetchKeepAlive,N={sendPOST:c},A||(d=!1),a&&(t=getLocation())&&t.protocol&&"file:"===t.protocol[_DYN_TO_LOWER_CASE$2]()&&(d=!1),!0}catch(n){}return!1},n.getSyncFetchPayload=function(){return m},n.getSenderInst=function(e,t){if(e&&e[_DYN_LENGTH$4]){for(var n=e,r=t,i=0,a=null,_=0;null==a&&_<n[_DYN_LENGTH$4];)i=n[_],f||1!==i?2!==i||!isFetchSupported(r)||r&&Y?3!==i||!isBeaconsSupported()||(r?T:D)||(a=s):a=u:useXDomainRequest()?a=l:isXhrSupported()&&(a=c),_++;return a?{_transport:i,_isSync:r,sendPOST:a}:null}return null},n.getFallbackInst=function(){return N},n[_DYN__DO_TEARDOWN]=function(e,t){r()},n.preparePayload=function(_,e,o,t){if(e&&!t&&o[_DYN_DATA$1])try{var s,c,u,l,n=getInst("CompressionStream");if(isFunction(n))return s=new ReadableStream({start:function(e){e.enqueue(isString(o[_DYN_DATA$1])?(new TextEncoder).encode(o[_DYN_DATA$1]):o[_DYN_DATA$1]),e.close()}}).pipeThrough(new n("gzip")).getReader(),u=0,l=!(c=[]),doAwaitResponse(s.read(),function E(e){if(!l&&!e.rejected){e=e[_DYN_VALUE];if(!e.done)return c[_DYN_PUSH$1](e[_DYN_VALUE]),u+=e.value[_DYN_LENGTH$4],doAwaitResponse(s.read(),E);for(var t=new Uint8Array(u),n=0,r=0,i=c;r<i.length;r++){var a=i[r];t.set(a,n),n+=a[_DYN_LENGTH$4]}o[_DYN_DATA$1]=t,o[_DYN_HEADERS$1]["Content-Encoding"]="gzip",o._chunkCount=c[_DYN_LENGTH$4]}l||(l=!0,_(o))}),s;_(o)}catch(r){return void _(o)}else _(o)}})}return e.__ieDyn=1,e}(),strOnPrefix="on",strAttachEvent="attachEvent",strAddEventHelper="addEventListener",strDetachEvent="detachEvent",strRemoveEventListener="removeEventListener",strEvents="events",strVisibilityChangeEvt="visibilitychange",strPageHide="pagehide",strUnload="unload",strBeforeUnload="beforeunload",strPageHideNamespace=createUniqueNamespace("aiEvtPageHide"),rRemoveEmptyNs=(createUniqueNamespace("aiEvtPageShow"),/\.[\.]+/g),rRemoveTrailingEmptyNs=/[\.]+$/,_guid=1,elmNodeData=createElmNodeData("events"),eventNamespace=/^([^.]*)(?:\.(.+)|)/;function _normalizeNamespace(e){return e&&e[_DYN_REPLACE]?e[_DYN_REPLACE](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,STR_EMPTY$1):e}function _getEvtNamespace(e,t){t&&(n=STR_EMPTY$1,isArray(t)?(n=STR_EMPTY$1,arrForEach(t,function(e){(e=_normalizeNamespace(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=_normalizeNamespace(t),n&&("."!==n[0]&&(n="."+n),e=(e||STR_EMPTY$1)+n));var n,t=eventNamespace.exec(e||STR_EMPTY$1)||[];return{type:t[1],ns:(t[2]||STR_EMPTY$1).replace(rRemoveEmptyNs,".").replace(rRemoveTrailingEmptyNs,STR_EMPTY$1)[_DYN_SPLIT$1](".").sort().join(".")}}function _getRegisteredEvents(e,t,n){e=elmNodeData.get(e,strEvents,{},n=void 0===n||n);return e[t]||(e[t]=[])}function _doDetach(e,t,n,r){e&&t&&t[_DYN_TYPE]&&(e[strRemoveEventListener]?e[strRemoveEventListener](t[_DYN_TYPE],n,r):e[strDetachEvent]&&e[strDetachEvent](strOnPrefix+t[_DYN_TYPE],n))}function _doAttach(e,t,n,r){var i=!1;return e&&t&&t[_DYN_TYPE]&&n&&(e[strAddEventHelper]?(e[strAddEventHelper](t[_DYN_TYPE],n,r),i=!0):e[strAttachEvent]&&(e[strAttachEvent](strOnPrefix+t[_DYN_TYPE],n),i=!0)),i}function _doUnregister(e,t,n,r){for(var i=t[_DYN_LENGTH$4];i--;){var a=t[i];!a||n.ns&&n.ns!==a[_DYN_EVT_NAME].ns||r&&!r(a)||(_doDetach(e,a[_DYN_EVT_NAME],a.handler,a.capture),t[_DYN_SPLICE](i,1))}}function _unregisterEvents(n,r,i){var e;r[_DYN_TYPE]?_doUnregister(n,_getRegisteredEvents(n,r[_DYN_TYPE]),r,i):(objForEachKey(e=elmNodeData.get(n,strEvents,{}),function(e,t){_doUnregister(n,t,r,i)}),0===objKeys(e)[_DYN_LENGTH$4]&&elmNodeData.kill(n,strEvents))}function mergeEvtNamespace(e,t){return t?_getEvtNamespace("xx",isArray(t)?[e].concat(t):[e,t]).ns[_DYN_SPLIT$1]("."):e}function eventOn(e,t,n,r,i){void 0===i&&(i=!1);var a=!1;if(e)try{var _,o=_getEvtNamespace(t,r);(a=_doAttach(e,o,n,i))&&elmNodeData.accept(e)&&(_={guid:_guid++,evtName:o,handler:n,capture:i},_getRegisteredEvents(e,o.type)[_DYN_PUSH$1](_))}catch(s){}return a}function eventOff(e,t,n,r,i){if(void 0===i&&(i=!1),e)try{var a=_getEvtNamespace(t,r),_=!1;_unregisterEvents(e,a,function(e){return!((!a.ns||n)&&e.handler!==n)&&(_=!0)}),_||_doDetach(e,a,n,i)}catch(o){}}function addEventHandler(e,t,n){var r=!1,i=getWindow(),i=(i&&(r=eventOn(i,e,t,n),r=eventOn(i.body,e,t,n)||r),getDocument());return i&&eventOn(i,e,t,n)||r}function removeEventHandler(e,t,n){var r=getWindow(),r=(r&&(eventOff(r,e,t,n),eventOff(r.body,e,t,n)),getDocument());r&&eventOff(r,e,t,n)}function _addEventListeners(e,t,n,r){var i=!1;return t&&e&&0<e[_DYN_LENGTH$4]&&arrForEach(e,function(e){!e||n&&-1!==arrIndexOf(n,e)||(i=addEventHandler(e,t,r)||i)}),i}function addEventListeners(e,t,n,r){var i=!1;return t&&e&&isArray(e)&&!(i=_addEventListeners(e,t,n,r))&&n&&0<n[_DYN_LENGTH$4]?_addEventListeners(e,t,null,r):i}function removeEventListeners(e,t,n){e&&isArray(e)&&arrForEach(e,function(e){e&&removeEventHandler(e,t,n)})}function addPageUnloadEventListener(e,t,n){return addEventListeners([strBeforeUnload,strUnload,strPageHide],e,t,n)}function removePageUnloadEventListener(e,t){removeEventListeners([strBeforeUnload,strUnload,strPageHide],e,t)}function addPageHideEventListener(n,e,t){var r=mergeEvtNamespace(strPageHideNamespace,t),i=_addEventListeners([strPageHide],n,e,r);return!(i=(!e||-1===arrIndexOf(e,strVisibilityChangeEvt))&&_addEventListeners([strVisibilityChangeEvt],function(e){var t=getDocument();n&&t&&"hidden"===t.visibilityState&&n(e)},e,r)||i)&&e?addPageHideEventListener(n,null,t):i}function removePageHideEventListener(e,t){t=mergeEvtNamespace(strPageHideNamespace,t);removeEventListeners([strPageHide],e,t),removeEventListeners([strVisibilityChangeEvt],null,t)}var LoggingSeverity=createEnumStyle({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),aiInstrumentHooks="_aiHooks",cbNames=["req","rsp","hkErr","fnErr"];function _arrLoop(e,t){if(e)for(var n=0;n<e[_DYN_LENGTH$4]&&!t(e[n],n);n++);}function _doCallbacks(e,_,o,s,c){0<=c&&c<=2&&_arrLoop(e,function(e,t){var e=e.cbks,n=e[cbNames[c]];if(n){_.ctx=function(){return s[t]=s[t]||{}};try{n[_DYN_APPLY](_.inst,o)}catch(i){n=_.err;try{var r=e[cbNames[2]];r&&(_.err=i,r[_DYN_APPLY](_.inst,o))}catch(a){}finally{_.err=n}}}})}function _createFunctionHook(s){return function(){var n=arguments,e=s.h,r={name:s.n,inst:this,ctx:null,set:function(e,t){(n=a([],n))[e]=t,i=a([r],n)}},t=[],i=a([r],n);function a(t,e){return _arrLoop(e,function(e){t[_DYN_PUSH$1](e)}),t}r.evt=getInst("event"),_doCallbacks(e,r,i,t,0);var _=s.f;if(_)try{r.rslt=_[_DYN_APPLY](this,n)}catch(o){throw r.err=o,_doCallbacks(e,r,i,t,3),o}return _doCallbacks(e,r,i,t,1),r.rslt}}function _getOwner(e,t,n,r){var i=null;return e&&(objHasOwnProperty(e,t)?i=e:n&&(i=_getOwner(_getObjProto(e),t,r,!1))),i}function InstrumentProto(e,t,n){return e?InstrumentFunc(e[strShimPrototype],t,n,!1):null}function _createInstrumentHook(e,t,n,r){var i=n&&n[aiInstrumentHooks],t=(i||((n=_createFunctionHook(i={i:0,n:t,f:n,h:[]}))[aiInstrumentHooks]=i,e[t]=n),{id:i.i,cbks:r,rm:function(){var n=this.id;_arrLoop(i.h,function(e,t){if(e.id===n)return i.h[_DYN_SPLICE](t,1),1})}});return i.i++,i.h[_DYN_PUSH$1](t),t}function InstrumentFunc(e,t,n,r,i){if(void 0===r&&(r=!0),e&&t&&n){e=_getOwner(e,t,r,i);if(e){r=e[t];if(typeof r===strShimFunction)return _createInstrumentHook(e,t,r,n)}}return null}function InstrumentEvent(e,t,n,r,i){if(e&&t&&n){r=_getOwner(e,t,r,i)||e;if(r)return _createInstrumentHook(r,t,r[t],n)}return null}var DisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",SampleRate="sampleRate",ProcessLegacy="ProcessLegacy",HttpMethod="http.method",DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",DEFAULT_BREEZE_PATH="/v2/track",strNotSpecified="not_specified",strIkey="iKey",RequestHeaders=createValueMap({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),_DYN_SPLIT="split",_DYN_LENGTH$3="length",_DYN_TO_LOWER_CASE$1="toLowerCase",_DYN_INGESTIONENDPOINT="ingestionendpoint",_DYN_TO_STRING$2="toString",_DYN_REMOVE_ITEM="removeItem",_DYN_MESSAGE="message",_DYN_COUNT$1="count",_DYN_PRE_TRIGGER_DATE="preTriggerDate",_DYN_GET_UTCDATE="getUTCDate",_DYN_STRINGIFY$1="stringify",_DYN_PATHNAME="pathname",_DYN_MATCH="match",_DYN_CORRELATION_HEADER_E0="correlationHeaderExcludePatterns",_DYN_NAME$1="name",_DYN_PROPERTIES$1="properties",_DYN_MEASUREMENTS$1="measurements",_DYN_SIZE_IN_BYTES="sizeInBytes",_DYN_TYPE_NAME="typeName",_DYN_EXCEPTIONS="exceptions",_DYN_SEVERITY_LEVEL="severityLevel",_DYN_PROBLEM_GROUP="problemGroup",_DYN_PARSED_STACK="parsedStack",_DYN_HAS_FULL_STACK="hasFullStack",_DYN_ASSEMBLY="assembly",_DYN_FILE_NAME="fileName",_DYN_LINE="line",_DYN_AI_DATA_CONTRACT="aiDataContract",_DYN_DURATION$1="duration";function dataSanitizeKeyAndAddUniqueness(e,t,n){var r=t[_DYN_LENGTH$3],i=dataSanitizeKey(e,t);if(i[_DYN_LENGTH$3]!==r){for(var a=0,_=i;n[_]!==undefined;)a++,_=strSubstring(i,0,147)+dsPadNumber(a);i=_}return i}function dataSanitizeKey(e,t){var n;return t&&150<(t=strTrim(asString(t)))[_DYN_LENGTH$3]&&(n=strSubstring(t,0,150),_throwInternal(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function dataSanitizeString(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=strTrim(asString(t)))[_DYN_LENGTH$3]>n&&(r=strSubstring(t,0,n),_throwInternal(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function dataSanitizeUrl(e,t){return dataSanitizeInput(e,t,2048,66)}function dataSanitizeMessage(e,t){var n;return t&&32768<t[_DYN_LENGTH$3]&&(n=strSubstring(t,0,32768),_throwInternal(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function dataSanitizeException(e,t){var n,r;return t&&32768<(r=""+t)[_DYN_LENGTH$3]&&(n=strSubstring(r,0,32768),_throwInternal(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0)),n||t}function dataSanitizeProperties(r,e){var i;return e&&(i={},objForEachKey(e,function(e,t){if(isObject(t)&&hasJSON())try{t=getJSON()[_DYN_STRINGIFY$1](t)}catch(n){_throwInternal(r,2,49,"custom property is not valid",{exception:n},!0)}t=dataSanitizeString(r,t,8192),e=dataSanitizeKeyAndAddUniqueness(r,e,i),i[e]=t}),e=i),e}function dataSanitizeMeasurements(n,e){var r;return e&&(r={},objForEachKey(e,function(e,t){e=dataSanitizeKeyAndAddUniqueness(n,e,r),r[e]=t}),e=r),e}function dataSanitizeId(e,t){return t&&dataSanitizeInput(e,t,128,69)[_DYN_TO_STRING$2]()}function dataSanitizeInput(e,t,n,r){var i;return t&&(t=strTrim(asString(t)))[_DYN_LENGTH$3]>n&&(i=strSubstring(t,0,n),_throwInternal(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function dsPadNumber(e){e="00"+e;return strSubstr(e,e[_DYN_LENGTH$3]-3)}var _document=getDocument()||{},_htmlAnchorIdx=0,_htmlAnchorElement=[null,null,null,null,null];function urlParseUrl(e){var t=_htmlAnchorIdx,n=_htmlAnchorElement,r=n[t];return _document.createElement?n[t]||(r=n[t]=_document.createElement("a")):r={host:urlParseHost(e,!0)},r.href=e,++t>=n[_DYN_LENGTH$3]&&(t=0),_htmlAnchorIdx=t,r}function urlGetAbsoluteUrl(e){e=urlParseUrl(e);return e?e.href:void 0}function urlGetCompleteUrl(e,t){return e?e.toUpperCase()+" "+t:t}function urlParseHost(e,t){e=urlParseFullHost(e,t)||"";if(e){t=e[_DYN_MATCH](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=t&&3<t[_DYN_LENGTH$3]&&isString(t[2])&&0<t[2][_DYN_LENGTH$3])return t[2]+(t[3]||"")}return e}function urlParseFullHost(e,t){var n=null;return e&&null!=(e=e[_DYN_MATCH](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i))&&2<e[_DYN_LENGTH$3]&&isString(e[2])&&0<e[2][_DYN_LENGTH$3]&&(n=e[2]||"",t&&2<e[_DYN_LENGTH$3]&&(t=(e[1]||"")[_DYN_TO_LOWER_CASE$1](),e=e[3]||"",n+=e="http"===t&&":80"===e||"https"===t&&":443"===e?"":e)),n}var _internalEndpoints=[DEFAULT_BREEZE_ENDPOINT+DEFAULT_BREEZE_PATH,"https://breeze.aimon.applicationinsights.io"+DEFAULT_BREEZE_PATH,"https://dc-int.services.visualstudio.com"+DEFAULT_BREEZE_PATH],_correlationIdPrefix="cid-v1:";function isInternalApplicationInsightsEndpoint(e){return-1!==arrIndexOf(_internalEndpoints,e[_DYN_TO_LOWER_CASE$1]())}function correlationIdCanIncludeCorrelationHeader(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[_DYN_CORRELATION_HEADER_E0])for(var r=0;r<e.correlationHeaderExcludePatterns[_DYN_LENGTH$3];r++)if(e[_DYN_CORRELATION_HEADER_E0][r].test(t))return!1;var i=urlParseUrl(t).host[_DYN_TO_LOWER_CASE$1]();if(!i||-1===strIndexOf(i,":443")&&-1===strIndexOf(i,":80")||(i=(urlParseFullHost(t,!0)||"")[_DYN_TO_LOWER_CASE$1]()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var a,n=e&&e.correlationHeaderDomains;if(n&&(arrForEach(n,function(e){e=RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||e.test(i)}),!a))return!1;var _=e&&e.correlationHeaderExcludedDomains;if(!_||0===_[_DYN_LENGTH$3])return!0;for(r=0;r<_[_DYN_LENGTH$3];r++)if(RegExp(_[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&0<i[_DYN_LENGTH$3]}function correlationIdGetCorrelationContext(e){if(e){e=correlationIdGetCorrelationContextValue(e,RequestHeaders[1]);if(e&&e!==_correlationIdPrefix)return e}}function correlationIdGetCorrelationContextValue(e,t){if(e)for(var n=e[_DYN_SPLIT](","),r=0;r<n[_DYN_LENGTH$3];++r){var i=n[r][_DYN_SPLIT]("=");if(2===i[_DYN_LENGTH$3]&&i[0]===t)return i[1]}}function AjaxHelperParseDependencyPath(e,t,n,r){var i,a,_,o=r,s=r,o=t&&0<t[_DYN_LENGTH$3]?(_=(i=urlParseUrl(t)).host,o||(null!=i[_DYN_PATHNAME]?("/"!=((a=0===i.pathname[_DYN_LENGTH$3]?"/":i[_DYN_PATHNAME])[0]||"")&&(a="/"+a),s=i[_DYN_PATHNAME],dataSanitizeString(e,n?n+" "+a:a)):dataSanitizeString(e,t))):_=r;return{target:_,name:o,data:s}}function dateTimeUtilsNow(){var e=getPerformance();if(e&&e.now&&e.timing){e=e.now()+e.timing.navigationStart;if(0<e)return e}return utcNow()}function dateTimeUtilsDuration(e,t){return 0===e||0===t||isNullOrUndefined(e)||isNullOrUndefined(t)?null:t-e}function createDistributedTraceContextFromTrace(e,t){var n=e||{};return{getName:function(){return n[_DYN_NAME$1]},setName:function(e){t&&t.setName(e),n[_DYN_NAME$1]=e},getTraceId:function(){return n.traceID},setTraceId:function(e){t&&t.setTraceId(e),isValidTraceId(e)&&(n.traceID=e)},getSpanId:function(){return n.parentID},setSpanId:function(e){t&&t.setSpanId(e),isValidSpanId(e)&&(n.parentID=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),n.traceFlags=e}}}var StorageType=createEnumStyle({LocalStorage:0,SessionStorage:1}),DistributedTracingModes=createEnumStyle({AI:0,AI_AND_W3C:1,W3C:2}),EventPersistence=createEnumStyle({Normal:1,Critical:2}),_canUseLocalStorage=undefined,_canUseSessionStorage=undefined,_storagePrefix="";function _getLocalStorageObject(){return utlCanUseLocalStorage()?_getVerifiedStorageObject(StorageType.LocalStorage):null}function _getVerifiedStorageObject(e){try{if(isNullOrUndefined(getGlobal()))return null;var t=(new Date)[_DYN_TO_STRING$2](),n=getInst(e===StorageType.LocalStorage?"localStorage":"sessionStorage"),r=_storagePrefix+t,i=(n.setItem(r,t),n.getItem(r)!==t);if(n[_DYN_REMOVE_ITEM](r),!i)return n}catch(a){}return null}function _getSessionStorageObject(){return utlCanUseSessionStorage()?_getVerifiedStorageObject(StorageType.SessionStorage):null}function utlDisableStorage(){_canUseSessionStorage=_canUseLocalStorage=!1}function utlSetStoragePrefix(e){_storagePrefix=e||""}function utlEnableStorage(){_canUseLocalStorage=utlCanUseLocalStorage(!0),_canUseSessionStorage=utlCanUseSessionStorage(!0)}function utlCanUseLocalStorage(e){return _canUseLocalStorage=e||_canUseLocalStorage===undefined?!!_getVerifiedStorageObject(StorageType.LocalStorage):_canUseLocalStorage}function utlGetLocalStorage(e,t){var n=_getLocalStorageObject();if(null!==n)try{return n.getItem(t)}catch(r){_canUseLocalStorage=!1,_throwInternal(e,2,1,"Browser failed read of local storage. "+getExceptionName(r),{exception:dumpObj(r)})}return null}function utlSetLocalStorage(e,t,n){var r=_getLocalStorageObject();if(null!==r)try{return r.setItem(t,n),!0}catch(i){_canUseLocalStorage=!1,_throwInternal(e,2,3,"Browser failed write to local storage. "+getExceptionName(i),{exception:dumpObj(i)})}return!1}function utlRemoveStorage(e,t){var n=_getLocalStorageObject();if(null!==n)try{return n[_DYN_REMOVE_ITEM](t),!0}catch(r){_canUseLocalStorage=!1,_throwInternal(e,2,5,"Browser failed removal of local storage item. "+getExceptionName(r),{exception:dumpObj(r)})}return!1}function utlCanUseSessionStorage(e){return _canUseSessionStorage=e||_canUseSessionStorage===undefined?!!_getVerifiedStorageObject(StorageType.SessionStorage):_canUseSessionStorage}function utlGetSessionStorage(e,t){var n=_getSessionStorageObject();if(null!==n)try{return n.getItem(t)}catch(r){_canUseSessionStorage=!1,_throwInternal(e,2,2,"Browser failed read of session storage. "+getExceptionName(r),{exception:dumpObj(r)})}return null}function utlSetSessionStorage(e,t,n){var r=_getSessionStorageObject();if(null!==r)try{return r.setItem(t,n),!0}catch(i){_canUseSessionStorage=!1,_throwInternal(e,2,4,"Browser failed write to session storage. "+getExceptionName(i),{exception:dumpObj(i)})}return!1}function utlRemoveSessionStorage(e,t){var n=_getSessionStorageObject();if(null!==n)try{return n[_DYN_REMOVE_ITEM](t),!0}catch(r){_canUseSessionStorage=!1,_throwInternal(e,2,6,"Browser failed removal of session storage item. "+getExceptionName(r),{exception:dumpObj(r)})}return!1}var THROTTLE_STORAGE_PREFIX="appInsightsThrottle",ThrottleMgr=function(e,t){var N,f,E,i,D,a,_,n=this,T=!1,d=!1;function o(e,t,n,r){if(T){if(!function(e){try{var t=S(e);return randomValue(1e6)<=t.limit.samplingRate}catch(n){}}(e))return;var i=S(e),a=I(e),_=g(i,N,a),o=!1,s=0,c=R(e);try{_&&!c?(s=mathMin(i.limit.maxSendNumber,a[_DYN_COUNT$1]+1),o=!(a[_DYN_COUNT$1]=0),D[e]=!0,a[_DYN_PRE_TRIGGER_DATE]=new Date):(D[e]=_,a[_DYN_COUNT$1]+=1);var u=p(e);A(f,u,a);for(var l=0;l<s;l++)_throwInternal(f,n||1,e,t)}catch(E){}return{isThrottled:o,throttleNum:s}}return r&&Y(e).push({msgID:e,message:t,severity:n}),null}function S(e){return E[e]||E[109]}function r(e,t){var n,r,i,a,_;try{var o=t||{},s={},c=(s.disabled=!!o.disabled,o.interval||{}),u=(d=(null===c?void 0:c.daysOfMonth)&&0<(null===c?void 0:c.daysOfMonth[_DYN_LENGTH$3]),s.interval=(a=null==(i=c||{})?void 0:i.monthInterval,_=null==i?void 0:i.dayInterval,isNullOrUndefined(a)&&isNullOrUndefined(_)&&(i.monthInterval=3,d||(i.daysOfMonth=[28],d=!0)),{monthInterval:null==i?void 0:i.monthInterval,dayInterval:null==i?void 0:i.dayInterval,daysOfMonth:null==i?void 0:i.daysOfMonth}),{samplingRate:(null==(n=o.limit)?void 0:n.samplingRate)||100,maxSendNumber:(null==(r=o.limit)?void 0:r.maxSendNumber)||1});s.limit=u,E[e]=s}catch(l){}}function g(e,t,n){var r,i;return!(!e||e.disabled||!t||!isNotNullOrUndefined(n))&&(t=s(),n=n.date,r=1,null!=(e=e.interval)&&e.monthInterval&&(i=12*(t.getUTCFullYear()-n.getUTCFullYear())+t.getUTCMonth()-n.getUTCMonth(),r=c(e.monthInterval,0,i)),i=1,d?i=arrIndexOf(e.daysOfMonth,t[_DYN_GET_UTCDATE]()):null!=e&&e.dayInterval&&(t=mathFloor((t.getTime()-n.getTime())/864e5),i=c(e.dayInterval,0,t)),0<=r&&0<=i)}function p(e,t){t=isNotNullOrUndefined(t)?t:"";return e?THROTTLE_STORAGE_PREFIX+t+"-"+e:null}function s(e){try{if(!e)return new Date;var t=new Date(e);if(!isNaN(t.getDate()))return t}catch(n){}return null}function A(e,t,n){try{utlSetLocalStorage(e,t,strTrim(JSON[_DYN_STRINGIFY$1](n)))}catch(r){}}function c(e,t,n){return e<=0?1:t<=n&&(n-t)%e==0?mathFloor((n-t)/e)+1:-1}function I(e){try{var t,n;return i[e]||(t=p(e,a),n=function(e,t,n){try{var r,i={date:s(),count:0};return e?{date:s((r=JSON.parse(e)).date)||i.date,count:r[_DYN_COUNT$1]||i[_DYN_COUNT$1],preTriggerDate:r.preTriggerDate?s(r[_DYN_PRE_TRIGGER_DATE]):undefined}:(A(t,n,i),i)}catch(a){}return null}(utlGetLocalStorage(f,t),f,t),i[e]=n),i[e]}catch(r){}return null}function R(e){var t,n=D[e];return isNullOrUndefined(n)&&(n=!1,(t=I(e))&&(n=function(e){try{var t;if(e)return t=new Date,e.getUTCFullYear()==t.getUTCFullYear()&&e.getUTCMonth()==t.getUTCMonth()&&e[_DYN_GET_UTCDATE]()===t[_DYN_GET_UTCDATE]()}catch(n){}return!1}(t[_DYN_PRE_TRIGGER_DATE])),D[e]=n),D[e]}function Y(e){return isNullOrUndefined((_=_||{})[e])&&(_[e]=[]),_[e]}f=safeGetLogger(e),D={},i={},_={},E={},r(109),a=isNotNullOrUndefined(t)?t:"",e.addUnloadHook(onConfigChange(e.config,function(e){e=e.cfg;N=utlCanUseLocalStorage(),objForEachKey(e.throttleMgrCfg||{},function(e,t){r(parseInt(e),t)})})),n._getDbgPlgTargets=function(){return[_]},n.getConfig=function(){return E},n.canThrottle=function(e){var t=I(e);return g(S(e),N,t)},n.isTriggered=R,n.isReady=function(){return T},n.flush=function(e){try{var t,n=Y(e);if(n&&0<n[_DYN_LENGTH$3])return t=n.slice(0),_[e]=[],arrForEach(t,function(e){o(e.msgID,e[_DYN_MESSAGE],e.severity,!1)}),!0}catch(r){}return!1},n.flushAll=function(){try{var t;if(_)return t=!0,objForEachKey(_,function(e){e=n.flush(parseInt(e));t=t&&e}),t}catch(e){}return!1},n.onReadyState=function(e,t){return void 0===t&&(t=!0),(T=!!isNullOrUndefined(e)||e)&&t?n.flushAll():null},n.sendMessage=function(e,t,n){return o(e,t,n,!0)}},_FIELDS_SEPARATOR=";",_FIELD_KEY_VALUE_SEPARATOR="=";function parseConnectionString(e){if(!e)return{};var t,e=e[_DYN_SPLIT](_FIELDS_SEPARATOR),e=arrReduce(e,function(e,t){var n,t=t[_DYN_SPLIT](_FIELD_KEY_VALUE_SEPARATOR);return 2===t[_DYN_LENGTH$3]&&(n=t[0][_DYN_TO_LOWER_CASE$1](),t=t[1],e[n]=t),e},{});return 0<objKeys(e)[_DYN_LENGTH$3]&&(e.endpointsuffix&&(t=e.location?e.location+".":"",e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT]||"https://"+t+"dc."+e.endpointsuffix),e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT]||DEFAULT_BREEZE_ENDPOINT,strEndsWith(e[_DYN_INGESTIONENDPOINT],"/")&&(e[_DYN_INGESTIONENDPOINT]=e[_DYN_INGESTIONENDPOINT].slice(0,-1))),e}var Envelope=function(e,t,n){var r=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i[_DYN_NAME$1]=dataSanitizeString(e,n)||strNotSpecified,i.data=t,i.time=toISOString(new Date),i[_DYN_AI_DATA_CONTRACT]={time:1,iKey:1,name:1,sampleRate:function(){return 100===r.sampleRate?4:1},tags:1,data:1}},Event$1=function(){function e(e,t,n,r){this.aiDataContract={ver:1,name:1,properties:0,measurements:0},this.ver=2,this[_DYN_NAME$1]=dataSanitizeString(e,t)||strNotSpecified,this[_DYN_PROPERTIES$1]=dataSanitizeProperties(e,n),this[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),STACKFRAME_BASE_SIZE=58,IS_FRAME=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,FULL_STACK_FRAME_1=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,FULL_STACK_FRAME_2=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,FULL_STACK_FRAME_3=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,EXTRACT_FILENAME=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,PARSE_FILENAME_LINE_COL=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,PARSE_FILENAME_LINE_ONLY=/([^\(\s\n]+):([0-9]+)$/,NoMethod="<no_method>",strError="error",strStack="stack",strStackDetails="stackDetails",strErrorSrc="errorSrc",strMessage="message",strDescription="description",_parseSequence=[{re:FULL_STACK_FRAME_1,len:5,m:1,fn:2,ln:3,col:4},{chk:_ignoreNative,pre:_scrubAnonymous,re:FULL_STACK_FRAME_2,len:4,m:1,fn:2,ln:3},{re:FULL_STACK_FRAME_3,len:3,m:1,fn:2,hdl:_handleFilename},{re:EXTRACT_FILENAME,len:2,fn:1,hdl:_handleFilename}];function _scrubAnonymous(e){return e.replace(/(\(anonymous\))/,"<anonymous>")}function _ignoreNative(e){return strIndexOf(e,"[native")<0}function _stringify(e,t){var n=e;return n&&!isString(n)&&(JSON&&JSON[_DYN_STRINGIFY$1]?(n=JSON[_DYN_STRINGIFY$1](e),!t||n&&"{}"!==n||(n=isFunction(e[_DYN_TO_STRING$2])?e[_DYN_TO_STRING$2]():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function _formatMessage(e,t){var n=e;return e&&((n=n&&!isString(n)&&(e[strMessage]||e[strDescription])||n)&&!isString(n)&&(n=_stringify(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===strIndexOf(n||"",t)?t+": "+n:n)||""}function _isExceptionDetailsInternal(e){try{if(isObject(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}return!1}function _isExceptionInternal(e){try{if(isObject(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}return!1}function _isStackDetails(e){return e&&e.src&&isString(e.src)&&e.obj&&isArray(e.obj)}function _convertStackObj(e){var e=e||"",t=(e=isString(e)?e:isString(e[strStack])?e[strStack]:""+e)[_DYN_SPLIT]("\n");return{src:e,obj:t}}function _getOperaStack(e){for(var t=[],n=e[_DYN_SPLIT]("\n"),r=0;r<n[_DYN_LENGTH$3];r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}function _getStackFromErrorObj(e){var t,n=null;if(e)try{e[strStack]?n=_convertStackObj(e[strStack]):e[strError]&&e[strError][strStack]?n=_convertStackObj(e[strError][strStack]):e.exception&&e.exception[strStack]?n=_convertStackObj(e.exception[strStack]):_isStackDetails(e)?n=e:_isStackDetails(e[strStackDetails])?n=e[strStackDetails]:getWindow()&&getWindow().opera&&e[strMessage]?n=_getOperaStack(e[_DYN_MESSAGE]):e.reason&&e.reason[strStack]?n=_convertStackObj(e.reason[strStack]):isString(e)?n=_convertStackObj(e):(t=e[strMessage]||e[strDescription]||"",isString(e[strErrorSrc])&&(t&&(t+="\n"),t+=" from "+e[strErrorSrc]),t&&(n=_convertStackObj(t)))}catch(r){n=_convertStackObj(r)}return n||{src:"",obj:null}}function _formatStackTrace(e){return e?e.obj?e.obj.join("\n"):e.src||"":""}function _parseStack(e){e=e.obj;if(e&&0<e[_DYN_LENGTH$3]){var t=[],n=0,r=!1,i=0;if(arrForEach(e,function(e){(r||_isStackFrame(e))&&(e=asString(e),r=!0,(e=_extractStackFrame(e,n))&&(i+=e[_DYN_SIZE_IN_BYTES],t.push(e),n++))}),32768<i)for(var a=0,_=t[_DYN_LENGTH$3]-1,o=0,s=a,c=_;a<_;){if(32768<(o+=t[a][_DYN_SIZE_IN_BYTES]+t[_][_DYN_SIZE_IN_BYTES])){t.splice(s,c-s+1);break}s=a,c=_,a++,_--}}return t}function _getErrorType(e){var t="";if(e&&!(t=e.typeName||e[_DYN_NAME$1]||""))try{var n=/function (.{1,200})\(/.exec(e.constructor[_DYN_TO_STRING$2]()),t=n&&1<n[_DYN_LENGTH$3]?n[1]:""}catch(r){}return t}function _formatErrorCode(e){if(e)try{var t,n;if(!isString(e))return t=_getErrorType(e),(n=_stringify(e,!1))&&"{}"!==n||(e[strError]&&(t=_getErrorType(e=e[strError])),n=_stringify(e,!0)),0!==strIndexOf(n,t)&&"String"!==t?t+":"+n:n}catch(r){}return""+(e||"")}var Exception=function(){function a(e,t,n,r,i,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var _=this;_.ver=2,_isExceptionInternal(t)?(_[_DYN_EXCEPTIONS]=t[_DYN_EXCEPTIONS]||[],_[_DYN_PROPERTIES$1]=t[_DYN_PROPERTIES$1],_[_DYN_MEASUREMENTS$1]=t[_DYN_MEASUREMENTS$1],t[_DYN_SEVERITY_LEVEL]&&(_[_DYN_SEVERITY_LEVEL]=t[_DYN_SEVERITY_LEVEL]),t.id&&(_.id=t.id,t[_DYN_PROPERTIES$1].id=t.id),t[_DYN_PROBLEM_GROUP]&&(_[_DYN_PROBLEM_GROUP]=t[_DYN_PROBLEM_GROUP]),isNullOrUndefined(t.isManual)||(_.isManual=t.isManual)):(n=n||{},a&&(n.id=a),_[_DYN_EXCEPTIONS]=[_createExceptionDetails(e,t,n)],_[_DYN_PROPERTIES$1]=dataSanitizeProperties(e,n),_[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,r),i&&(_[_DYN_SEVERITY_LEVEL]=i),a&&(_.id=a))}return a.CreateAutoException=function(e,t,n,r,i,a,_,o){var s=_getErrorType(i||a||e);return{message:_formatMessage(e,s),url:t,lineNumber:n,columnNumber:r,error:_formatErrorCode(i||a||e),evt:_formatErrorCode(a||e),typeName:s,stackDetails:_getStackFromErrorObj(_||i||a),errorSrc:o}},a.CreateFromInterface=function(t,e,n,r){var i=e[_DYN_EXCEPTIONS]&&arrMap(e[_DYN_EXCEPTIONS],function(e){return _createExDetailsFromInterface(t,e)});return new a(t,__assignFn(__assignFn({},e),{exceptions:i}),n,r)},a.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,a=e.problemGroup,_=e.id,e=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&arrMap(t,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:_,isManual:e}},a.CreateSimpleException=function(e,t,n,r,i,a){var _;return{exceptions:[((_={})[_DYN_HAS_FULL_STACK]=!0,_.message=e,_.stack=i,_.typeName=t,_)]}},a.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",a.dataType="ExceptionData",a.formatError=_formatErrorCode,a}(),exDetailsAiDataContract=objFreeze({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function _toInterface(){var e=this,t=isArray(e[_DYN_PARSED_STACK])&&arrMap(e[_DYN_PARSED_STACK],function(e){return _parsedFrameToInterface(e)});return{id:e.id,outerId:e.outerId,typeName:e[_DYN_TYPE_NAME],message:e[_DYN_MESSAGE],hasFullStack:e[_DYN_HAS_FULL_STACK],stack:e[strStack],parsedStack:t||undefined}}function _createExceptionDetails(t,e,n){var r,i,a,_,o,s,c;return _isExceptionDetailsInternal(e)?(r=e[_DYN_TYPE_NAME],i=e[_DYN_MESSAGE],_=e[strStack],c=e[_DYN_PARSED_STACK]||[],a=e[_DYN_HAS_FULL_STACK]):(s=(o=e)&&o.evt,isError(o)||(o=o[strError]||s||o),r=dataSanitizeString(t,_getErrorType(o))||strNotSpecified,i=dataSanitizeMessage(t,_formatMessage(e||o,r))||strNotSpecified,c=_parseStack(s=e[strStackDetails]||_getStackFromErrorObj(e)),isArray(c)&&arrMap(c,function(e){e[_DYN_ASSEMBLY]=dataSanitizeString(t,e[_DYN_ASSEMBLY]),e[_DYN_FILE_NAME]=dataSanitizeString(t,e[_DYN_FILE_NAME])}),_=dataSanitizeException(t,_formatStackTrace(s)),a=isArray(c)&&0<c[_DYN_LENGTH$3],n&&(n[_DYN_TYPE_NAME]=n[_DYN_TYPE_NAME]||r)),(o={})[_DYN_AI_DATA_CONTRACT]=exDetailsAiDataContract,o.id=void 0,o.outerId=void 0,o.typeName=r,o.message=i,o[_DYN_HAS_FULL_STACK]=a,o.stack=_,o.parsedStack=c,o.toInterface=_toInterface,o}function _createExDetailsFromInterface(e,t){var n=isArray(t[_DYN_PARSED_STACK])&&arrMap(t[_DYN_PARSED_STACK],function(e){return _stackFrameFromInterface(e)})||t[_DYN_PARSED_STACK];return _createExceptionDetails(e,__assignFn(__assignFn({},t),{parsedStack:n}))}function _parseFilename(e,t){var n=t[_DYN_MATCH](PARSE_FILENAME_LINE_COL);n&&4<=n[_DYN_LENGTH$3]?(e[_DYN_FILE_NAME]=n[1],e[_DYN_LINE]=parseInt(n[2])):(n=t[_DYN_MATCH](PARSE_FILENAME_LINE_ONLY))&&3<=n[_DYN_LENGTH$3]?(e[_DYN_FILE_NAME]=n[1],e[_DYN_LINE]=parseInt(n[2])):e[_DYN_FILE_NAME]=t}function _handleFilename(e,t,n){var r=e[_DYN_FILE_NAME];t.fn&&n&&n[_DYN_LENGTH$3]>t.fn&&(t.ln&&n[_DYN_LENGTH$3]>t.ln?(r=strTrim(n[t.fn]||""),e[_DYN_LINE]=parseInt(strTrim(n[t.ln]||""))||0):r=strTrim(n[t.fn]||"")),r&&_parseFilename(e,r)}function _isStackFrame(e){var t=!1;return e&&isString(e)&&(e=strTrim(e))?IS_FRAME.test(e):t}var stackFrameAiDataContract=objFreeze({level:1,method:1,assembly:0,fileName:0,line:0});function _extractStackFrame(e,t){var n;if(e&&isString(e)&&strTrim(e)){(n={})[_DYN_AI_DATA_CONTRACT]=stackFrameAiDataContract,n.level=t,n.assembly=strTrim(e),n.method=NoMethod,n.fileName="",n.line=0,n.sizeInBytes=0;for(var r=n,i=0;i<_parseSequence[_DYN_LENGTH$3];){var a=_parseSequence[i];if(a.chk&&!a.chk(e))break;var _=(e=a.pre?a.pre(e):e)[_DYN_MATCH](a.re);if(_&&_[_DYN_LENGTH$3]>=a.len){a.m&&(r.method=strTrim(_[a.m]||NoMethod)),a.hdl?a.hdl(r,a,_):a.fn&&(a.ln?(r[_DYN_FILE_NAME]=strTrim(_[a.fn]||""),r[_DYN_LINE]=parseInt(strTrim(_[a.ln]||""))||0):_parseFilename(r,_[a.fn]||""));break}i++}}return _populateFrameSizeInBytes(r)}function _stackFrameFromInterface(e){var t;return(t={})[_DYN_AI_DATA_CONTRACT]=stackFrameAiDataContract,t.level=e.level,t.method=e.method,t.assembly=e[_DYN_ASSEMBLY],t.fileName=e[_DYN_FILE_NAME],t.line=e[_DYN_LINE],t.sizeInBytes=0,_populateFrameSizeInBytes(t)}function _populateFrameSizeInBytes(e){var t=STACKFRAME_BASE_SIZE;return e&&(t=(t+=e.method[_DYN_LENGTH$3])+e.assembly[_DYN_LENGTH$3]+e.fileName[_DYN_LENGTH$3]+e.level.toString()[_DYN_LENGTH$3]+e.line.toString()[_DYN_LENGTH$3],e[_DYN_SIZE_IN_BYTES]=t),e}function _parsedFrameToInterface(e){return{level:e.level,method:e.method,assembly:e[_DYN_ASSEMBLY],fileName:e[_DYN_FILE_NAME],line:e[_DYN_LINE]}}var DataPoint=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Metric=function(){function e(e,t,n,r,i,a,_,o,s){this.aiDataContract={ver:1,metrics:1,properties:0},this.ver=2;var c=new DataPoint;c[_DYN_COUNT$1]=0<r?r:undefined,c.max=isNaN(a)||null===a?undefined:a,c.min=isNaN(i)||null===i?undefined:i,c[_DYN_NAME$1]=dataSanitizeString(e,t)||strNotSpecified,c.value=n,c.stdDev=isNaN(_)||null===_?undefined:_,this.metrics=[c],this[_DYN_PROPERTIES$1]=dataSanitizeProperties(e,o),this[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,s)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),strEmpty="";function msToTimeSpan(e){e=mathRound(e=isNaN(e)||e<0?0:e);var t=strEmpty+e%1e3,n=strEmpty+mathFloor(e/1e3)%60,r=strEmpty+mathFloor(e/6e4)%60,i=strEmpty+mathFloor(e/36e5)%24,e=mathFloor(e/864e5),t=1===t[_DYN_LENGTH$3]?"00"+t:2===t[_DYN_LENGTH$3]?"0"+t:t,n=n[_DYN_LENGTH$3]<2?"0"+n:n,r=r[_DYN_LENGTH$3]<2?"0"+r:r,i=i[_DYN_LENGTH$3]<2?"0"+i:i;return(0<e?e+".":strEmpty)+i+":"+r+":"+n+"."+t}function isCrossOriginError(e,t,n,r,i){return!i&&isString(e)&&("Script error."===e||"Script error"===e)}var PageView=function(){function e(e,t,n,r,i,a,_){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var o=this;o.ver=2,o.id=dataSanitizeId(e,_),o.url=dataSanitizeUrl(e,n),o[_DYN_NAME$1]=dataSanitizeString(e,t)||strNotSpecified,isNaN(r)||(o[_DYN_DURATION$1]=msToTimeSpan(r)),o[_DYN_PROPERTIES$1]=dataSanitizeProperties(e,i),o[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),RemoteDependencyData=function(){function e(e,t,n,r,i,a,_,o,s,c,u,l){void 0===s&&(s="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var E=this,t=(E.ver=2,E.id=t,E[_DYN_DURATION$1]=msToTimeSpan(i),E.success=a,E.resultCode=_+"",E.type=dataSanitizeString(e,s),AjaxHelperParseDependencyPath(e,n,o,r));E.data=dataSanitizeUrl(e,r)||t.data,E.target=dataSanitizeString(e,t.target),c&&(E.target="".concat(E.target," | ").concat(c)),E[_DYN_NAME$1]=dataSanitizeString(e,t[_DYN_NAME$1]),E[_DYN_PROPERTIES$1]=dataSanitizeProperties(e,u),E[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,l)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),Trace=function(){function e(e,t,n,r,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,a[_DYN_MESSAGE]=dataSanitizeMessage(e,t=t||strNotSpecified),a[_DYN_PROPERTIES$1]=dataSanitizeProperties(e,r),a[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,i),n&&(a[_DYN_SEVERITY_LEVEL]=n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),PageViewPerformance=function(){function e(e,t,n,r,i,a,_){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var o=this;o.ver=2,o.url=dataSanitizeUrl(e,n),o[_DYN_NAME$1]=dataSanitizeString(e,t)||strNotSpecified,o[_DYN_PROPERTIES$1]=dataSanitizeProperties(e,i),o[_DYN_MEASUREMENTS$1]=dataSanitizeMeasurements(e,a),_&&(o.domProcessing=_.domProcessing,o[_DYN_DURATION$1]=_[_DYN_DURATION$1],o.networkConnect=_.networkConnect,o.perfTotal=_.perfTotal,o.receivedResponse=_.receivedResponse,o.sentRequest=_.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(),Data=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t},SeverityLevel=createEnumStyle({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function _aiNameFunc(e){var t="ai."+e+".";return function(e){return t+e}}var _aiApplication=_aiNameFunc("application"),_aiDevice=_aiNameFunc("device"),_aiLocation=_aiNameFunc("location"),_aiOperation=_aiNameFunc("operation"),_aiSession=_aiNameFunc("session"),_aiUser=_aiNameFunc("user"),_aiCloud=_aiNameFunc("cloud"),_aiInternal=_aiNameFunc("internal"),ContextTagKeys=function(e){function t(){return e.call(this)||this}return __extendsFn(t,e),t}(createClassFromInterface({applicationVersion:_aiApplication("ver"),applicationBuild:_aiApplication("build"),applicationTypeId:_aiApplication("typeId"),applicationId:_aiApplication("applicationId"),applicationLayer:_aiApplication("layer"),deviceId:_aiDevice("id"),deviceIp:_aiDevice("ip"),deviceLanguage:_aiDevice("language"),deviceLocale:_aiDevice("locale"),deviceModel:_aiDevice("model"),deviceFriendlyName:_aiDevice("friendlyName"),deviceNetwork:_aiDevice("network"),deviceNetworkName:_aiDevice("networkName"),deviceOEMName:_aiDevice("oemName"),deviceOS:_aiDevice("os"),deviceOSVersion:_aiDevice("osVersion"),deviceRoleInstance:_aiDevice("roleInstance"),deviceRoleName:_aiDevice("roleName"),deviceScreenResolution:_aiDevice("screenResolution"),deviceType:_aiDevice("type"),deviceMachineName:_aiDevice("machineName"),deviceVMName:_aiDevice("vmName"),deviceBrowser:_aiDevice("browser"),deviceBrowserVersion:_aiDevice("browserVersion"),locationIp:_aiLocation("ip"),locationCountry:_aiLocation("country"),locationProvince:_aiLocation("province"),locationCity:_aiLocation("city"),operationId:_aiOperation("id"),operationName:_aiOperation("name"),operationParentId:_aiOperation("parentId"),operationRootId:_aiOperation("rootId"),operationSyntheticSource:_aiOperation("syntheticSource"),operationCorrelationVector:_aiOperation("correlationVector"),sessionId:_aiSession("id"),sessionIsFirst:_aiSession("isFirst"),sessionIsNew:_aiSession("isNew"),userAccountAcquisitionDate:_aiUser("accountAcquisitionDate"),userAccountId:_aiUser("accountId"),userAgent:_aiUser("userAgent"),userId:_aiUser("id"),userStoreRegion:_aiUser("storeRegion"),userAuthUserId:_aiUser("authUserId"),userAnonymousUserAcquisitionDate:_aiUser("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:_aiUser("authUserAcquisitionDate"),cloudName:_aiCloud("name"),cloudRole:_aiCloud("role"),cloudRoleVer:_aiCloud("roleVer"),cloudRoleInstance:_aiCloud("roleInstance"),cloudEnvironment:_aiCloud("environment"),cloudLocation:_aiCloud("location"),cloudDeploymentUnit:_aiCloud("deploymentUnit"),internalNodeName:_aiInternal("nodeName"),internalSdkVersion:_aiInternal("sdkVersion"),internalAgentVersion:_aiInternal("agentVersion"),internalSnippet:_aiInternal("snippet"),internalSdkSrc:_aiInternal("sdkSrc")}));function createTelemetryItem(e,t,n,r,i,a){n=dataSanitizeString(r,n)||strNotSpecified,(isNullOrUndefined(e)||isNullOrUndefined(t)||isNullOrUndefined(n))&&throwError("Input doesn't contain all required fields");var r="",_=(e[strIkey]&&(r=e[strIkey],delete e[strIkey]),{name:n,time:toISOString(new Date),iKey:r,ext:a||{},tags:[],data:{},baseType:t,baseData:e});return isNullOrUndefined(i)||objForEachKey(i,function(e,t){_.data[e]=t}),_}var Extensions={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},CtxTagKeys=new ContextTagKeys;function createDomEvent(e){var t,n=null;return isFunction(Event)?n=new Event(e):(t=getDocument())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function _disableEvents(e,t){eventOff(e,null,null,t)}function createOfflineListener(e){var t,n=getDocument(),r=getNavigator(),i=!1,a=[],_=1,o=(!r||isNullOrUndefined(r.onLine)||r.onLine||(_=2),0),s=l(),c=mergeEvtNamespace(createUniqueNamespace("OfflineListener"),e);try{u(getWindow())&&(i=!0),n&&(t=n.body||n).ononline&&u(t)&&(i=!0)}catch(D){i=!1}function u(e){var t=!1;return e&&(t=eventOn(e,"online",N,c))&&eventOn(e,"offline",f,c),t}function l(){return 2!==o&&2!==_}function E(){var e=l();s!==e&&(s=e,arrForEach(a,function(e){var t={isOnline:s,rState:_,uState:o};try{e(t)}catch(D){}}))}function N(){_=1,E()}function f(){_=2,E()}return{isOnline:function(){return s},isListening:function(){return i},unload:function(){var e=getWindow();e&&i&&(_disableEvents(e,c),n&&!isUndefined((e=n.body||n).ononline)&&_disableEvents(e,c),i=!1)},addListener:function(t){return a.push(t),{rm:function(){var e=a.indexOf(t);if(-1<e)return a.splice(e,1)}}},setOnlineState:function(e){o=e,E()}}}var PropertiesPluginIdentifier="AppInsightsPropertiesPlugin",BreezeChannelIdentifier="AppInsightsChannelPlugin",AnalyticsPluginIdentifier="ApplicationInsightsAnalytics",_DYN_TO_STRING$1="toString",_DYN_IS_STORAGE_USE_DISAB0="isStorageUseDisabled",_DYN__ADD_HOOK$1="_addHook",_DYN_CORE$1="core",_DYN_DATA_TYPE$1="dataType",_DYN_ENVELOPE_TYPE$1="envelopeType",_DYN_DIAG_LOG$1="diagLog",_DYN_TRACK="track",_DYN_TRACK_PAGE_VIEW="trackPageView",_DYN_TRACK_PREVIOUS_PAGE_1="trackPreviousPageVisit",_DYN_SEND_PAGE_VIEW_INTER2="sendPageViewInternal",_DYN_START_TIME$1="startTime",_DYN_PROPERTIES="properties",_DYN_DURATION="duration",_DYN_SEND_PAGE_VIEW_PERFO3="sendPageViewPerformanceInternal",_DYN_POPULATE_PAGE_VIEW_P4="populatePageViewPerformanceEvent",_DYN_HREF="href",_DYN_SEND_EXCEPTION_INTER5="sendExceptionInternal",_DYN_ERROR="error",_DYN_LINE_NUMBER="lineNumber",_DYN_COLUMN_NUMBER="columnNumber",_DYN__CREATE_AUTO_EXCEPTI6="CreateAutoException",_DYN_ADD_TELEMETRY_INITIA7="addTelemetryInitializer",_DYN_OVERRIDE_PAGE_VIEW_D8="overridePageViewDuration",_DYN_AUTO_EXCEPTION_INSTR9="autoExceptionInstrumented",_DYN_AUTO_TRACK_PAGE_VISI10="autoTrackPageVisitTime",_DYN_IS_BROWSER_LINK_TRAC11="isBrowserLinkTrackingEnabled",_DYN_LENGTH$2="length",_DYN_ENABLE_AUTO_ROUTE_TR12="enableAutoRouteTracking",_DYN_ENABLE_UNHANDLED_PRO13="enableUnhandledPromiseRejectionTracking",_DYN_AUTO_UNHANDLED_PROMI14="autoUnhandledPromiseInstrumented",_DYN_GET_ENTRIES_BY_TYPE="getEntriesByType",_DYN_IS_PERFORMANCE_TIMIN15="isPerformanceTimingSupported",_DYN_GET_PERFORMANCE_TIMI16="getPerformanceTiming",_DYN_NAVIGATION_START="navigationStart",_DYN_SHOULD_COLLECT_DURAT17="shouldCollectDuration",_DYN_IS_PERFORMANCE_TIMIN18="isPerformanceTimingDataReady",_DYN_RESPONSE_START="responseStart",_DYN_REQUEST_START="requestStart",_DYN_LOAD_EVENT_END="loadEventEnd",_DYN_RESPONSE_END="responseEnd",_DYN_CONNECT_END="connectEnd",PageViewManager=function(){function e(D,T,t,d){dynamicProto(e,this,function(e){var u,r=null,i=[],l=!1,E=!1;function N(e){t&&t.flush(e,function(){})}function f(e){i.push(e),function n(){r=r||scheduleTimeout(function(){r=null;var e=i.slice(0),t=!1;i=[],arrForEach(e,function(e){e()?t=!0:i.push(e)}),0<i[_DYN_LENGTH$2]&&n(),t&&N(!0)},100)}()}t&&(u=t.logger),e[_DYN_TRACK_PAGE_VIEW]=function(r,i){var e,t,a=r.name,_=(!isNullOrUndefined(a)&&"string"==typeof a||(t=getDocument(),a=r.name=t&&t.title||""),r.uri);if(!isNullOrUndefined(_)&&"string"==typeof _||(t=getLocation(),_=r.uri=t&&t[_DYN_HREF]||""),E||((e=(t=getPerformance())&&t[_DYN_GET_ENTRIES_BY_TYPE]&&t[_DYN_GET_ENTRIES_BY_TYPE]("navigation"))&&e[0]&&!isUndefined(t.timeOrigin)?(e=e[0].loadEventStart,r[_DYN_START_TIME$1]=new Date(t.timeOrigin+e)):(t=(i||r[_DYN_PROPERTIES]||{})[_DYN_DURATION]||0,r[_DYN_START_TIME$1]=new Date((new Date).getTime()-t)),E=!0),!d[_DYN_IS_PERFORMANCE_TIMIN15]())return D[_DYN_SEND_PAGE_VIEW_INTER2](r,i),N(!0),void(isWebWorker()||_throwInternal(u,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info."));var o,n,s=!1,c=d[_DYN_GET_PERFORMANCE_TIMI16]()[_DYN_NAVIGATION_START];0<c&&(o=dateTimeUtilsDuration(c,+new Date),d[_DYN_SHOULD_COLLECT_DURAT17](o)||(o=undefined)),isNullOrUndefined(i)||isNullOrUndefined(i[_DYN_DURATION])||(n=i[_DYN_DURATION]),!T&&isNaN(n)||(isNaN(n)&&((i=i||{})[_DYN_DURATION]=o),D[_DYN_SEND_PAGE_VIEW_INTER2](r,i),N(!0),s=!0),i=i||{},f(function(){var e,t=!1;try{d[_DYN_IS_PERFORMANCE_TIMIN18]()?(t=!0,e={name:a,uri:_},d[_DYN_POPULATE_PAGE_VIEW_P4](e),e.isValid||s?(s||(i[_DYN_DURATION]=e.durationMs,D[_DYN_SEND_PAGE_VIEW_INTER2](r,i)),l||(D[_DYN_SEND_PAGE_VIEW_PERFO3](e,i),l=!0)):(i[_DYN_DURATION]=o,D[_DYN_SEND_PAGE_VIEW_INTER2](r,i))):0<c&&6e4<dateTimeUtilsDuration(c,+new Date)&&(t=!0,s||(i[_DYN_DURATION]=6e4,D[_DYN_SEND_PAGE_VIEW_INTER2](r,i)))}catch(n){_throwInternal(u,1,38,"trackPageView failed on page load calculation: "+getExceptionName(n),{exception:dumpObj(n)})}return t})},e.teardown=function(e,t){var n;r&&(r.cancel(),r=null,n=i.slice(0),i=[],arrForEach(n,function(e){e()}))}})}return e.__ieDyn=1,e}(),MAX_DURATION_ALLOWED=36e5,botAgentNames=["googlebot","adsbot-google","apis-google","mediapartners-google"];function _isPerformanceTimingSupported(){var e=getPerformance();return e&&!!e.timing}function _isPerformanceNavigationTimingSupported(){var e=getPerformance();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation")[_DYN_LENGTH$2]}function _isPerformanceTimingDataReady(){var e=getPerformance(),e=e?e.timing:0;return e&&0<e.domainLookupStart&&0<e[_DYN_NAVIGATION_START]&&0<e[_DYN_RESPONSE_START]&&0<e[_DYN_REQUEST_START]&&0<e[_DYN_LOAD_EVENT_END]&&0<e[_DYN_RESPONSE_END]&&0<e[_DYN_CONNECT_END]&&0<e.domLoading}function _getPerformanceTiming(){return _isPerformanceTimingSupported()?getPerformance().timing:null}function _getPerformanceNavigationTiming(){return _isPerformanceNavigationTimingSupported()?getPerformance()[_DYN_GET_ENTRIES_BY_TYPE]("navigation")[0]:null}function _shouldCollectDuration(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(getNavigator()||{}).userAgent,r=!1;if(n)for(var i=0;i<botAgentNames[_DYN_LENGTH$2];i++)r=r||-1!==strIndexOf(n.toLowerCase(),botAgentNames[i]);if(r)return!1;for(i=0;i<e[_DYN_LENGTH$2];i++)if(e[i]<0||e[i]>=MAX_DURATION_ALLOWED)return!1;return!0}var _a$5,PageViewPerformanceManager=function(){function t(e){var s=safeGetLogger(e);dynamicProto(t,this,function(o){o[_DYN_POPULATE_PAGE_VIEW_P4]=function(e){e.isValid=!1;var t=_getPerformanceNavigationTiming(),n=_getPerformanceTiming(),r=0,i=0,a=0,_=0;(t||n)&&(t=t?(r=t[_DYN_DURATION],i=0===t[_DYN_START_TIME$1]?t[_DYN_CONNECT_END]:dateTimeUtilsDuration(t[_DYN_START_TIME$1],t[_DYN_CONNECT_END]),a=dateTimeUtilsDuration(t.requestStart,t[_DYN_RESPONSE_START]),_=dateTimeUtilsDuration(t[_DYN_RESPONSE_START],t[_DYN_RESPONSE_END]),dateTimeUtilsDuration(t.responseEnd,t[_DYN_LOAD_EVENT_END])):(r=dateTimeUtilsDuration(n[_DYN_NAVIGATION_START],n[_DYN_LOAD_EVENT_END]),i=dateTimeUtilsDuration(n[_DYN_NAVIGATION_START],n[_DYN_CONNECT_END]),a=dateTimeUtilsDuration(n.requestStart,n[_DYN_RESPONSE_START]),_=dateTimeUtilsDuration(n[_DYN_RESPONSE_START],n[_DYN_RESPONSE_END]),dateTimeUtilsDuration(n.responseEnd,n[_DYN_LOAD_EVENT_END])),0===r?_throwInternal(s,2,10,"error calculating page view performance.",{total:r,network:i,request:a,response:_,dom:t}):o[_DYN_SHOULD_COLLECT_DURAT17](r,i,a,_,t)?r<mathFloor(i)+mathFloor(a)+mathFloor(_)+mathFloor(t)?_throwInternal(s,2,8,"client performance math error.",{total:r,network:i,request:a,response:_,dom:t}):(e.durationMs=r,e.perfTotal=e[_DYN_DURATION]=msToTimeSpan(r),e.networkConnect=msToTimeSpan(i),e.sentRequest=msToTimeSpan(a),e.receivedResponse=msToTimeSpan(_),e.domProcessing=msToTimeSpan(t),e.isValid=!0):_throwInternal(s,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:_,dom:t}))},o[_DYN_GET_PERFORMANCE_TIMI16]=_getPerformanceTiming,o[_DYN_IS_PERFORMANCE_TIMIN15]=_isPerformanceTimingSupported,o[_DYN_IS_PERFORMANCE_TIMIN18]=_isPerformanceTimingDataReady,o[_DYN_SHOULD_COLLECT_DURAT17]=_shouldCollectDuration})}return t.__ieDyn=1,t}(),PageVisitTimeManager=function(){function e(_,o){var s="prevPageVisitData";dynamicProto(e,this,function(e){function i(e,t){var n=null;try{var r,n=a();utlCanUseSessionStorage()&&(null!=utlGetSessionStorage(_,s)&&throwError("Cannot call startPageVisit consecutively without first calling stopPageVisit"),r=getJSON().stringify(new PageVisitData(e,t)),utlSetSessionStorage(_,s,r))}catch(i){_warnToConsole(_,"Call to restart failed: "+dumpObj(i)),n=null}return n}function a(){var e,t,n=null;try{utlCanUseSessionStorage()&&(e=utcNow(),(t=utlGetSessionStorage(_,s))&&hasJSON()&&((n=getJSON().parse(t)).pageVisitTime=e-n.pageVisitStartTime,utlRemoveSessionStorage(_,s)))}catch(r){_warnToConsole(_,"Stop page visit timer failed: "+dumpObj(r)),n=null}return n}e[_DYN_TRACK_PREVIOUS_PAGE_1]=function(e,t){try{var n=i(e,t);n&&o(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){_warnToConsole(_,"Auto track page visit time failed, metric will not be collected: "+dumpObj(r))}},objDefine(e,"_logger",{g:function(){return _}}),objDefine(e,"pageVisitTimeTrackingHandler",{g:function(){return o}})})}return e.__ieDyn=1,e}(),PageVisitData=function(e,t){this.pageVisitStartTime=utcNow(),this.pageName=e,this.pageUrl=t},Timing=function(a,e){var _=this,o={};_.start=function(e){"undefined"!=typeof o[e]&&_throwInternal(a,2,62,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),o[e]=+new Date},_.stop=function(e,t,n,r){var i=o[e];isNaN(i)?_throwInternal(a,2,63,"stop was called without a corresponding start.",{name:e,key:e},!0):(i=dateTimeUtilsDuration(i,+new Date),_.action(e,t,i,n,r)),delete o[e],o[e]=undefined}},strEvent="event";function _dispatchEvent(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}function _getReason(e){var t;return e&&e.reason?(t=e.reason,!isString(t)&&isFunction(t[_DYN_TO_STRING$1])?t[_DYN_TO_STRING$1]():dumpObj(t)):e||""}var MinMilliSeconds=6e4,defaultValues=objDeepFreeze(((_a$5={sessionRenewalMs:cfgDfSet(_chkConfigMilliseconds,18e5),sessionExpirationMs:cfgDfSet(_chkConfigMilliseconds,864e5),disableExceptionTracking:cfgDfBoolean()})[_DYN_AUTO_TRACK_PAGE_VISI10]=cfgDfBoolean(),_a$5[_DYN_OVERRIDE_PAGE_VIEW_D8]=cfgDfBoolean(),_a$5[_DYN_ENABLE_UNHANDLED_PRO13]=cfgDfBoolean(),_a$5[_DYN_AUTO_UNHANDLED_PROMI14]=!1,_a$5.samplingPercentage=cfgDfValidate(_chkSampling$1,100),_a$5[_DYN_IS_STORAGE_USE_DISAB0]=cfgDfBoolean(),_a$5[_DYN_IS_BROWSER_LINK_TRAC11]=cfgDfBoolean(),_a$5[_DYN_ENABLE_AUTO_ROUTE_TR12]=cfgDfBoolean(),_a$5.namePrefix=cfgDfString(),_a$5.enableDebug=cfgDfBoolean(),_a$5.disableFlushOnBeforeUnload=cfgDfBoolean(),_a$5.disableFlushOnUnload=cfgDfBoolean(!1,"disableFlushOnBeforeUnload"),_a$5.expCfg=cfgDfMerge({inclScripts:!1,expLog:undefined,maxLogs:50}),_a$5));function _chkConfigMilliseconds(e,t){return+((e=e||t)<MinMilliSeconds?MinMilliSeconds:e)}function _chkSampling$1(e){return!isNaN(e)&&0<e&&e<=100}function _updateStorageUsage(e){isUndefined(e[_DYN_IS_STORAGE_USE_DISAB0])||(e[_DYN_IS_STORAGE_USE_DISAB0]?utlDisableStorage:utlEnableStorage)()}var AnalyticsPlugin=function(t){function n(){var d,S,g,p,A,I,R,Y,O,C,m,P,v,y,h,L,U,b,F,M,x,e=t.call(this)||this;return e.identifier=AnalyticsPluginIdentifier,e.priority=180,e.autoRoutePVDelay=500,dynamicProto(n,e,function(f,D){var T=D[_DYN__ADD_HOOK$1];function l(e,t,n,r,i){f[_DYN_DIAG_LOG$1]().throwInternal(e,t,n,r,i)}function n(){I=A=p=g=S=d=null;var e=getLocation(!(L=y=v=P=m=C=O=Y=R=!1));b=e&&e[_DYN_HREF]||"",h=M=F=null,x=0,objDefine(f,"config",{g:function(){return h}})}n(),f.getCookieMgr=function(){return safeGetCookieMgr(f[_DYN_CORE$1])},f.processTelemetry=function(e,t){f.processNext(e,t)},f.trackEvent=function(e,t){try{var n=createTelemetryItem(e,Event$1[_DYN_DATA_TYPE$1],Event$1[_DYN_ENVELOPE_TYPE$1],f[_DYN_DIAG_LOG$1](),t);f[_DYN_CORE$1][_DYN_TRACK](n)}catch(r){l(2,39,"trackTrace failed, trace will not be collected: "+getExceptionName(r),{exception:dumpObj(r)})}},f.startTrackEvent=function(e){try{d.start(e)}catch(t){l(1,29,"startTrackEvent failed, event will not be collected: "+getExceptionName(t),{exception:dumpObj(t)})}},f.stopTrackEvent=function(e,t,n){try{d.stop(e,undefined,t,n)}catch(r){l(1,30,"stopTrackEvent failed, event will not be collected: "+getExceptionName(r),{exception:dumpObj(r)})}},f.trackTrace=function(e,t){try{var n=createTelemetryItem(e,Trace[_DYN_DATA_TYPE$1],Trace[_DYN_ENVELOPE_TYPE$1],f[_DYN_DIAG_LOG$1](),t);f[_DYN_CORE$1][_DYN_TRACK](n)}catch(r){l(2,39,"trackTrace failed, trace will not be collected: "+getExceptionName(r),{exception:dumpObj(r)})}},f.trackMetric=function(e,t){try{var n=createTelemetryItem(e,Metric[_DYN_DATA_TYPE$1],Metric[_DYN_ENVELOPE_TYPE$1],f[_DYN_DIAG_LOG$1](),t);f[_DYN_CORE$1][_DYN_TRACK](n)}catch(r){l(1,36,"trackMetric failed, metric will not be collected: "+getExceptionName(r),{exception:dumpObj(r)})}},f[_DYN_TRACK_PAGE_VIEW]=function(e,t){try{var n=e||{};g[_DYN_TRACK_PAGE_VIEW](n,__assignFn(__assignFn(__assignFn({},n.properties),n.measurements),t)),L&&A[_DYN_TRACK_PREVIOUS_PAGE_1](n.name,n.uri)}catch(r){l(1,37,"trackPageView failed, page view will not be collected: "+getExceptionName(r),{exception:dumpObj(r)})}},f[_DYN_SEND_PAGE_VIEW_INTER2]=function(e,t,n){var r=getDocument(),r=(r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri),isNullOrUndefined(e[_DYN_START_TIME$1])&&(r=(t||e[_DYN_PROPERTIES]||{})[_DYN_DURATION]||0,e[_DYN_START_TIME$1]=new Date((new Date).getTime()-r)),createTelemetryItem(e,PageView[_DYN_DATA_TYPE$1],PageView[_DYN_ENVELOPE_TYPE$1],f[_DYN_DIAG_LOG$1](),t,n));f[_DYN_CORE$1][_DYN_TRACK](r)},f[_DYN_SEND_PAGE_VIEW_PERFO3]=function(e,t,n){e=createTelemetryItem(e,PageViewPerformance[_DYN_DATA_TYPE$1],PageViewPerformance[_DYN_ENVELOPE_TYPE$1],f[_DYN_DIAG_LOG$1](),t,n);f[_DYN_CORE$1][_DYN_TRACK](e)},f.trackPageViewPerformance=function(e,t){e=e||{};try{p[_DYN_POPULATE_PAGE_VIEW_P4](e),f[_DYN_SEND_PAGE_VIEW_PERFO3](e,t)}catch(n){l(1,37,"trackPageViewPerformance failed, page view will not be collected: "+getExceptionName(n),{exception:dumpObj(n)})}},f.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=getDocument())&&t.title||""),S.start(e)}catch(n){l(1,31,"startTrackPage failed, page view may not be collected: "+getExceptionName(n),{exception:dumpObj(n)})}},f.stopTrackPage=function(e,t,n,r){try{var i,a;"string"!=typeof e&&(e=(i=getDocument())&&i.title||""),"string"!=typeof t&&(t=(a=getLocation())&&a[_DYN_HREF]||""),S.stop(e,t,n,r),L&&A[_DYN_TRACK_PREVIOUS_PAGE_1](e,t)}catch(_){l(1,32,"stopTrackPage failed, page view will not be collected: "+getExceptionName(_),{exception:dumpObj(_)})}},f[_DYN_SEND_EXCEPTION_INTER5]=function(e,t,n){var r=e&&(e.exception||e[_DYN_ERROR])||isError(e)&&e||{name:e&&typeof e,message:e||strNotSpecified},r=(e=e||{},new Exception(f[_DYN_DIAG_LOG$1](),r,e[_DYN_PROPERTIES]||t,e.measurements,e.severityLevel,e.id).toInterface()),e=getDocument(),e=(e&&null!=U&&U.inclScripts&&(e=findAllScripts(e),r[_DYN_PROPERTIES].exceptionScripts=JSON.stringify(e)),null!=U&&U.expLog&&(e=U.expLog())&&e.logs&&isArray(e.logs)&&(r[_DYN_PROPERTIES].exceptionLog=e.logs.slice(0,U.maxLogs).join("\n")),createTelemetryItem(r,Exception[_DYN_DATA_TYPE$1],Exception[_DYN_ENVELOPE_TYPE$1],f[_DYN_DIAG_LOG$1](),t,n));f[_DYN_CORE$1][_DYN_TRACK](e)},f.trackException=function(e,t){e&&!e.exception&&e[_DYN_ERROR]&&(e.exception=e[_DYN_ERROR]);try{f[_DYN_SEND_EXCEPTION_INTER5](e,t)}catch(n){l(1,35,"trackException failed, exception will not be collected: "+getExceptionName(n),{exception:dumpObj(n)})}},f._onerror=function(e){var t,n,r,i=e&&e[_DYN_ERROR],a=e&&e.evt;try{a||(c=getWindow())&&(a=c[strEvent]);var _=e&&e.url||(getDocument()||{}).URL,o=e.errorSrc||"window.onerror@"+_+":"+(e[_DYN_LINE_NUMBER]||0)+":"+(e[_DYN_COLUMN_NUMBER]||0),s={errorSrc:o,url:_,lineNumber:e[_DYN_LINE_NUMBER]||0,columnNumber:e[_DYN_COLUMN_NUMBER]||0,message:e.message};isCrossOriginError(e.message,e.url,e.lineNumber,e.columnNumber,e[_DYN_ERROR])?(t=Exception[_DYN__CREATE_AUTO_EXCEPTI6]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",_,e[_DYN_LINE_NUMBER]||0,e[_DYN_COLUMN_NUMBER]||0,i,a,null,o),n=s,r=createTelemetryItem(t,Exception[_DYN_DATA_TYPE$1],Exception[_DYN_ENVELOPE_TYPE$1],f[_DYN_DIAG_LOG$1](),n),f[_DYN_CORE$1][_DYN_TRACK](r)):(e.errorSrc||(e.errorSrc=o),f.trackException({exception:e,severityLevel:3},s))}catch(u){var c=i?i.name+", "+i.message:"null";l(1,11,"_onError threw exception while logging error, error will not be collected: "+getExceptionName(u),{exception:dumpObj(u),errorString:c})}},f[_DYN_ADD_TELEMETRY_INITIA7]=function(e){if(f[_DYN_CORE$1])return f[_DYN_CORE$1][_DYN_ADD_TELEMETRY_INITIA7](e);(I=I||[]).push(e)},f.initialize=function(e,t,n,r){if(!f.isInitialized()){isNullOrUndefined(t)&&throwError("Error initializing"),D.initialize(e,t,n,r);try{var i,a;M=mergeEvtNamespace(createUniqueNamespace(f.identifier),t.evtNamespace&&t.evtNamespace()),I&&(arrForEach(I,function(e){t[_DYN_ADD_TELEMETRY_INITIA7](e)}),I=null),u=e,l=f.identifier,E=f[_DYN_CORE$1],f[_DYN__ADD_HOOK$1](onConfigChange(u,function(){var r,e=createProcessTelemetryContext(null,u,E);h=e.getExtCfg(l,defaultValues),P=P||u[_DYN_AUTO_EXCEPTION_INSTR9]||h[_DYN_AUTO_EXCEPTION_INSTR9],U=h.expCfg,L=h[_DYN_AUTO_TRACK_PAGE_VISI10],u.storagePrefix&&utlSetStoragePrefix(u.storagePrefix),_updateStorageUsage(h),R=h[_DYN_IS_BROWSER_LINK_TRAC11],!Y&&R&&(r=["/browserLinkSignalR/","/__browserLink/"],f[_DYN__ADD_HOOK$1](f[_DYN_ADD_TELEMETRY_INITIA7](function(e){if(R&&e.baseType===RemoteDependencyData[_DYN_DATA_TYPE$1]){var t=e.baseData;if(t)for(var n=0;n<r[_DYN_LENGTH$2];n++)if(t.target&&0<=strIndexOf(t.target,r[n]))return!1}return!0})),Y=!0)})),p=new PageViewPerformanceManager(f[_DYN_CORE$1]),g=new PageViewManager(f,h.overridePageViewDuration,f[_DYN_CORE$1],p),A=new PageVisitTimeManager(f[_DYN_DIAG_LOG$1](),function(e,t,n){f.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},{PageName:e,PageUrl:t})}),(d=new Timing(f[_DYN_DIAG_LOG$1](),"trackEvent")).action=function(e,t,n,r,i){i=i||{},(r=r||{}).duration=n[_DYN_TO_STRING$1](),f.trackEvent({name:e,properties:r,measurements:i})},(S=new Timing(f[_DYN_DIAG_LOG$1](),"trackPageView")).action=function(e,t,n,r,i){(r=isNullOrUndefined(r)?{}:r).duration=n[_DYN_TO_STRING$1](),f[_DYN_SEND_PAGE_VIEW_INTER2]({name:e,uri:t,properties:r,measurements:i},r)},hasWindow()&&(s=getWindow(),c=getLocation(!0),f[_DYN__ADD_HOOK$1](onConfigChange(h,function(){(m=h.disableExceptionTracking)||P||h[_DYN_AUTO_EXCEPTION_INSTR9]||(T(InstrumentEvent(s,"onerror",{ns:M,rsp:function(e,t,n,r,i,a){m||!0===e.rslt||f._onerror(Exception[_DYN__CREATE_AUTO_EXCEPTI6](t,n,r,i,a,e.evt))}},!1)),x++,P=!0)})),i=s,a=c,f[_DYN__ADD_HOOK$1](onConfigChange(h,function(){v=!0===h[_DYN_ENABLE_UNHANDLED_PRO13],P=P||h[_DYN_AUTO_UNHANDLED_PROMI14],v&&!y&&(T(InstrumentEvent(i,"onunhandledrejection",{ns:M,rsp:function(e,t){v&&!0!==e.rslt&&f._onerror(Exception[_DYN__CREATE_AUTO_EXCEPTI6](_getReason(t),a?a[_DYN_HREF]:"",0,0,t,e.evt))}},!1)),x++,h[_DYN_AUTO_UNHANDLED_PROMI14]=y=!0)})),_=getWindow(),o=getLocation(!0),f[_DYN__ADD_HOOK$1](onConfigChange(h,function(){var e,t,n,r;O=!0===h[_DYN_ENABLE_AUTO_ROUTE_TR12],_&&O&&!C&&hasHistory()&&(t=getHistory(),isFunction(t.pushState)&&isFunction(t.replaceState)&&typeof Event!==strShimUndefined&&(e=_,t=t,n=o,C||(r=h.namePrefix||"",T(InstrumentEvent(t,"pushState",{ns:M,rsp:function(){O&&(_dispatchEvent(e,createDomEvent(r+"pushState")),_dispatchEvent(e,createDomEvent(r+"locationchange")))}},!0)),T(InstrumentEvent(t,"replaceState",{ns:M,rsp:function(){O&&(_dispatchEvent(e,createDomEvent(r+"replaceState")),_dispatchEvent(e,createDomEvent(r+"locationchange")))}},!0)),eventOn(e,r+"popstate",function(){O&&_dispatchEvent(e,createDomEvent(r+"locationchange"))},M),eventOn(e,r+"locationchange",function(){var e,t;F&&(b=F),F=n&&n[_DYN_HREF]||"",O&&(t=null,(t=f[_DYN_CORE$1]&&f[_DYN_CORE$1].getTraceCtx?f[_DYN_CORE$1].getTraceCtx(!1):t)||(e=f[_DYN_CORE$1].getPlugin(PropertiesPluginIdentifier))&&(e=e.plugin.context)&&(t=createDistributedTraceContextFromTrace(e.telemetryTrace)),(e=t)&&(e.setTraceId(generateW3CId()),t="_unknown_",n&&n.pathname&&(t=n.pathname+(n.hash||"")),e.setName(dataSanitizeString(f[_DYN_DIAG_LOG$1](),t))),scheduleTimeout((function(e){f[_DYN_TRACK_PAGE_VIEW]({refUri:e,properties:{duration:0}})}).bind(f,b),f.autoRoutePVDelay))},M),C=!0)))})))}catch(N){throw f.setInitialized(!1),N}var _,o,s,c,u,l,E}},f._doTeardown=function(e,t){g&&g.teardown(e,t),eventOff(window,null,null,M),n()},f._getDbgPlgTargets=function(){return[x,P]},objDefine(f,"_pageViewManager",{g:function(){return g}}),objDefine(f,"_pageViewPerformanceManager",{g:function(){return p}}),objDefine(f,"_pageVisitTimeManager",{g:function(){return A}}),objDefine(f,"_evtNamespace",{g:function(){return"."+M}})}),e}return __extendsFn(n,t),n.Version="3.3.9",n}(BaseTelemetryPlugin),_DYN_FEATURE_OPT_IN="featureOptIn",_DYN_SCHEDULE_FETCH_TIMEO0="scheduleFetchTimeout";function replaceByNonOverrideCfg(e,n,r,i){try{var t=i<r,a=(t&&(e=null),0==r?objExtend$1({},e):e);return a&&n&&!t&&objForEachKey(a,function(e){var t=n[e];t&&(isObject(a[e])&&isObject(t)?a[e]=replaceByNonOverrideCfg(a[e],t,++r,i):delete a[e])}),a}catch(_){}return e}var _a$4,F="featureOptIn.",M=".mode",ON=".onCfg",OFF=".offCfg";function resolveCdnFeatureCfg(e,t,n){if(!t||!t.enabled)return null;var t=(t[_DYN_FEATURE_OPT_IN]||{})[e]||{mode:1},r=t.mode,i=t.onCfg,t=t.offCfg,n=(n||{})[e]||{mode:2},a=n.mode,_=n.onCfg,o=n.offCfg,n=!!n.blockCdnCfg,s=F+e+ON,c=F+e+OFF,u=a,l=_,E=o;return n||(4===r||5===r?(u=4==r?3:2,l=i||_,E=t||o):2===r||2===a?(u=2,l=_||i,E=o||t):3===r?(u=3,l=_||i,E=o||t):1===r&&1===a&&(u=1)),(n={})[F+e+M]=u,n[s]=l,n[c]=E,n}function applyCdnfeatureCfg(n,r){try{if(!n||!n.enabled)return null;if(!n[_DYN_FEATURE_OPT_IN])return n.config;var e=n[_DYN_FEATURE_OPT_IN],i=n.config||{};return objForEachKey(e,function(e){var t=resolveCdnFeatureCfg(e,n,r.config[_DYN_FEATURE_OPT_IN]);isNullOrUndefined(t)||(objForEachKey(t,function(e,t){setValueByKey(i,e,t)}),_overrideCdnCfgByFeature(e,t,i))}),i}catch(t){}return null}function _overrideCdnCfgByFeature(e,t,n){var r=t[F+e+M],i=t[F+e+ON],e=t[F+e+OFF],t=2===r?e:3===r?i:null;t&&objForEachKey(t,function(e,t){setValueByKey(n,e,t)})}var EVENT_NAME="ai_cfgsync",STR_GET_METHOD="GET",FETCH_TIMEOUT=18e5,udfVal=undefined,defaultNonOverrideCfg={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},_defaultConfig$2=objDeepFreeze(((_a$4={syncMode:1,blkCdnCfg:udfVal,customEvtName:udfVal,cfgUrl:udfVal,overrideSyncFn:udfVal,overrideFetchFn:udfVal,onCfgChangeReceive:udfVal})[_DYN_SCHEDULE_FETCH_TIMEO0]=FETCH_TIMEOUT,_a$4.nonOverrideConfigs=defaultNonOverrideCfg,_a$4.enableAjax=!1,_a$4)),CfgSyncPlugin=function(n){function i(){var p,A,I,R,Y,e,O,C,m,P,v,y,h,L,U,b,F,t=n.call(this)||this,r=(t.priority=198,!(t.identifier="AppInsightsCfgSyncPlugin"));return dynamicProto(i,t,function(o,s){function n(){F=!1,y=b=U=m=v=P=e=h=C=O=Y=R=I=A=null}function c(e,t){if(e){if(A=e,t&&!r)return l();if(O&&!r)return o.core.updateCfg(e),!0}return!1}function u(){try{var e=getGlobal();e&&eventOff(e,null,null,R)}catch(t){}}function l(e){try{return b&&isFunction(b)?b(A,e):sendCustomEvent(I,A,e)}catch(t){}return!1}function E(e){try{if(u(),e&&(I=e,O)){var t=getGlobal();if(t)try{eventOn(t,I,function(e){var e=e&&e.detail;y&&e?y(e):(e=(e=e&&e.cfg)&&isPlainObject(e)&&d(e))&&c(e)},R,!0)}catch(n){}}return!0}catch(r){}return!1}function N(e,n,r){var t=getGlobal(),t=t&&t.fetch||null;if(e&&t&&isFunction(t))try{var i={method:STR_GET_METHOD},a=(F||(i[DisabledPropertyName]=!0),new Request(e,i));if(!F)try{a[DisabledPropertyName]=!0}catch(_){}doAwaitResponse(fetch(a),function(e){var t=e.value;e.rejected?T(n,400):t.ok?doAwaitResponse(t.text(),function(e){T(n,t.status,e.value,r)}):T(n,t.status,null,r)})}catch(_){}}function f(e,t,n){try{var r=new XMLHttpRequest;F||(r[DisabledPropertyName]=!0),r.open(STR_GET_METHOD,e),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&T(t,r.status,r.responseText,n)},r.onerror=function(){T(t,400)},r.ontimeout=function(){T(t,400)},r.send()}catch(i){}}function D(e,t,n){try{var r,i,a;200<=e&&e<400&&t?(v=0,(r=getJSON())&&(a=(i=applyCdnfeatureCfg(r.parse(t),o.core))&&isPlainObject(i)&&d(i))&&c(a,n)):v++,v<3&&S()}catch(_){}}function T(e,t,n,r){try{e(t,n,r)}catch(i){}}function d(e){var t=null;try{e&&(t=replaceByNonOverrideCfg(e,h,0,5))}catch(n){}return t}function S(){!e&&P&&(e=scheduleTimeout(function(){e=null,L(Y,D,C)},P)).unref()}function g(){e&&e.cancel(),e=null,v=0}n(),o.initialize=function(e,t,n,r){var i,a,_;s.initialize(e,t,n,r),R=mergeEvtNamespace(createUniqueNamespace(o.identifier),t.evtNamespace&&t.evtNamespace()),a=o.identifier,_=o.core,o._addHook(onConfigChange(i=e,function(){var e=createProcessTelemetryContext(null,i,_),e=(p=e.getExtCfg(a,_defaultConfig$2),m),e=(m=!!p.blkCdnCfg,F=!!p.enableAjax,isNullOrUndefined(e)||e===m||(!m&&Y?L&&L(Y,D,C):g()),isNullOrUndefined(O)&&(O=2===p.syncMode),isNullOrUndefined(C)&&(C=1===p.syncMode),p.customEvtName||EVENT_NAME);I!==e&&(O?E(e):(u(),I=e)),(Y=isNullOrUndefined(Y)?p.cfgUrl:Y)||(A=i,C&&l())})),b=p.overrideSyncFn,U=p.overrideFetchFn,y=p.onCfgChangeReceive,h=p.nonOverrideConfigs,P=p[_DYN_SCHEDULE_FETCH_TIMEO0],isNullOrUndefined(n=U)&&(isFetchSupported()?n=N:isXhrSupported()&&(n=f)),L=n,v=0,Y&&!m&&L&&L(Y,D,C)},o.getCfg=function(){return A},o.pause=function(){r=!0,g()},o.resume=function(){r=!1,S()},o.setCfg=function(e){return c(e)},o.sync=l,o.updateEventListenerName=E,o._doTeardown=function(e,t){u(),g(),n()},o._getDbgPlgTargets=function(){return[C,O,I,m,h]},o.processTelemetry=function(e,t){o.processNext(e,t)}}),t}return __extendsFn(i,n),i.__ieDyn=1,i}(BaseTelemetryPlugin),STR_DURATION$1="duration",_DYN_TAGS="tags",_DYN_DEVICE_TYPE="deviceType",_DYN_DATA="data",_DYN_NAME="name",_DYN_TRACE_ID$1="traceID",_DYN_LENGTH$1="length",_DYN_STRINGIFY="stringify",_DYN_MEASUREMENTS="measurements",_DYN_DATA_TYPE="dataType",_DYN_ENVELOPE_TYPE="envelopeType",_DYN_TO_STRING="toString",_DYN_ENQUEUE="enqueue",_DYN_COUNT="count",_DYN_PUSH="push",_DYN_EMIT_LINE_DELIMITED_0="emitLineDelimitedJson",_DYN_CLEAR="clear",_DYN_MARK_AS_SENT="markAsSent",_DYN_CLEAR_SENT="clearSent",_DYN_BUFFER_OVERRIDE="bufferOverride",_DYN__BUFFER__KEY="BUFFER_KEY",_DYN__SENT__BUFFER__KEY="SENT_BUFFER_KEY",_DYN_CONCAT="concat",_DYN__MAX__BUFFER__SIZE="MAX_BUFFER_SIZE",_DYN_TRIGGER_SEND="triggerSend",_DYN_DIAG_LOG="diagLog",_DYN_INITIALIZE="initialize",_DYN__SENDER="_sender",_DYN_ENDPOINT_URL$1="endpointUrl",_DYN_INSTRUMENTATION_KEY$1="instrumentationKey",_DYN_CUSTOM_HEADERS="customHeaders",_DYN_MAX_BATCH_SIZE_IN_BY1="maxBatchSizeInBytes",_DYN_ONUNLOAD_DISABLE_BEA2="onunloadDisableBeacon",_DYN_IS_BEACON_API_DISABL3="isBeaconApiDisabled",_DYN_ALWAYS_USE_XHR_OVERR4="alwaysUseXhrOverride",_DYN_ENABLE_SESSION_STORA5="enableSessionStorageBuffer",_DYN__BUFFER="_buffer",_DYN_ONUNLOAD_DISABLE_FET6="onunloadDisableFetch",_DYN_DISABLE_SEND_BEACON_7="disableSendBeaconSplit",_DYN_GET_SENDER_INST="getSenderInst",_DYN__ON_ERROR="_onError",_DYN__ON_PARTIAL_SUCCESS="_onPartialSuccess",_DYN__ON_SUCCESS="_onSuccess",_DYN_ITEMS_RECEIVED="itemsReceived",_DYN_ITEMS_ACCEPTED="itemsAccepted",_DYN_BASE_TYPE="baseType",_DYN_SAMPLE_RATE="sampleRate",_DYN_GET_HASH_CODE_SCORE="getHashCodeScore",strBaseType="baseType",strBaseData="baseData",strProperties="properties",strTrue="true";function _setValueIf(e,t,n){return setValue(e,t,n,isTruthy)}function _extractPartAExtensions(e,t,n){for(var r=n[_DYN_TAGS]=n[_DYN_TAGS]||{},i=t.ext=t.ext||{},a=t[_DYN_TAGS]=t[_DYN_TAGS]||[],_=i.user,_=(_&&(_setValueIf(r,CtxTagKeys.userAuthUserId,_.authId),_setValueIf(r,CtxTagKeys.userId,_.id||_.localId)),i.app),_=(_&&_setValueIf(r,CtxTagKeys.sessionId,_.sesId),i.device),_=(_&&(_setValueIf(r,CtxTagKeys.deviceId,_.id||_.localId),_setValueIf(r,CtxTagKeys[_DYN_DEVICE_TYPE],_.deviceClass),_setValueIf(r,CtxTagKeys.deviceIp,_.ip),_setValueIf(r,CtxTagKeys.deviceModel,_.model),_setValueIf(r,CtxTagKeys[_DYN_DEVICE_TYPE],_[_DYN_DEVICE_TYPE])),t.ext.web),t=(_&&(_setValueIf(r,CtxTagKeys.deviceLanguage,_.browserLang),_setValueIf(r,CtxTagKeys.deviceBrowserVersion,_.browserVer),_setValueIf(r,CtxTagKeys.deviceBrowser,_.browser),_setValueIf(t=(t=(t=n[_DYN_DATA]=n[_DYN_DATA]||{})[strBaseData]=t[strBaseData]||{})[strProperties]=t[strProperties]||{},"domain",_.domain),_setValueIf(t,"isManual",_.isManual?strTrue:null),_setValueIf(t,"screenRes",_.screenRes),_setValueIf(t,"userConsent",_.userConsent?strTrue:null)),i.os),_=(t&&(_setValueIf(r,CtxTagKeys.deviceOS,t[_DYN_NAME]),_setValueIf(r,CtxTagKeys.deviceOSVersion,t.osVer)),i.trace),o=(_&&(_setValueIf(r,CtxTagKeys.operationParentId,_.parentID),_setValueIf(r,CtxTagKeys.operationName,dataSanitizeString(e,_[_DYN_NAME])),_setValueIf(r,CtxTagKeys.operationId,_[_DYN_TRACE_ID$1])),{}),s=a[_DYN_LENGTH$1]-1;0<=s;s--)objForEachKey(a[s],function(e,t){o[e]=t}),a.splice(s,1);objForEachKey(a,function(e,t){o[e]=t});t=__assignFn(__assignFn({},r),o);t[CtxTagKeys.internalSdkVersion]||(t[CtxTagKeys.internalSdkVersion]=dataSanitizeString(e,"javascript:".concat(EnvelopeCreator.Version),64)),n[_DYN_TAGS]=optimizeObject(t)}function _extractPropsAndMeasurements(e,n,r){isNullOrUndefined(e)||objForEachKey(e,function(e,t){isNumber(t)?r[e]=t:isString(t)?n[e]=t:hasJSON()&&(n[e]=getJSON()[_DYN_STRINGIFY](t))})}function _convertPropsUndefinedToCustomDefinedValue(n,r){isNullOrUndefined(n)||objForEachKey(n,function(e,t){n[e]=t||r})}function _createEnvelope(e,t,n,r){r=new Envelope(e,r,t),_setValueIf(r,"sampleRate",n[SampleRate]),(n[strBaseData]||{}).startTime&&(r.time=toISOString(n[strBaseData].startTime)),r.iKey=n.iKey,t=n.iKey.replace(/-/g,"");return r[_DYN_NAME]=r[_DYN_NAME].replace("{0}",t),_extractPartAExtensions(e,n,r),n[_DYN_TAGS]=n[_DYN_TAGS]||[],optimizeObject(r)}function EnvelopeCreatorInit(e,t){isNullOrUndefined(t[strBaseData])&&_throwInternal(e,1,46,"telemetryItem.baseData cannot be null.")}var EnvelopeCreator={Version:"3.3.9"};function DependencyEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var r=t[strBaseData][_DYN_MEASUREMENTS]||{},i=t[strBaseData][strProperties]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],i,r),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(i,n),t[strBaseData]);if(isNullOrUndefined(n))return _warnToConsole(e,"Invalid input for dependency data"),null;var a=n[strProperties]&&n[strProperties][HttpMethod]?n[strProperties][HttpMethod]:"GET",a=new RemoteDependencyData(e,n.id,n.target,n[_DYN_NAME],n[STR_DURATION$1],n.success,n.responseCode,a,n.type,n.correlationContext,i,r),n=new Data(RemoteDependencyData[_DYN_DATA_TYPE],a);return _createEnvelope(e,RemoteDependencyData[_DYN_ENVELOPE_TYPE],t,n)}function EventEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var r={},i={},n=(t[strBaseType]!==Event$1[_DYN_DATA_TYPE]&&(r.baseTypeSource=t[strBaseType]),t[strBaseType]===Event$1[_DYN_DATA_TYPE]?(r=t[strBaseData][strProperties]||{},i=t[strBaseData][_DYN_MEASUREMENTS]||{}):t[strBaseData]&&_extractPropsAndMeasurements(t[strBaseData],r,i),_extractPropsAndMeasurements(t[_DYN_DATA],r,i),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(r,n),t[strBaseData][_DYN_NAME]),n=new Event$1(e,n,r,i),r=new Data(Event$1[_DYN_DATA_TYPE],n);return _createEnvelope(e,Event$1[_DYN_ENVELOPE_TYPE],t,r)}function ExceptionEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var r=t[strBaseData][_DYN_MEASUREMENTS]||{},i=t[strBaseData][strProperties]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],i,r),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(i,n),t[strBaseData]),n=Exception.CreateFromInterface(e,n,i,r),i=new Data(Exception[_DYN_DATA_TYPE],n);return _createEnvelope(e,Exception[_DYN_ENVELOPE_TYPE],t,i)}function MetricEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var r=t[strBaseData],i=r[strProperties]||{},a=r[_DYN_MEASUREMENTS]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],i,a),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(i,n),new Metric(e,r[_DYN_NAME],r.average,r.sampleCount,r.min,r.max,r.stdDev,i,a)),r=new Data(Metric[_DYN_DATA_TYPE],n);return _createEnvelope(e,Metric[_DYN_ENVELOPE_TYPE],t,r)}function PageViewEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var r,i=t[strBaseData],i=(isNullOrUndefined(i)||isNullOrUndefined(i[strProperties])||isNullOrUndefined(i[strProperties][STR_DURATION$1])?isNullOrUndefined(t[_DYN_DATA])||isNullOrUndefined(t[_DYN_DATA][STR_DURATION$1])||(r=t[_DYN_DATA][STR_DURATION$1],delete t[_DYN_DATA][STR_DURATION$1]):(r=i[strProperties][STR_DURATION$1],delete i[strProperties][STR_DURATION$1]),t[strBaseData]),a=(((t.ext||{}).trace||{})[_DYN_TRACE_ID$1]&&(a=t.ext.trace[_DYN_TRACE_ID$1]),i.id||a),_=i[_DYN_NAME],o=i.uri,s=i[strProperties]||{},c=i[_DYN_MEASUREMENTS]||{},i=(isNullOrUndefined(i.refUri)||(s.refUri=i.refUri),isNullOrUndefined(i.pageType)||(s.pageType=i.pageType),isNullOrUndefined(i.isLoggedIn)||(s.isLoggedIn=i.isLoggedIn[_DYN_TO_STRING]()),isNullOrUndefined(i[strProperties])||objForEachKey(i[strProperties],function(e,t){s[e]=t}),_extractPropsAndMeasurements(t[_DYN_DATA],s,c),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(s,n),new PageView(e,_,o,r,s,c,a)),n=new Data(PageView[_DYN_DATA_TYPE],i);return _createEnvelope(e,PageView[_DYN_ENVELOPE_TYPE],t,n)}function PageViewPerformanceEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var r=t[strBaseData],i=r[_DYN_NAME],a=r.uri||r.url,_=r[strProperties]||{},o=r[_DYN_MEASUREMENTS]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],_,o),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(_,n),new PageViewPerformance(e,i,a,undefined,_,o,r)),i=new Data(PageViewPerformance[_DYN_DATA_TYPE],n);return _createEnvelope(e,PageViewPerformance[_DYN_ENVELOPE_TYPE],t,i)}function TraceEnvelopeCreator(e,t,n){EnvelopeCreatorInit(e,t);var r=t[strBaseData].message,i=t[strBaseData].severityLevel,a=t[strBaseData][strProperties]||{},_=t[strBaseData][_DYN_MEASUREMENTS]||{},n=(_extractPropsAndMeasurements(t[_DYN_DATA],a,_),isNullOrUndefined(n)||_convertPropsUndefinedToCustomDefinedValue(a,n),new Trace(e,r,i,a,_)),r=new Data(Trace[_DYN_DATA_TYPE],n);return _createEnvelope(e,Trace[_DYN_ENVELOPE_TYPE],t,r)}var _a$3,_b$1,BaseSendBuffer=function(){function e(a,n){var _=[],r=!1,i=n.maxRetryCnt;this._get=function(){return _},this._set=function(e){return _=e},dynamicProto(e,this,function(t){t[_DYN_ENQUEUE]=function(e){t[_DYN_COUNT]()>=n.eventsLimitInMem?r||(_throwInternal(a,2,105,"Maximum in-memory buffer size reached: "+t[_DYN_COUNT](),!0),r=!0):(e.cnt=e.cnt||0,!isNullOrUndefined(i)&&e.cnt>i||_[_DYN_PUSH](e))},t[_DYN_COUNT]=function(){return _[_DYN_LENGTH$1]},t.size=function(){for(var e=_[_DYN_LENGTH$1],t=0;t<_[_DYN_LENGTH$1];t++)e+=_[t].item[_DYN_LENGTH$1];return n[_DYN_EMIT_LINE_DELIMITED_0]||(e+=2),e},t[_DYN_CLEAR]=function(){r=!(_=[])},t.getItems=function(){return _.slice(0)},t.batchPayloads=function(e){var t;return e&&0<e[_DYN_LENGTH$1]?(t=[],arrForEach(e,function(e){t[_DYN_PUSH](e.item)}),n[_DYN_EMIT_LINE_DELIMITED_0]?t.join("\n"):"["+t.join(",")+"]"):null},t.createNew=function(e,t,n){var r=_.slice(0),i=new(n?SessionStorageSendBuffer:ArraySendBuffer)(e=e||a,t=t||{});return arrForEach(r,function(e){i[_DYN_ENQUEUE](e)}),i}})}return e.__ieDyn=1,e}(),ArraySendBuffer=function(n){function r(e,t){e=n.call(this,e,t)||this;return dynamicProto(r,e,function(e,t){e[_DYN_MARK_AS_SENT]=function(e){t[_DYN_CLEAR]()},e[_DYN_CLEAR_SENT]=function(e){}}),e}return __extendsFn(r,n),r.__ieDyn=1,r}(BaseSendBuffer),PREVIOUS_KEYS=["AI_buffer","AI_sentBuffer"],SessionStorageSendBuffer=function(r){function T(u,e){var t=r.call(this,u,e)||this,l=!1,E=null==e?void 0:e.namePrefix,n=e[_DYN_BUFFER_OVERRIDE]||{getItem:utlGetSessionStorage,setItem:utlSetSessionStorage},N=n.getItem,f=n.setItem,D=e.maxRetryCnt;return dynamicProto(T,t,function(_,t){var e=o(T[_DYN__BUFFER__KEY]),n=o(T[_DYN__SENT__BUFFER__KEY]),r=function(){var n=[];try{return arrForEach(PREVIOUS_KEYS,function(e){var t=c(e);n=n[_DYN_CONCAT](t),E&&(t=c(E+"_"+e),n=n[_DYN_CONCAT](t))}),n}catch(e){_throwInternal(u,2,41,"Transfer events from previous buffers: "+getExceptionName(e)+". previous Buffer items can not be removed",{exception:dumpObj(e)})}return[]}(),r=n[_DYN_CONCAT](r),n=_._set(e[_DYN_CONCAT](r));function i(e,t){var n=[],r=[];return arrForEach(e,function(e){r[_DYN_PUSH](e.item)}),arrForEach(t,function(e){isFunction(e)||-1!==arrIndexOf(r,e.item)||n[_DYN_PUSH](e)}),n}function o(e){return a(E?E+"_"+e:e)}function a(e){try{var t=N(u,e);if(t){var n=getJSON().parse(t);if((n=isString(n)?getJSON().parse(n):n)&&isArray(n))return n}}catch(r){_throwInternal(u,1,42," storage key: "+e+", "+getExceptionName(r),{exception:dumpObj(r)})}return[]}function s(e,t){try{var e=E?E+"_"+e:e,n=JSON[_DYN_STRINGIFY](t);f(u,e,n)}catch(r){f(u,e,JSON[_DYN_STRINGIFY]([])),_throwInternal(u,2,41," storage key: "+e+", "+getExceptionName(r)+". Buffer cleared",{exception:dumpObj(r)})}}function c(e){try{var t=a(e),n=[];return arrForEach(t,function(e){n[_DYN_PUSH]({item:e,cnt:0})}),utlRemoveSessionStorage(u,e),n}catch(r){}return[]}n[_DYN_LENGTH$1]>T[_DYN__MAX__BUFFER__SIZE]&&(n[_DYN_LENGTH$1]=T[_DYN__MAX__BUFFER__SIZE]),s(T[_DYN__SENT__BUFFER__KEY],[]),s(T[_DYN__BUFFER__KEY],n),_[_DYN_ENQUEUE]=function(e){_[_DYN_COUNT]()>=T[_DYN__MAX__BUFFER__SIZE]?l||(_throwInternal(u,2,67,"Maximum buffer size reached: "+_[_DYN_COUNT](),!0),l=!0):(e.cnt=e.cnt||0,!isNullOrUndefined(D)&&e.cnt>D||(t[_DYN_ENQUEUE](e),s(T[_DYN__BUFFER__KEY],_._get())))},_[_DYN_CLEAR]=function(){t[_DYN_CLEAR](),s(T[_DYN__BUFFER__KEY],_._get()),s(T[_DYN__SENT__BUFFER__KEY],[]),l=!1},_[_DYN_MARK_AS_SENT]=function(e){s(T[_DYN__BUFFER__KEY],_._set(i(e,_._get())));var t=o(T[_DYN__SENT__BUFFER__KEY]);t instanceof Array&&e instanceof Array&&((t=t[_DYN_CONCAT](e))[_DYN_LENGTH$1]>T[_DYN__MAX__BUFFER__SIZE]&&(_throwInternal(u,1,67,"Sent buffer reached its maximum size: "+t[_DYN_LENGTH$1],!0),t[_DYN_LENGTH$1]=T[_DYN__MAX__BUFFER__SIZE]),s(T[_DYN__SENT__BUFFER__KEY],t))},_[_DYN_CLEAR_SENT]=function(e){e=i(e,o(T[_DYN__SENT__BUFFER__KEY]));s(T[_DYN__SENT__BUFFER__KEY],e)},_.createNew=function(e,t,n){n=!!n;var r=_._get().slice(0),i=o(T[_DYN__SENT__BUFFER__KEY]).slice(0),a=(e=e||u,t=t||{},_[_DYN_CLEAR](),new(n?T:ArraySendBuffer)(e,t));return arrForEach(r,function(e){a[_DYN_ENQUEUE](e)}),n&&a[_DYN_MARK_AS_SENT](i),a}}),t}var e;return __extendsFn(T,r),(e=T).VERSION="_1",T.BUFFER_KEY="AI_buffer"+e.VERSION,T.SENT_BUFFER_KEY="AI_sentBuffer"+e.VERSION,T.MAX_BUFFER_SIZE=2e3,T}(BaseSendBuffer),Serializer=function(){function e(l){dynamicProto(e,this,function(e){function c(_,o){var e="__aiCircularRefCheck",s={};if(!_)return _throwInternal(l,1,48,"cannot serialize object because it is null or undefined",{name:o},!0),s;if(_[e])return _throwInternal(l,2,50,"Circular reference detected while serializing object",{name:o},!0),s;if(_.aiDataContract)return _[e]=!0,objForEachKey(_.aiDataContract,function(e,t){var n=isFunction(t)?1&t():1&t,r=isFunction(t)?4&t():4&t,t=2&t,i=_[e]!==undefined,a=isObject(_[e])&&null!==_[e];!n||i||t?r||(n=a?(t?u:c)(_[e],e):_[e])!==undefined&&(s[e]=n):_throwInternal(l,1,24,"Missing required field specification. The field is required but not present on source",{field:e,name:o})}),delete _[e],s;if("measurements"===o)s=n(_,"number",o);else if("properties"===o)s=n(_,"string",o);else if("tags"===o)s=n(_,"string",o);else if(isArray(_))s=u(_,o);else{_throwInternal(l,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{getJSON()[_DYN_STRINGIFY](_),s=_}catch(t){_throwInternal(l,1,48,t&&isFunction(t[_DYN_TO_STRING])?t[_DYN_TO_STRING]():"Error serializing object",null,!0)}}return s}function u(e,t){if(e)if(isArray(e))for(var n=[],r=0;r<e[_DYN_LENGTH$1];r++){var i=c(e[r],t+"["+r+"]");n[_DYN_PUSH](i)}else _throwInternal(l,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:t},!0);return n}function n(e,n,r){var i;return e&&(i={},objForEachKey(e,function(e,t){"string"===n?t===undefined?i[e]="undefined":null===t?i[e]="null":t[_DYN_TO_STRING]?i[e]=t[_DYN_TO_STRING]():i[e]="invalid field: toString() is not defined.":"number"===n?t===undefined?i[e]="undefined":i[e]=null===t?"null":parseFloat(t):(i[e]="invalid field: "+r+" is of unknown type.",_throwInternal(l,1,i[e],null,!0))})),i}e.serialize=function(e){e=c(e,"root");try{return getJSON()[_DYN_STRINGIFY](e)}catch(t){_throwInternal(l,1,48,t&&isFunction(t[_DYN_TO_STRING])?t[_DYN_TO_STRING]():"Error serializing object",null,!0)}}})}return e.__ieDyn=1,e}(),MIN_INPUT_LENGTH=8,HashCodeScoreGenerator=function(){function t(){}return t.prototype.getHashCodeScore=function(e){return this.getHashCode(e)/t.INT_MAX_VALUE*100},t.prototype.getHashCode=function(e){if(""===e)return 0;for(;e[_DYN_LENGTH$1]<MIN_INPUT_LENGTH;)e=e[_DYN_CONCAT](e);for(var t=5381,n=0;n<e[_DYN_LENGTH$1];++n)t=(t<<5)+t+e.charCodeAt(n),t&=t;return Math.abs(t)},t.INT_MAX_VALUE=2147483647,t}(),SamplingScoreGenerator=function(){var t=new HashCodeScoreGenerator,n=new ContextTagKeys;this.getSamplingScore=function(e){return e[_DYN_TAGS]&&e[_DYN_TAGS][n.userId]?t.getHashCodeScore(e[_DYN_TAGS][n.userId]):e.ext&&e.ext.user&&e.ext.user.id?t[_DYN_GET_HASH_CODE_SCORE](e.ext.user.id):e[_DYN_TAGS]&&e[_DYN_TAGS][n.operationId]?t.getHashCodeScore(e[_DYN_TAGS][n.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace[_DYN_TRACE_ID$1]?t.getHashCodeScore(e.ext.telemetryTrace[_DYN_TRACE_ID$1]):100*Math.random()}},Sample=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;t=t||safeGetLogger(null);(100<e||e<0)&&(t.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[_DYN_SAMPLE_RATE]=e,this.samplingScoreGenerator=new SamplingScoreGenerator}return e.prototype.isSampledIn=function(e){var t=this[_DYN_SAMPLE_RATE];return null===t||t===undefined||100<=t||e.baseType===Metric[_DYN_DATA_TYPE]||this.samplingScoreGenerator.getSamplingScore(e)<t},e}(),UNDEFINED_VALUE$1=undefined,EMPTY_STR="",FetchSyncRequestSizeLimitBytes=65e3;function _getResponseText(e){try{return e.responseText}catch(t){}return null}function isOverrideFn(e){return e&&e.sendPOST}var defaultAppInsightsChannelConfig=objDeepFreeze(((_a$3={endpointUrl:cfgDfValidate(isTruthy,DEFAULT_BREEZE_ENDPOINT+DEFAULT_BREEZE_PATH)})[_DYN_EMIT_LINE_DELIMITED_0]=cfgDfBoolean(),_a$3.maxBatchInterval=15e3,_a$3[_DYN_MAX_BATCH_SIZE_IN_BY1]=102400,_a$3.disableTelemetry=cfgDfBoolean(),_a$3[_DYN_ENABLE_SESSION_STORA5]=cfgDfBoolean(!0),_a$3.isRetryDisabled=cfgDfBoolean(),_a$3[_DYN_IS_BEACON_API_DISABL3]=cfgDfBoolean(!0),_a$3[_DYN_DISABLE_SEND_BEACON_7]=cfgDfBoolean(!0),_a$3.disableXhr=cfgDfBoolean(),_a$3[_DYN_ONUNLOAD_DISABLE_FET6]=cfgDfBoolean(),_a$3[_DYN_ONUNLOAD_DISABLE_BEA2]=cfgDfBoolean(),_a$3[_DYN_INSTRUMENTATION_KEY$1]=UNDEFINED_VALUE$1,_a$3.namePrefix=UNDEFINED_VALUE$1,_a$3.samplingPercentage=cfgDfValidate(_chkSampling,100),_a$3[_DYN_CUSTOM_HEADERS]=UNDEFINED_VALUE$1,_a$3.convertUndefined=UNDEFINED_VALUE$1,_a$3.eventsLimitInMem=1e4,_a$3[_DYN_BUFFER_OVERRIDE]=!1,_a$3.httpXHROverride={isVal:isOverrideFn,v:UNDEFINED_VALUE$1},_a$3[_DYN_ALWAYS_USE_XHR_OVERR4]=cfgDfBoolean(),_a$3.transports=UNDEFINED_VALUE$1,_a$3.retryCodes=UNDEFINED_VALUE$1,_a$3.corsPolicy=UNDEFINED_VALUE$1,_a$3.maxRetryCnt={isVal:isNumber,v:10},_a$3)),CrossOriginResourcePolicyHeader="X-Set-Cross-Origin-Resource-Policy";function _chkSampling(e){return!isNaN(e)&&0<e&&e<=100}(_b$1={})[Event$1.dataType]=EventEnvelopeCreator,_b$1[Trace.dataType]=TraceEnvelopeCreator,_b$1[PageView.dataType]=PageViewEnvelopeCreator,_b$1[PageViewPerformance.dataType]=PageViewPerformanceEnvelopeCreator,_b$1[Exception.dataType]=ExceptionEnvelopeCreator,_b$1[Metric.dataType]=MetricEnvelopeCreator,_b$1[RemoteDependencyData.dataType]=DependencyEnvelopeCreator;var EnvelopeTypeCreator=_b$1,Sender=function(e){function se(){var O,C,m,P,v,y,h,L,U,b,F,M,x,G,H,w,$,V,k,j,B,K,X,W,z,q,J,Q,Z,ee,te,ne,re,ie,ae,_e=e.call(this)||this,oe=(_e.priority=1001,_e.identifier=BreezeChannelIdentifier,0);return dynamicProto(se,_e,function(N,r){function f(e,t){var n=_getResponseText(e);!e||n+""!="200"&&""!==n?(n=parseResponse(n))&&n[_DYN_ITEMS_RECEIVED]&&n[_DYN_ITEMS_RECEIVED]>n[_DYN_ITEMS_ACCEPTED]&&!B?N[_DYN__ON_PARTIAL_SUCCESS](t,n):N[_DYN__ON_ERROR](t,formatErrorMessageXdr(e)):(O=0,N[_DYN__ON_SUCCESS](t,0))}function D(e,t,n){4===e.readyState&&p(e.status,t,e.responseURL,n,formatErrorMessageXhr(e),_getResponseText(e)||e.response)}function T(e){try{var t;if(e)return(t=e.oriPayload)&&t[_DYN_LENGTH$1]?t:null}catch(n){}return null}function s(e,t){return!(V||(e?e.baseData&&!e[_DYN_BASE_TYPE]?(t&&_throwInternal(t,1,70,"Cannot send telemetry without baseData and baseType"),1):(e[_DYN_BASE_TYPE]||(e[_DYN_BASE_TYPE]="EventData"),N[_DYN__SENDER]?N._sample.isSampledIn(e)?(e[SampleRate]=N._sample[_DYN_SAMPLE_RATE],0):(t&&_throwInternal(t,2,33,"Telemetry item was sampled out and not sent",{SampleRate:N._sample[_DYN_SAMPLE_RATE]}),1):(t&&_throwInternal(t,1,28,"Sender was not initialized"),1)):(t&&_throwInternal(t,1,7,"Cannot send empty telemetry"),1)))}function c(e,n){var t=e.iKey||k,r=se.constructEnvelope(e,t,n,j);if(r){var i=!1;if(e[_DYN_TAGS]&&e[_DYN_TAGS][ProcessLegacy]&&(arrForEach(e[_DYN_TAGS][ProcessLegacy],function(e){try{e&&!1===e(r)&&(i=!0,_warnToConsole(n,"Telemetry processor check returns false"))}catch(t){_throwInternal(n,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+getExceptionName(t),{exception:dumpObj(t)},!0)}}),delete e[_DYN_TAGS][ProcessLegacy]),!i)return r}else _throwInternal(n,1,47,"Unable to create an AppInsights envelope")}function e(e){var t=EMPTY_STR,n=N[_DYN_DIAG_LOG]();try{var r=s(e,n),i=null;(i=r?c(e,n):i)&&(t=v.serialize(i))}catch(a){}return t}function t(e){var t=EMPTY_STR;return e&&e[_DYN_LENGTH$1]?"["+e.join(",")+"]":t}function n(e){var t=i();return{urlString:F,data:e,headers:t}}function d(e,i,t,n){void 0===n&&(n=!0);var r=function(e,t,n){var r=i;200===e&&r?N._onSuccess(r,r[_DYN_LENGTH$1]):n&&N[_DYN__ON_ERROR](r,n)},a=S(i),_=e&&e.sendPOST;return _&&a&&(n&&N._buffer[_DYN_MARK_AS_SENT](i),re.preparePayload(function(e){return _(e,r,!t)},ae,a,!t)),null}function S(e){var t,n;return isArray(e)&&0<e[_DYN_LENGTH$1]?(t=N[_DYN__BUFFER].batchPayloads(e),n=i(),{data:t,urlString:F,headers:n,disableXhrSync:Q,disableFetchKeepAlive:!Z,oriPayload:e}):null}function i(){try{var e=h||{};return isInternalApplicationInsightsEndpoint(F)&&(e[RequestHeaders[6]]=RequestHeaders[7]),e}catch(t){}return null}function g(e){e=e?e[_DYN_LENGTH$1]:0;N[_DYN__BUFFER].size()+e>x&&(U&&!U.isOnline()||N[_DYN_TRIGGER_SEND](!0,null,10))}function p(e,t,n,r,i,a){var _=null;N._appId||(_=parseResponse(a))&&_.appId&&(N._appId=_.appId),(e<200||300<=e)&&0!==e?301!==e&&307!==e&&308!==e||o(n)?U&&!U.isOnline()?B||(l(t,10),_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Offline - Response Code: ".concat(e,". Offline status: ").concat(!U.isOnline(),". Will retry to send ").concat(t.length," items."))):!B&&R(e)?(l(t),_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Response code "+e+". Will retry to send "+t[_DYN_LENGTH$1]+" items.")):N[_DYN__ON_ERROR](t,i):N[_DYN__ON_ERROR](t,i):(o(n),206===e?(_=_||parseResponse(a))&&!B?N[_DYN__ON_PARTIAL_SUCCESS](t,_):N[_DYN__ON_ERROR](t,i):(O=0,N[_DYN__ON_SUCCESS](t,r)))}function o(e){return!(10<=y)&&!isNullOrUndefined(e)&&""!==e&&e!==F&&(F=e,++y,1)}function a(e,t){if(!L)return d(re&&re[_DYN_GET_SENDER_INST]([3],!0),e,t);L(e,!1)}function u(e){try{if(e&&e[_DYN_LENGTH$1])return isString(e[0])}catch(t){}}function A(e,t){var n=null;if(isArray(e)){for(var r=e[_DYN_LENGTH$1],i=0;i<e[_DYN_LENGTH$1];i++)r+=e[i].item[_DYN_LENGTH$1];return re.getSyncFetchPayload()+r<=FetchSyncRequestSizeLimitBytes?n=2:isBeaconsSupported()?n=3:(n=1,_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender.")),d(re&&re[_DYN_GET_SENDER_INST]([n],!0),e,t)}return null}function l(e,t){if(void 0===t&&(t=1),e&&0!==e[_DYN_LENGTH$1]){var n=N[_DYN__BUFFER];n[_DYN_CLEAR_SENT](e),O++;for(var r=0,i=e;r<i.length;r++){var a=i[r];a.cnt=a.cnt||0,a.cnt++,n[_DYN_ENQUEUE](a)}var e=t,t=(e=O<=1?10:(t=mathFloor((Math.pow(2,O)-1)/2*Math.random()*10)+1,mathMax(mathMin(t*=e,3600),10)),utcNow()+1e3*e);C=t,E()}}function E(){var e;P||m||(e=C?mathMax(0,C-utcNow()):0,e=mathMax(K,e),P=scheduleTimeout(function(){P=null,N[_DYN_TRIGGER_SEND](!0,null,1)},e))}function I(){P&&P.cancel(),C=P=null}function R(e){return isNullOrUndefined(ie)?401===e||408===e||429===e||500===e||502===e||503===e||504===e:ie[_DYN_LENGTH$1]&&~ie.indexOf(e)}function Y(e,t){var n,r="getNotifyMgr",i=N.core,r=n=i?i[r]?i[r]():i._notificationManager:n;if(r&&r.eventsSendRequest)try{r.eventsSendRequest(e,t)}catch(a){_throwInternal(N[_DYN_DIAG_LOG](),1,74,"send request notification failed: "+getExceptionName(a),{exception:dumpObj(a)})}}function _(){N[_DYN__SENDER]=null,N[_DYN__BUFFER]=null,N._appId=null,N._sample=null,x=oe=y=O=0,z=j=UNDEFINED_VALUE$1,ne=Z=Q=B=V=G=m=!(h={}),re=te=ee=X=k=$=M=F=b=L=v=P=C=U=null,objDefine(N,"_senderConfig",{g:function(){return objExtend({},defaultAppInsightsChannelConfig)}})}_(),N.pause=function(){I(),m=!0},N.resume=function(){m&&(m=!1,C=null,g(),E())},N.flush=function(e,t,n){if(void 0===e&&(e=!0),!m){I();try{return N[_DYN_TRIGGER_SEND](e,null,n||1)}catch(r){_throwInternal(N[_DYN_DIAG_LOG](),1,22,"flush failed, telemetry will not be collected: "+getExceptionName(r),{exception:dumpObj(r)})}}},N.onunloadFlush=function(){if(!m)if(G||J)try{return N[_DYN_TRIGGER_SEND](!0,a,2)}catch(e){_throwInternal(N[_DYN_DIAG_LOG](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+getExceptionName(e),{exception:dumpObj(e)})}else N.flush(!1)},N.addHeader=function(e,t){h[e]=t},N[_DYN_INITIALIZE]=function(e,u,t,n){N.isInitialized()&&_throwInternal(N[_DYN_DIAG_LOG](),1,28,"Sender is already initialized"),r[_DYN_INITIALIZE](e,u,t,n);var l=N.identifier,E=(v=new Serializer(u.logger),O=0,C=null,N[_DYN__SENDER]=null,y=0,N[_DYN_DIAG_LOG]());b=mergeEvtNamespace(createUniqueNamespace("Sender"),u.evtNamespace&&u.evtNamespace()),U=createOfflineListener(b),N._addHook(onConfigChange(e,function(e){e=e.cfg;e.storagePrefix&&utlSetStoragePrefix(e.storagePrefix);var t=createProcessTelemetryContext(null,e,u).getExtCfg(l,defaultAppInsightsChannelConfig),n=t[_DYN_ENDPOINT_URL$1],n=(F&&n===F&&(r=e[_DYN_ENDPOINT_URL$1])&&r!==n&&(t[_DYN_ENDPOINT_URL$1]=r),getInst("CompressionStream")),r=(ae=isFeatureEnabled("zipPayload",e,!1),isFunction(n)||(ae=!1),t.corsPolicy),n=(r?"same-origin"!==r&&"same-site"!==r&&"cross-origin"!==r||_e.addHeader(CrossOriginResourcePolicyHeader,r):delete h[CrossOriginResourcePolicyHeader],isPromiseLike(t[_DYN_INSTRUMENTATION_KEY$1])&&(t[_DYN_INSTRUMENTATION_KEY$1]=e[_DYN_INSTRUMENTATION_KEY$1]),objDefine(N,"_senderConfig",{g:function(){return t}}),M!==t[_DYN_ENDPOINT_URL$1]&&(F=M=t[_DYN_ENDPOINT_URL$1]),u.activeStatus()===ActiveStatus.PENDING?N.pause():u.activeStatus()===ActiveStatus.ACTIVE&&N.resume(),$&&$!==t[_DYN_CUSTOM_HEADERS]&&arrForEach($,function(e){delete h[e.header]}),x=t[_DYN_MAX_BATCH_SIZE_IN_BY1],G=(!1===t[_DYN_ONUNLOAD_DISABLE_BEA2]||!1===t[_DYN_IS_BEACON_API_DISABL3])&&isBeaconsSupported(),H=!1===t[_DYN_ONUNLOAD_DISABLE_BEA2]&&isBeaconsSupported(),w=!1===t[_DYN_IS_BEACON_API_DISABL3]&&isBeaconsSupported(),J=t[_DYN_ALWAYS_USE_XHR_OVERR4],Q=!!t.disableXhr,ie=t.retryCodes,t[_DYN_BUFFER_OVERRIDE]),r=!!t[_DYN_ENABLE_SESSION_STORA5]&&(!!n||utlCanUseSessionStorage()),i=t.namePrefix,a=r!==X||r&&z!==i||r&&W!==n;if(N[_DYN__BUFFER]){if(a)try{N[_DYN__BUFFER]=N[_DYN__BUFFER].createNew(E,t,r)}catch(c){_throwInternal(N[_DYN_DIAG_LOG](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+getExceptionName(c),{exception:dumpObj(c)})}g()}else N[_DYN__BUFFER]=new(r?SessionStorageSendBuffer:ArraySendBuffer)(E,t);z=i,X=r,W=n,Z=!t[_DYN_ONUNLOAD_DISABLE_FET6]&&isFetchSupported(!0),ne=!!t[_DYN_DISABLE_SEND_BEACON_7],N._sample=new Sample(t.samplingPercentage,E),isPromiseLike(k=t[_DYN_INSTRUMENTATION_KEY$1])||(a=k,!isNullOrUndefined(i=e.disableInstrumentationKeyValidation)&&i||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(a))||_throwInternal(E,1,100,"Invalid Instrumentation key "+k),$=t[_DYN_CUSTOM_HEADERS],isString(F)&&!isInternalApplicationInsightsEndpoint(F)&&$&&0<$[_DYN_LENGTH$1]?arrForEach($,function(e){_e.addHeader(e.header,e.value)}):$=null,q=t.enableSendPromise;var r=function(){try{return{enableSendPromise:q,isOneDs:!1,disableCredentials:!1,disableXhr:Q,disableBeacon:!w,disableBeaconSync:!H,senderOnCompleteCallBack:{xdrOnComplete:function(e,t,n){n=T(n);if(n)return f(e,n)},fetchOnComplete:function(e,t,n,r){r=T(r);if(r)return p(e.status,r,e.url,r[_DYN_LENGTH$1],e.statusText,n||"")},xhrOnComplete:function(e,t,n){n=T(n);if(n)return D(e,n,n[_DYN_LENGTH$1])},beaconOnRetry:function(e,t,n){var r=t,i=n,a=e&&e.oriPayload;if(ne)te&&te(a,!0),_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var _=[],o=0;o<a[_DYN_LENGTH$1];o++){var s=a[o],c=[s];i(S(c),r)?N._onSuccess(c,c[_DYN_LENGTH$1]):_[_DYN_PUSH](s)}0<_[_DYN_LENGTH$1]&&(te&&te(_,!0),_throwInternal(N[_DYN_DIAG_LOG](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}}}}catch(e){}return null}(),n=(re?re.SetConfig(r):(re=new SenderPostManager)[_DYN_INITIALIZE](r,E),t.httpXHROverride),_=null,o=null,e=prependTransports([3,1,2],t.transports),_=re&&re[_DYN_GET_SENDER_INST](e,!1),s=re&&re.getFallbackInst(),i=(ee=function(e,t){return d(s,e,t)},te=function(e,t){return d(s,e,t,!1)},_=J?n:_||n||s,N[_DYN__SENDER]=function(e,t){return d(_,e,t)},Z&&(L=A),prependTransports([3,1],t.unloadTransports));Z||(i=i.filter(function(e){return 2!==e})),o=re&&re[_DYN_GET_SENDER_INST](i,!0),o=!J&&o||n,L=(L=(J||t.unloadTransports||!L)&&o?function(e,t){return d(o,e,t)}:L)||ee,V=t.disableTelemetry,j=t.convertUndefined||UNDEFINED_VALUE$1,B=t.isRetryDisabled,K=t.maxBatchInterval}))},N.processTelemetry=function(e,t){var n=(t=N._getTelCtx(t))[_DYN_DIAG_LOG]();try{if(!s(e,n))return;var r=c(e,n);if(!r)return;var i=v.serialize(r),a=N[_DYN__BUFFER],_=(g(i),{item:i,cnt:0});a[_DYN_ENQUEUE](_),E()}catch(o){_throwInternal(n,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+getExceptionName(o),{exception:dumpObj(o)})}N.processNext(e,t)},N.isCompletelyIdle=function(){return!m&&0===oe&&0===N._buffer[_DYN_COUNT]()},N.getOfflineListener=function(){return U},N._xhrReadyStateChange=function(e,t,n){if(!u(t))return D(e,t,n)},N[_DYN_TRIGGER_SEND]=function(e,t,n){var r;if(void 0===e&&(e=!0),!m)try{var i,a=N[_DYN__BUFFER];V?a[_DYN_CLEAR]():0<a[_DYN_COUNT]()&&(i=a.getItems(),Y(n||0,e),r=t?t.call(N,i,e):N[_DYN__SENDER](i,e)),I()}catch(_){a=getIEVersion();(!a||9<a)&&_throwInternal(N[_DYN_DIAG_LOG](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+getExceptionName(_),{exception:dumpObj(_)})}return r},N.getOfflineSupport=function(){return{getUrl:function(){return F},createPayload:n,serialize:e,batch:t,shouldProcess:function(e){return!!s(e)}}},N._doTeardown=function(e,t){N.onunloadFlush(),runTargetUnload(U,!1),_()},N[_DYN__ON_ERROR]=function(e,t,n){if(!u(e))return e=e,t=t,_throwInternal(N[_DYN_DIAG_LOG](),2,26,"Failed to send telemetry.",{message:t}),void(N._buffer&&N._buffer[_DYN_CLEAR_SENT](e))},N[_DYN__ON_PARTIAL_SUCCESS]=function(e,t){if(!u(e)){for(var n=e,e=t,r=[],i=[],a=0,_=e.errors.reverse();a<_.length;a++){var o=_[a],s=n.splice(o.index,1)[0];(R(o.statusCode)?i:r)[_DYN_PUSH](s)}0<n[_DYN_LENGTH$1]&&N[_DYN__ON_SUCCESS](n,e[_DYN_ITEMS_ACCEPTED]),0<r[_DYN_LENGTH$1]&&N[_DYN__ON_ERROR](r,formatErrorMessageXhr(null,["partial success",e[_DYN_ITEMS_ACCEPTED],"of",e.itemsReceived].join(" "))),0<i[_DYN_LENGTH$1]&&(l(i),_throwInternal(N[_DYN_DIAG_LOG](),2,40,"Partial success. Delivered: "+n[_DYN_LENGTH$1]+", Failed: "+r[_DYN_LENGTH$1]+". Will retry to send "+i[_DYN_LENGTH$1]+" our of "+e[_DYN_ITEMS_RECEIVED]+" items"))}},N[_DYN__ON_SUCCESS]=function(e,t){u(e)||N._buffer&&N._buffer[_DYN_CLEAR_SENT](e)},N._xdrOnLoad=function(e,t){if(!u(t))return f(e,t)}}),_e}return __extendsFn(se,e),se.constructEnvelope=function(e,t,n,r){e=t===e.iKey||isNullOrUndefined(t)?e:__assignFn(__assignFn({},e),{iKey:t});return(EnvelopeTypeCreator[e.baseType]||EventEnvelopeCreator)(n,e,r)},se}(BaseTelemetryPlugin),STR_DURATION="duration",STR_PROPERTIES="properties",_DYN_REQUEST_URL="requestUrl",_DYN_LENGTH="length",_DYN_TRACE_ID="traceID",_DYN_SPAN_ID="spanID",_DYN_TRACE_FLAGS="traceFlags",_DYN_CONTEXT$1="context",_DYN_ABORTED="aborted",_DYN__ADD_HOOK="_addHook",_DYN_CORE="core",_DYN_INCLUDE_CORRELATION_0="includeCorrelationHeaders",_DYN_GET_ABSOLUTE_URL="getAbsoluteUrl",_DYN_HEADERS="headers",_DYN_REQUEST_HEADERS="requestHeaders",_DYN_SET_REQUEST_HEADER="setRequestHeader",_DYN_TRACK_DEPENDENCY_DAT1="trackDependencyDataInternal",_DYN_START_TIME="startTime",_DYN_TO_LOWER_CASE="toLowerCase",_DYN_ENABLE_REQUEST_HEADE2="enableRequestHeaderTracking",_DYN_ENABLE_AJAX_ERROR_ST3="enableAjaxErrorStatusText",_DYN_ENABLE_AJAX_PERF_TRA4="enableAjaxPerfTracking",_DYN_MAX_AJAX_CALLS_PER_V5="maxAjaxCallsPerView",_DYN_EXCLUDE_REQUEST_FROM6="excludeRequestFromAutoTrackingPatterns",_DYN_DISABLE_AJAX_TRACKIN7="disableAjaxTracking",_DYN_AJAX_PERF_LOOKUP_DEL8="ajaxPerfLookupDelay",_DYN_DISABLE_FETCH_TRACKI9="disableFetchTracking",_DYN_ENABLE_RESPONSE_HEAD10="enableResponseHeaderTracking",_DYN_STATUS="status",_DYN_STATUS_TEXT="statusText",_DYN_HEADER_MAP="headerMap",_DYN_REQUEST_SENT_TIME="requestSentTime",_DYN_GET_TRACE_ID="getTraceId",_DYN_GET_TRACE_FLAGS="getTraceFlags",_DYN_METHOD="method",_DYN_ERROR_STATUS_TEXT="errorStatusText",_DYN_STATE_CHANGE_ATTACHE11="stateChangeAttached",_DYN_RESPONSE_TEXT="responseText",_DYN_RESPONSE_FINISHED_TI12="responseFinishedTime",_DYN__CREATE_TRACK_ITEM="CreateTrackItem",_DYN_GET_ALL_RESPONSE_HEA13="getAllResponseHeaders",_DYN_GET_PART_APROPS="getPartAProps",_DYN_PERF_MARK="perfMark",_DYN_PERF_TIMING="perfTiming",_DYN_AJAX_DIAGNOSTICS_MES14="ajaxDiagnosticsMessage",_DYN_CORRELATION_CONTEXT="correlationContext",_DYN_AJAX_TOTAL_DURATION="ajaxTotalDuration",_DYN_EVENT_TRACE_CTX="eventTraceCtx";function _calcPerfDuration(e,t,n){t=e[t],n=e[n];return t&&n?dateTimeUtilsDuration(t,n):0}function _setPerfDuration(e,t,n,r,i){n=_calcPerfDuration(n,r,i);return n?_setPerfValue(e,t,msToTimeSpan(n)):0}function _setPerfValue(e,t,n){var r=0;return e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,r=1),r}function _populatePerfData(e,t){var r,n=e[_DYN_PERF_TIMING],i=t[STR_PROPERTIES]||{},a=0,_="connectEnd",o="requestStart",s="responseEnd",c="transferSize",u="encodedBodySize",l="decodedBodySize",E="serverTiming";n?(a=(a=(a=(a=(a=(a=(a|=_setPerfDuration(i,"End",n,"redirectStart","End"))|_setPerfDuration(i,"domainLookup",n,"domainLookupStart","domainLookupEnd"))|_setPerfDuration(i,"connect",n,"connectStart",_))|_setPerfDuration(i,"request",n,o,"requestEnd"))|_setPerfDuration(i,"response",n,"responseStart",s))|_setPerfDuration(i,"networkConnect",n,"startTime",_))|_setPerfDuration(i,"sentRequest",n,o,s),_=n[STR_DURATION]||_calcPerfDuration(n,"startTime",s)||0,a=(a|=_setPerfValue(i,STR_DURATION,_))|_setPerfValue(i,"perfTotal",_),(o=n[E])&&(r={},arrForEach(o,function(e,t){var t=normalizeJsName(e.name||""+t),n=r[t]||{};objForEachKey(e,function(e,t){!("name"!==e&&isString(t)||isNumber(t))||!(t=n[e]?n[e]+";"+t:t)&&isString(t)||(n[e]=t)}),r[t]=n}),a|=_setPerfValue(i,E,r)),a=(a=(a|=_setPerfValue(i,c,n[c]))|_setPerfValue(i,u,n[u]))|_setPerfValue(i,l,n[l])):e[_DYN_PERF_MARK]&&(a|=_setPerfValue(i,"missing",e.perfAttempts)),a&&(t[STR_PROPERTIES]=i)}var _a$2,XHRMonitoringState=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this[_DYN_STATE_CHANGE_ATTACHE11]=!1},ajaxRecord=function(){function _(e,t,n,r){var i=this,a=n;i[_DYN_PERF_MARK]=null,i.completed=!1,i.requestHeadersSize=null,i[_DYN_REQUEST_HEADERS]=null,i.responseReceivingDuration=null,i.callbackDuration=null,i[_DYN_AJAX_TOTAL_DURATION]=null,i[_DYN_ABORTED]=0,i.pageUrl=null,i[_DYN_REQUEST_URL]=null,i.requestSize=0,i[_DYN_METHOD]=null,i[_DYN_STATUS]=null,i[_DYN_REQUEST_SENT_TIME]=null,i.responseStartedTime=null,i[_DYN_RESPONSE_FINISHED_TI12]=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new XHRMonitoringState,i.clientFailure=0,i[_DYN_TRACE_ID]=e,i[_DYN_SPAN_ID]=t,i[_DYN_TRACE_FLAGS]=null==r?void 0:r.getTraceFlags(),i[_DYN_EVENT_TRACE_CTX]=r?{traceId:r[_DYN_GET_TRACE_ID](),spanId:r.getSpanId(),traceFlags:r[_DYN_GET_TRACE_FLAGS]()}:null,dynamicProto(_,i,function(i){i.getAbsoluteUrl=function(){return i[_DYN_REQUEST_URL]?urlGetAbsoluteUrl(i[_DYN_REQUEST_URL]):null},i.getPathName=function(){return i[_DYN_REQUEST_URL]?dataSanitizeUrl(a,urlGetCompleteUrl(i[_DYN_METHOD],i[_DYN_REQUEST_URL])):null},i[_DYN__CREATE_TRACK_ITEM]=function(e,t,n){if(i.ajaxTotalDuration=mathRound(1e3*dateTimeUtilsDuration(i.requestSentTime,i.responseFinishedTime))/1e3,i[_DYN_AJAX_TOTAL_DURATION]<0)return null;(e={id:"|"+i[_DYN_TRACE_ID]+"."+i[_DYN_SPAN_ID],target:i[_DYN_GET_ABSOLUTE_URL](),name:i.getPathName(),type:e,startTime:null,duration:i[_DYN_AJAX_TOTAL_DURATION],success:200<=+i[_DYN_STATUS]&&+i[_DYN_STATUS]<400,responseCode:+i[_DYN_STATUS]})[STR_PROPERTIES]={HttpMethod:i[_DYN_METHOD]};var r=e[STR_PROPERTIES];return i[_DYN_ABORTED]&&(r[_DYN_ABORTED]=!0),i[_DYN_REQUEST_SENT_TIME]&&(e[_DYN_START_TIME]=new Date,e[_DYN_START_TIME].setTime(i[_DYN_REQUEST_SENT_TIME])),_populatePerfData(i,e),t&&0<objKeys(i.requestHeaders)[_DYN_LENGTH]&&(r[_DYN_REQUEST_HEADERS]=i[_DYN_REQUEST_HEADERS]),n&&(t=n())&&((n=t[_DYN_CORRELATION_CONTEXT])&&(e.correlationContext=n),t[_DYN_HEADER_MAP]&&0<objKeys(t.headerMap)[_DYN_LENGTH]&&(r.responseHeaders=t[_DYN_HEADER_MAP]),i[_DYN_ERROR_STATUS_TEXT]&&(400<=i[_DYN_STATUS]?(""!==(n=t.type)&&"text"!==n||(r.responseText=t.responseText?t[_DYN_STATUS_TEXT]+" - "+t.responseText:t[_DYN_STATUS_TEXT]),"json"===n&&(r.responseText=t.response?t[_DYN_STATUS_TEXT]+" - "+JSON.stringify(t.response):t[_DYN_STATUS_TEXT])):0===i[_DYN_STATUS]&&(r.responseText=t[_DYN_STATUS_TEXT]||""))),e},i[_DYN_GET_PART_APROPS]=function(){var e,t=null,n=i[_DYN_EVENT_TRACE_CTX];return n&&(n.traceId||n.spanId)&&(e=(t={})[Extensions.TraceExt]={traceID:n.traceId,parentID:n.spanId},isNullOrUndefined(n[_DYN_TRACE_FLAGS])||(e[_DYN_TRACE_FLAGS]=n[_DYN_TRACE_FLAGS])),t}})}return _.__ieDyn=1,_}(),strDiagLog="diagLog",AJAX_DATA_CONTAINER="_ajaxData",STR_FETCH="fetch",ERROR_HEADER="Failed to monitor XMLHttpRequest",ERROR_PREFIX=", monitoring data for this ajax call ",ERROR_POSTFIX=ERROR_PREFIX+"may be incorrect.",ERROR_NOT_SENT=ERROR_PREFIX+"won't be sent.",CORRELATION_HEADER_ERROR="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",CUSTOM_REQUEST_CONTEXT_ERROR="Failed to add custom defined request context as configured call back may missing a null check.",FAILED_TO_CALCULATE_DURATION_ERROR="Failed to calculate the duration of the ",_markCount=0;function _supportsFetch(){var e=getGlobal();return!e||isNullOrUndefined(e.Request)||isNullOrUndefined(e.Request[strShimPrototype])||isNullOrUndefined(e[STR_FETCH])?null:e[STR_FETCH]}function _supportsAjaxMonitoring(e,t){var n,r=!1,i=(isXhrSupported()&&(r=!(isNullOrUndefined(i=XMLHttpRequest[strShimPrototype])||isNullOrUndefined(i.open)||isNullOrUndefined(i.send)||isNullOrUndefined(i.abort))),getIEVersion());if(r=!(i&&i<9)&&r)try{var a=new XMLHttpRequest,_={xh:[],i:((n={})[t]={},n)},o=(a[AJAX_DATA_CONTAINER]=_,XMLHttpRequest[strShimPrototype].open);XMLHttpRequest[strShimPrototype].open=o}catch(s){r=!1,_throwInternalCritical(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:dumpObj(s)})}return r}var _getAjaxData=function(e,t){return e&&t&&e[AJAX_DATA_CONTAINER]?(e[AJAX_DATA_CONTAINER].i||{})[t]:null},_addSharedXhrHeaders=function(e,t,n){e&&(e=(e[AJAX_DATA_CONTAINER]||{}).xh)&&e.push({n:t,v:n})},_isHeaderSet=function(e,t){var n=!1;return e&&(e=(e[AJAX_DATA_CONTAINER]||{}).xh)&&arrForEach(e,function(e){if(e.n===t)return n=!0,-1}),n};function _getFailedAjaxDiagnosticsMessage(e,t){var n="";try{var r=_getAjaxData(e,t);r&&r[_DYN_REQUEST_URL]&&(n+="(url: '"+r[_DYN_REQUEST_URL]+"')")}catch(i){}return n}function _throwInternalCritical(e,t,n,r,i){_throwInternal(e[strDiagLog](),1,t,n,r,i)}function _throwInternalWarning(e,t,n,r,i){_throwInternal(e[strDiagLog](),2,t,n,r,i)}function _createErrorCallbackFunc(n,r,i){return function(e){var t;_throwInternalCritical(n,r,i,((t={})[_DYN_AJAX_DIAGNOSTICS_MES14]=_getFailedAjaxDiagnosticsMessage(e.inst,n._ajaxDataId),t.exception=dumpObj(e.err),t))}}function _indexOf(e,t){return e&&t?strIndexOf(e,t):-1}function _addHandler(n,e,t){var r={id:e,fn:t};return n.push(r),{remove:function(){arrForEach(n,function(e,t){if(e.id===r.id)return n.splice(t,1),-1})}}}function _processDependencyContainer(r,e,i,a){var _=!0;return arrForEach(e,function(e,t){try{!1===e.fn.call(null,i)&&(_=!1)}catch(n){_throwInternal(r&&r.logger,1,64,"Dependency "+a+" [#"+t+"] failed: "+getExceptionName(n),{exception:dumpObj(n)},!0)}}),_}function _processDependencyListeners(e,t,n,r,i,a){var _=!0;return 0<e[_DYN_LENGTH]&&(_=_processDependencyContainer(t,e,e={core:t,xhr:r,input:i,init:a,traceId:n[_DYN_TRACE_ID],spanId:n[_DYN_SPAN_ID],traceFlags:n[_DYN_TRACE_FLAGS],context:n[_DYN_CONTEXT$1]||{},aborted:!!n[_DYN_ABORTED]},"listener"),n[_DYN_TRACE_ID]=e.traceId,n[_DYN_SPAN_ID]=e.spanId,n[_DYN_TRACE_FLAGS]=e[_DYN_TRACE_FLAGS],n[_DYN_CONTEXT$1]=e[_DYN_CONTEXT$1]),_}var BLOB_CORE="*.blob.core.",DfltAjaxCorrelationHeaderExDomains=objFreeze([BLOB_CORE+"windows.net",BLOB_CORE+"chinacloudapi.cn",BLOB_CORE+"cloudapi.de",BLOB_CORE+"usgovcloudapi.net"]),_internalExcludeEndpoints=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],_defaultConfig$1=objFreeze(((_a$2={})[_DYN_MAX_AJAX_CALLS_PER_V5]=500,_a$2[_DYN_DISABLE_AJAX_TRACKIN7]=!1,_a$2[_DYN_DISABLE_FETCH_TRACKI9]=!1,_a$2[_DYN_EXCLUDE_REQUEST_FROM6]=undefined,_a$2.disableCorrelationHeaders=!1,_a$2.distributedTracingMode=1,_a$2.correlationHeaderExcludedDomains=DfltAjaxCorrelationHeaderExDomains,_a$2.correlationHeaderDomains=undefined,_a$2.correlationHeaderExcludePatterns=undefined,_a$2.appId=undefined,_a$2.enableCorsCorrelation=!1,_a$2[_DYN_ENABLE_REQUEST_HEADE2]=!1,_a$2[_DYN_ENABLE_RESPONSE_HEAD10]=!1,_a$2[_DYN_ENABLE_AJAX_ERROR_ST3]=!1,_a$2[_DYN_ENABLE_AJAX_PERF_TRA4]=!1,_a$2.maxAjaxPerfLookupAttempts=3,_a$2[_DYN_AJAX_PERF_LOOKUP_DEL8]=25,_a$2.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],_a$2.addRequestContext=undefined,_a$2.addIntEndpoints=!0,_a$2)),AjaxMonitor=function(n){function z(){var A,I,R,Y,O,C,r,m,P,v,y,h,L,U,b,F,M,x,G,H,w,t,$,V,k,j,B,K,X,W,e=n.call(this)||this;return e.identifier=z.identifier,e.priority=120,dynamicProto(z,e,function(l,a){var _=a[_DYN__ADD_HOOK];function e(){var e=getLocation();W=I=A=!1,R=e&&e.host&&e.host[_DYN_TO_LOWER_CASE](),U=h=v=P=C=O=!1,M=F=!(b={}),H=G=x=y=m=Y=null,t=L=r=0,$=[],V=[],w=createUniqueNamespace("ajaxData"),l._ajaxDataId=w,K=B=j=1,X=k=null}function E(t){var n=!0;return(t||k)&&arrForEach(k,function(e){if(e[_DYN_TO_LOWER_CASE]()===t[_DYN_TO_LOWER_CASE]())return n=!1,-1}),n}function o(e,t,n){_(InstrumentProto(e,t,n))}function N(e,t,n){var r=!1,i=((isString(t)?t:(t||{}).url||"")||"")[_DYN_TO_LOWER_CASE]();if(arrForEach(x,function(e){var t=e;isString(e)&&(t=RegExp(e)),r=r||t.test(i)}),r)return r;var a=_indexOf(i,"?"),_=_indexOf(i,"#");return-1!==(a=-1===a||-1!==_&&_<a?_:a)&&(i=i.substring(0,a)),isNullOrUndefined(e)?isNullOrUndefined(t)||(r="object"==typeof t&&!0===t[DisabledPropertyName]||!!n&&!0===n[DisabledPropertyName]):r=!0===e[DisabledPropertyName]||!0===i[DisabledPropertyName],(r=!(r||!i||!isInternalApplicationInsightsEndpoint(i))||r)?b[i]||(b[i]=1):b[i]&&(r=!0),r}function c(e,t,n){var r=!0,i=I;return isNullOrUndefined(e)||(r=!0===n||!isNullOrUndefined(t)),i&&r}function f(){var e=null;return!(e=l[_DYN_CORE]&&l[_DYN_CORE].getTraceCtx?l[_DYN_CORE].getTraceCtx(!1):e)&&m&&m.telemetryTrace?createDistributedTraceContextFromTrace(m.telemetryTrace):e}function D(r,i){i.xhrMonitoringState[_DYN_STATE_CHANGE_ATTACHE11]=eventOn(r,"readystatechange",function(){var e,a,_;try{r&&4===r.readyState&&c(r,i)&&((_=_getAjaxData(a=r,w))[_DYN_RESPONSE_FINISHED_TI12]=dateTimeUtilsNow(),_[_DYN_STATUS]=a[_DYN_STATUS],u("xmlhttprequest",_,function(){try{var e,t=_[_DYN__CREATE_TRACK_ITEM]("Ajax",O,function(){(t={statusText:a[_DYN_STATUS_TEXT],headerMap:null})[_DYN_CORRELATION_CONTEXT]=s(a),t.type=a.responseType,t[_DYN_RESPONSE_TEXT]=function(e){try{var t=e.responseType;if(""===t||"text"===t)return e[_DYN_RESPONSE_TEXT]}catch(n){}return null}(a),t.response=a.response;var e,n,t;return U&&(e=a[_DYN_GET_ALL_RESPONSE_HEA13]())&&(e=strTrim(e).split(/[\r\n]+/),n={},arrForEach(e,function(e){var e=e.split(": "),t=e.shift(),e=e.join(": ");E(t)&&(n[t]=e)}),t[_DYN_HEADER_MAP]=n),t}),n=void 0;try{G&&(n=G({status:a[_DYN_STATUS],xhr:a}))}catch(i){_throwInternalWarning(l,104,CUSTOM_REQUEST_CONTEXT_ERROR)}t?(n!==undefined&&(t[STR_PROPERTIES]=__assignFn(__assignFn({},t.properties),n)),e=_[_DYN_GET_PART_APROPS](),p(V,l[_DYN_CORE],_,t,null,e)):o(null,{requestSentTime:_[_DYN_REQUEST_SENT_TIME],responseFinishedTime:_[_DYN_RESPONSE_FINISHED_TI12]})}finally{try{var r=(a[AJAX_DATA_CONTAINER]||{i:{}}).i||{};r[w]&&(r[w]=null)}catch(i){}}},function(e){o(e,null)}))}catch(n){var t=dumpObj(n);t&&-1!==_indexOf(t[_DYN_TO_LOWER_CASE](),"c00c023f")||_throwInternalCritical(l,16,ERROR_HEADER+" 'readystatechange' event handler"+ERROR_POSTFIX,((e={})[_DYN_AJAX_DIAGNOSTICS_MES14]=_getFailedAjaxDiagnosticsMessage(r,w),e.exception=t,e))}function o(e,t){t=t||{};t.ajaxDiagnosticsMessage=_getFailedAjaxDiagnosticsMessage(a,w),e&&(t.exception=dumpObj(e)),_throwInternalWarning(l,14,FAILED_TO_CALCULATE_DURATION_ERROR+"ajax call"+ERROR_NOT_SENT,t)}},H)}function s(e){try{var t=e[_DYN_GET_ALL_RESPONSE_HEA13]();if(null!==t&&-1!==_indexOf(t[_DYN_TO_LOWER_CASE](),RequestHeaders[8]))return correlationIdGetCorrelationContext(e.getResponseHeader(RequestHeaders[0]))}catch(n){_throwInternalWarning(l,18,CORRELATION_HEADER_ERROR,((t={})[_DYN_AJAX_DIAGNOSTICS_MES14]=_getFailedAjaxDiagnosticsMessage(e,w),t.exception=dumpObj(n),t))}}function T(e,t){var n;t[_DYN_REQUEST_URL]&&y&&h&&(n=getPerformance())&&isFunction(n.mark)&&(e=y+e+"#"+ ++_markCount,n.mark(e),(e=n.getEntriesByName(e))&&1===e[_DYN_LENGTH]&&(t[_DYN_PERF_MARK]=e[0]))}function u(a,_,o,s){var c=_[_DYN_PERF_MARK],u=getPerformance(),l=j,E=B,N=_[_DYN_REQUEST_URL],f=0;!function D(){try{if(u&&c){f++;for(var e=null,t=u.getEntries(),n=t[_DYN_LENGTH]-1;0<=n;n--){var r=t[n];if(r){if("resource"===r.entryType)r.initiatorType!==a||-1===_indexOf(r.name,N)&&-1===_indexOf(N,r.name)||(e=r);else if("mark"===r.entryType&&r.name===c.name){_[_DYN_PERF_TIMING]=e;break}if(r[_DYN_START_TIME]<c[_DYN_START_TIME]-1e3)break}}}!c||_[_DYN_PERF_TIMING]||l<=f||!1===_["async"]?(c&&isFunction(u.clearMarks)&&u.clearMarks(c.name),_.perfAttempts=f,o()):scheduleTimeout(D,E)}catch(i){s(i)}}()}function d(e){var t="";try{isNullOrUndefined(e)||(t+="(url: '".concat("string"==typeof e?e:e.url,"')"))}catch(n){_throwInternalCritical(l,15,"Failed to grab failed fetch diagnostics message",{exception:dumpObj(n)})}return t}function S(e,r,i,a,_,o){function s(e,t,n){n=n||{};n.fetchDiagnosticsMessage=d(i),t&&(n.exception=dumpObj(t)),_throwInternalWarning(l,e,FAILED_TO_CALCULATE_DURATION_ERROR+"fetch call"+ERROR_NOT_SENT,n)}_&&(_[_DYN_RESPONSE_FINISHED_TI12]=dateTimeUtilsNow(),_[_DYN_STATUS]=r,u(STR_FETCH,_,function(){var e,t=_[_DYN__CREATE_TRACK_ITEM]("Fetch",O,o);try{G&&(e=G({status:r,request:i,response:a}))}catch(n){_throwInternalWarning(l,104,CUSTOM_REQUEST_CONTEXT_ERROR)}t?(e!==undefined&&(t[STR_PROPERTIES]=__assignFn(__assignFn({},t.properties),e)),e=_[_DYN_GET_PART_APROPS](),p(V,l[_DYN_CORE],_,t,null,e)):s(14,null,{requestSentTime:_[_DYN_REQUEST_SENT_TIME],responseFinishedTime:_[_DYN_RESPONSE_FINISHED_TI12]})},function(e){s(18,e,null)}))}function g(e){if(e&&e[_DYN_HEADERS])try{return correlationIdGetCorrelationContext(e[_DYN_HEADERS].get(RequestHeaders[0]))}catch(t){_throwInternalWarning(l,18,CORRELATION_HEADER_ERROR,{fetchDiagnosticsMessage:d(e),exception:dumpObj(t)})}}function p(e,t,n,r,i,a){var _=!0;(_=0<e[_DYN_LENGTH]?_processDependencyContainer(t,e,{item:r,properties:i,sysProperties:a,context:n?n[_DYN_CONTEXT$1]:null,aborted:!!n&&!!n[_DYN_ABORTED]},"initializer"):_)&&l[_DYN_TRACK_DEPENDENCY_DAT1](r,i,a)}e(),l.initialize=function(e,t,n,r){var i,u;l.isInitialized()||(a.initialize(e,t,n,r),H=mergeEvtNamespace(createUniqueNamespace("ajax"),t&&t.evtNamespace&&t.evtNamespace()),l[_DYN__ADD_HOOK](onConfigChange(e,function(e){e=createProcessTelemetryContext(null,e.cfg,l[_DYN_CORE]);Y=e.getExtCfg(z.identifier,_defaultConfig$1),K=Y.distributedTracingMode,O=Y[_DYN_ENABLE_REQUEST_HEADE2],C=Y[_DYN_ENABLE_AJAX_ERROR_ST3],h=Y[_DYN_ENABLE_AJAX_PERF_TRA4],L=Y[_DYN_MAX_AJAX_CALLS_PER_V5],x=[].concat(Y[_DYN_EXCLUDE_REQUEST_FROM6]||[],!1!==Y.addIntEndpoints?_internalExcludeEndpoints:[]),G=Y.addRequestContext,v=0===K||1===K,P=1===K||2===K,h&&(y=w),F=!!Y[_DYN_DISABLE_AJAX_TRACKIN7],j=Y.maxAjaxPerfLookupAttempts,B=Y[_DYN_AJAX_PERF_LOOKUP_DEL8],k=Y.ignoreHeaders,X=Y.appId})),_supportsAjaxMonitoring(l,w)&&l[_DYN__ADD_HOOK](onConfigChange(Y,function(){F=!!Y[_DYN_DISABLE_AJAX_TRACKIN7],O=Y[_DYN_ENABLE_REQUEST_HEADE2],F||I||(o(XMLHttpRequest,"open",{ns:H,req:function(e,t,n,r){var i,a,_,o,s;F||(e=e.inst,i=_getAjaxData(e,w),!N(e,n)&&c(e,i,!0)&&(i&&i.xhrMonitoringState.openDone||(o=e,t=t,n=n,r=r,s=(a=f())&&a[_DYN_GET_TRACE_ID]()||generateW3CId(),_=strSubstr(generateW3CId(),0,16),(s=(o=(o=o[AJAX_DATA_CONTAINER]=o[AJAX_DATA_CONTAINER]||{xh:[],i:{}}).i=o.i||{})[w]=o[w]||new ajaxRecord(s,_,l[strDiagLog](),null==(o=l.core)?void 0:o.getTraceCtx()))[_DYN_TRACE_FLAGS]=a&&a[_DYN_GET_TRACE_FLAGS](),s[_DYN_METHOD]=t,s[_DYN_REQUEST_URL]=n,s.xhrMonitoringState.openDone=!0,s[_DYN_REQUEST_HEADERS]={},s["async"]=r,s[_DYN_ERROR_STATUS_TEXT]=C,i=s),D(e,i)))},hkErr:_createErrorCallbackFunc(l,15,ERROR_HEADER+".open"+ERROR_POSTFIX)}),o(XMLHttpRequest,"send",{ns:H,req:function(e,t){var n;F||c(e=e.inst,n=_getAjaxData(e,w))&&!n.xhrMonitoringState.sendDone&&(T("xhr",n),n[_DYN_REQUEST_SENT_TIME]=dateTimeUtilsNow(),l[_DYN_INCLUDE_CORRELATION_0](n,undefined,undefined,e),n.xhrMonitoringState.sendDone=!0)},hkErr:_createErrorCallbackFunc(l,17,ERROR_HEADER+ERROR_POSTFIX)}),o(XMLHttpRequest,"abort",{ns:H,req:function(e){F||c(e=e.inst,e=_getAjaxData(e,w))&&!e.xhrMonitoringState.abortDone&&(e[_DYN_ABORTED]=1,e.xhrMonitoringState.abortDone=!0)},hkErr:_createErrorCallbackFunc(l,13,ERROR_HEADER+".abort"+ERROR_POSTFIX)}),o(XMLHttpRequest,"setRequestHeader",{ns:H,req:function(e,t,n){var r;F||(e=e.inst,(r=_getAjaxData(e,w))&&c(e,r)&&(_addSharedXhrHeaders(e,t,n),O&&E(t)&&(r[_DYN_REQUEST_HEADERS][t]=n)))},hkErr:_createErrorCallbackFunc(l,71,ERROR_HEADER+".setRequestHeader"+ERROR_POSTFIX)}),I=!0)})),(n=_supportsFetch())&&(i=getGlobal(),u=n.polyfill,l[_DYN__ADD_HOOK](onConfigChange(Y,function(){M=!!Y[_DYN_DISABLE_FETCH_TRACKI9],U=Y[_DYN_ENABLE_RESPONSE_HEAD10],M||A?u&&!W&&(_(InstrumentFunc(i,STR_FETCH,{ns:H,req:function(e,t,n){N(null,t,n)}})),W=!0):(_(InstrumentFunc(i,STR_FETCH,{ns:H,req:function(e,t,n){var r,i,a,_,o,s,c;M||!A||N(null,t,n)||u&&I||(r=e.ctx(),i=t,a=n,_=(s=f())&&s[_DYN_GET_TRACE_ID]()||generateW3CId(),o=strSubstr(generateW3CId(),0,16),(o=new ajaxRecord(_,o,l[strDiagLog](),null==(_=l.core)?void 0:_.getTraceCtx()))[_DYN_TRACE_FLAGS]=s&&s[_DYN_GET_TRACE_FLAGS](),o[_DYN_REQUEST_SENT_TIME]=dateTimeUtilsNow(),o[_DYN_ERROR_STATUS_TEXT]=C,""===(_=i instanceof Request?(i||{}).url||"":i)&&(s=getLocation())&&s.href&&(_=strSplit(s.href,"#")[0]),o[_DYN_REQUEST_URL]=_,s="GET",a&&a[_DYN_METHOD]?s=a[_DYN_METHOD]:i&&i instanceof Request&&(s=i[_DYN_METHOD]),o[_DYN_METHOD]=s,c={},O&&new Headers((a?a[_DYN_HEADERS]:0)||i instanceof Request&&i[_DYN_HEADERS]||{}).forEach(function(e,t){E(t)&&(c[t]=e)}),o[_DYN_REQUEST_HEADERS]=c,T(STR_FETCH,o),_=o,(s=l[_DYN_INCLUDE_CORRELATION_0](_,t,n))!==n&&e.set(1,s),r.data=_)},rsp:function(e,n){var r;M||(r=e.ctx().data)&&(e.rslt=e.rslt.then(function(t){return S(0,(t||{})[_DYN_STATUS],n,t,r,function(){(e={statusText:(t||{})[_DYN_STATUS_TEXT],headerMap:null})[_DYN_CORRELATION_CONTEXT]=g(t);var n,e;return U&&t&&(n={},t.headers.forEach(function(e,t){E(t)&&(n[t]=e)}),e[_DYN_HEADER_MAP]=n),e}),t})["catch"](function(e){throw S(0,0,n,null,r,null),e}))},hkErr:_createErrorCallbackFunc(l,15,"Failed to monitor Window.fetch"+ERROR_POSTFIX)},!0,isWebWorker())),A=!0)})),u&&(i[STR_FETCH].polyfill=u)),(r=l[_DYN_CORE].getPlugin(PropertiesPluginIdentifier))&&(m=r.plugin[_DYN_CONTEXT$1]))},l._doTeardown=function(){e()},l.trackDependencyData=function(e,t){p(V,l[_DYN_CORE],null,e,t)},l[_DYN_INCLUDE_CORRELATION_0]=function(e,t,n,r){var i,a,_,o,s=l._currentWindowHost||R;if(_processDependencyListeners($,l[_DYN_CORE],e,r,t,n)){if(t||""===t)return correlationIdCanIncludeCorrelationHeader(Y,e[_DYN_GET_ABSOLUTE_URL](),s)&&(n=n||{},t=new Headers(n[_DYN_HEADERS]||t instanceof Request&&t[_DYN_HEADERS]||{}),v&&(i="|"+e[_DYN_TRACE_ID]+"."+e[_DYN_SPAN_ID],t.set(RequestHeaders[3],i),O&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[3]]=i)),(a=X||m&&m.appId())&&(t.set(RequestHeaders[0],RequestHeaders[2]+a),O&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[0]]=RequestHeaders[2]+a)),P&&(isNullOrUndefined(_=e[_DYN_TRACE_FLAGS])&&(_=1),o=formatTraceParent(createTraceParent(e[_DYN_TRACE_ID],e[_DYN_SPAN_ID],_)),t.set(RequestHeaders[4],o),O&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[4]]=o)),n[_DYN_HEADERS]=t),n;if(r)return correlationIdCanIncludeCorrelationHeader(Y,e[_DYN_GET_ABSOLUTE_URL](),s)&&(v&&(_isHeaderSet(r,RequestHeaders[3])?_throwInternalWarning(l,71,"Unable to set ["+RequestHeaders[3]+"] as it has already been set by another instance"):(i="|"+e[_DYN_TRACE_ID]+"."+e[_DYN_SPAN_ID],r[_DYN_SET_REQUEST_HEADER](RequestHeaders[3],i),O&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[3]]=i))),(a=X||m&&m.appId())&&(_isHeaderSet(r,RequestHeaders[0])?_throwInternalWarning(l,71,"Unable to set ["+RequestHeaders[0]+"] as it has already been set by another instance"):(r[_DYN_SET_REQUEST_HEADER](RequestHeaders[0],RequestHeaders[2]+a),O&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[0]]=RequestHeaders[2]+a))),P&&(isNullOrUndefined(_=e[_DYN_TRACE_FLAGS])&&(_=1),_isHeaderSet(r,RequestHeaders[4])?_throwInternalWarning(l,71,"Unable to set ["+RequestHeaders[4]+"] as it has already been set by another instance"):(o=formatTraceParent(createTraceParent(e[_DYN_TRACE_ID],e[_DYN_SPAN_ID],_)),r[_DYN_SET_REQUEST_HEADER](RequestHeaders[4],o),O&&(e[_DYN_REQUEST_HEADERS][RequestHeaders[4]]=o)))),r}return undefined},l[_DYN_TRACK_DEPENDENCY_DAT1]=function(e,t,n){-1===L||r<L?(2!==K&&1!==K||"string"!=typeof e.id||"."===e.id[e.id[_DYN_LENGTH]-1]||(e.id+="."),isNullOrUndefined(e[_DYN_START_TIME])&&(e[_DYN_START_TIME]=new Date),e=createTelemetryItem(e,RemoteDependencyData.dataType,RemoteDependencyData.envelopeType,l[strDiagLog](),t,n),l[_DYN_CORE].track(e)):r===L&&_throwInternalCritical(l,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++r},l.addDependencyListener=function(e){return _addHandler($,t++,e)},l.addDependencyInitializer=function(e){return _addHandler(V,t++,e)}}),e}return __extendsFn(z,n),z.prototype.processTelemetry=function(e,t){this.processNext(e,t)},z.prototype.addDependencyInitializer=function(e){return null},z.identifier="AjaxDependencyPlugin",z}(BaseTelemetryPlugin),Application=function(){},Device=function(){this.id="browser",this.deviceClass="Browser"},Version="3.3.9",Internal=function(t,e){var n=this,r=onConfigChange(t,function(){var e=t.sdkExtension;n.sdkVersion=(e?e+"_":"")+"javascript:"+Version});e&&e.add(r)},Location=function(){},_DYN_SESSION="session",_DYN_SESSION_MANAGER="sessionManager",_DYN_IS_USER_COOKIE_SET="isUserCookieSet",_DYN_IS_NEW_USER="isNewUser",_DYN_GET_TRACE_CTX="getTraceCtx",_DYN_TELEMETRY_TRACE="telemetryTrace",_DYN_APPLY_SESSION_CONTEX0="applySessionContext",_DYN_APPLY_APPLICATION_CO1="applyApplicationContext",_DYN_APPLY_OPERATION_CONT2="applyOperationContext",_DYN_APPLY_OPERATING_SYST3="applyOperatingSystemContxt",_DYN_APPLY_LOCATION_CONTE4="applyLocationContext",_DYN_APPLY_INTERNAL_CONTE5="applyInternalContext",_DYN_GET_SESSION_ID="getSessionId",_DYN_SESSION_COOKIE_POSTF6="sessionCookiePostfix",_DYN_AUTOMATIC_SESSION="automaticSession",_DYN_ACCOUNT_ID="accountId",_DYN_AUTHENTICATED_ID="authenticatedId",_DYN_ACQUISITION_DATE="acquisitionDate",_DYN_RENEWAL_DATE="renewalDate",_DYN_COOKIE_SEPARATOR="cookieSeparator",_DYN_AUTH_USER_COOKIE_NAM7="authUserCookieName",SESSION_COOKIE_NAME="ai_session",ACQUISITION_SPAN=864e5,RENEWAL_SPAN=18e5,COOKIE_UPDATE_INTERVAL=6e4,Session=function(){},_SessionManager=function(){function n(c,e,t){var u,l,E,N,f=safeGetLogger(e),D=safeGetCookieMgr(e);dynamicProto(n,this,function(_){var e=onConfigChange(c=c||{},function(e){E=c.sessionExpirationMs||ACQUISITION_SPAN,N=c.sessionRenewalMs||RENEWAL_SPAN;var t=c[_DYN_SESSION_COOKIE_POSTF6]||c.namePrefix||"";u=SESSION_COOKIE_NAME+t});function o(e,t){var n=!1,r=", session will be reset",i=t.split("|");if(2<=i.length)try{var a=+i[1]||0,_=+i[2]||0;isNaN(a)||a<=0?_throwInternal(f,2,27,"AI session acquisition date is 0"+r):isNaN(_)||_<=0?_throwInternal(f,2,27,"AI session renewal date is 0"+r):i[0]&&(e.id=i[0],e[_DYN_ACQUISITION_DATE]=a,e[_DYN_RENEWAL_DATE]=_,n=!0)}catch(o){_throwInternal(f,1,9,"Error parsing ai_session value ["+(t||"")+"]"+r+" - "+getExceptionName(o),{exception:dumpObj(o)})}return n}function s(e,t){var n=e[_DYN_ACQUISITION_DATE],r=(e[_DYN_RENEWAL_DATE]=t,N),i=n+E-t,e=[e.id,n,t],n=i<r?i/1e3:r/1e3,i=c.cookieDomain||null;D.set(u,e.join("|"),0<E?n:null,i),l=t}t&&t.add(e),_[_DYN_AUTOMATIC_SESSION]=new Session,_.update=function(){var e,t,n,r=utcNow(),i=!1,a=_[_DYN_AUTOMATIC_SESSION];!(i=a.id?i:(e=a,t=!1,(n=D.get(u))&&isFunction(n.split)?t=o(e,n):(n=utlGetLocalStorage(f,u))&&(t=o(e,n)),!(t||e.id)))&&0<E&&(n=r-a[_DYN_ACQUISITION_DATE],t=r-a[_DYN_RENEWAL_DATE],i=(i=(i=n<0||t<0)||E<n)||N<t),i?(e=r,n=c.getNewId||newId,_[_DYN_AUTOMATIC_SESSION].id=n(c.idLength||22),_[_DYN_AUTOMATIC_SESSION][_DYN_ACQUISITION_DATE]=e,s(_[_DYN_AUTOMATIC_SESSION],e),utlCanUseLocalStorage()||_throwInternal(f,2,0,"Browser does not support local storage. Session durations will be inaccurate.")):(!l||COOKIE_UPDATE_INTERVAL<r-l)&&s(a,r)},_.backup=function(){var e=_[_DYN_AUTOMATIC_SESSION],t=e.id,n=e[_DYN_ACQUISITION_DATE],e=e[_DYN_RENEWAL_DATE];utlSetLocalStorage(f,u,[t,n,e].join("|"))}})}return n.__ieDyn=1,n}(),TelemetryTrace=function(e,t,n,r){this.traceID=e||generateW3CId(),this.parentID=t;e=getLocation();!n&&e&&e.pathname&&(n=e.pathname),this.name=dataSanitizeString(r,n)};function _validateUserInput(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var User=function(){function u(a,e,_){this.isNewUser=!1,this.isUserCookieSet=!1;var o,s=safeGetLogger(e),c=safeGetCookieMgr(e);dynamicProto(u,this,function(r){objDefine(r,"config",{g:function(){return a}});var e=onConfigChange(a,function(){var e=a.userCookiePostfix||"",e=(o=u.userCookieName+e,c.get(o)),e=(e&&(r[_DYN_IS_NEW_USER]=!1,0<(e=e.split(u[_DYN_COOKIE_SEPARATOR])).length&&(r.id=e[0],r[_DYN_IS_USER_COOKIE_SET]=!!r.id)),r.id||(r.id=t(),i(n(r.id).join(u[_DYN_COOKIE_SEPARATOR])),e=(a.namePrefix||"")+"ai_session",utlRemoveStorage(s,e)),r[_DYN_ACCOUNT_ID]=a[_DYN_ACCOUNT_ID]||undefined,c.get(u[_DYN_AUTH_USER_COOKIE_NAM7]));e&&((e=(e=decodeURI(e)).split(u[_DYN_COOKIE_SEPARATOR]))[0]&&(r[_DYN_AUTHENTICATED_ID]=e[0]),1<e.length&&e[1]&&(r[_DYN_ACCOUNT_ID]=e[1]))});function t(){var e=a||{};return(e.getNewId||newId)(e.idLength?a.idLength:22)}function n(e){var t=toISOString(new Date);return r.accountAcquisitionDate=t,r[_DYN_IS_NEW_USER]=!0,[e,t]}function i(e){r[_DYN_IS_USER_COOKIE_SET]=c.set(o,e,31536e3)}_&&_.add(e),r.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),!_validateUserInput(e)||t&&!_validateUserInput(t)?_throwInternal(s,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0):(r[_DYN_AUTHENTICATED_ID]=e,e=r[_DYN_AUTHENTICATED_ID],t&&(r[_DYN_ACCOUNT_ID]=t,e=[r[_DYN_AUTHENTICATED_ID],r.accountId].join(u[_DYN_COOKIE_SEPARATOR])),n&&c.set(u[_DYN_AUTH_USER_COOKIE_NAM7],encodeURI(e)))},r.clearAuthenticatedUserContext=function(){r[_DYN_AUTHENTICATED_ID]=null,r[_DYN_ACCOUNT_ID]=null,c.del(u[_DYN_AUTH_USER_COOKIE_NAM7])},r.update=function(e){r.id===e&&r[_DYN_IS_USER_COOKIE_SET]||i(n(e||t()).join(u[_DYN_COOKIE_SEPARATOR]))}})}return u.cookieSeparator="|",u.userCookieName="ai_user",u.authUserCookieName="ai_authUser",u}(),strExt="ext",strTags="tags";function _removeEmpty(e,t){e&&e[t]&&0===objKeys(e[t]).length&&delete e[t]}function _nullResult(){return null}var _a$1,undefString,_a,_b,_c,_d,_internalSdkSrc,TelemetryContext=function(){function e(r,a,_,o){var s=this,c=r.logger;dynamicProto(e,this,function(i){var e,t,n;i.appId=_nullResult,i[_DYN_GET_SESSION_ID]=_nullResult,i.application=new Application,i.internal=new Internal(a,o),hasWindow()&&(i[_DYN_SESSION_MANAGER]=new _SessionManager(a,r,o),i.device=new Device,i.location=new Location,i.user=new User(a,r,o),t=e=void 0,_&&(e=_.getTraceId(),t=_.getSpanId(),n=_.getName()),i[_DYN_TELEMETRY_TRACE]=new TelemetryTrace(e,t,n,c),i[_DYN_SESSION]=new Session),i[_DYN_GET_SESSION_ID]=function(){var e=i[_DYN_SESSION];return e&&isString(e.id)?e.id:(e=(i[_DYN_SESSION_MANAGER]||{})[_DYN_AUTOMATIC_SESSION])&&isString(e.id)?e.id:null},i[_DYN_APPLY_SESSION_CONTEX0]=function(e,t){setValue(getSetValue(e.ext,Extensions.AppExt),"sesId",i[_DYN_GET_SESSION_ID](),isString)},i[_DYN_APPLY_OPERATING_SYST3]=function(e,t){setValue(e.ext,Extensions.OSExt,i.os)},i[_DYN_APPLY_APPLICATION_CO1]=function(e,t){var n=i.application;n&&(setValue(e=getSetValue(e,strTags),CtxTagKeys.applicationVersion,n.ver,isString),setValue(e,CtxTagKeys.applicationBuild,n.build,isString))},i.applyDeviceContext=function(e,t){var n=i.device;n&&(setValue(e=getSetValue(getSetValue(e,strExt),Extensions.DeviceExt),"localId",n.id,isString),setValue(e,"ip",n.ip,isString),setValue(e,"model",n.model,isString),setValue(e,"deviceClass",n.deviceClass,isString))},i[_DYN_APPLY_INTERNAL_CONTE5]=function(e,t){var n,r=i.internal;r&&(setValue(n=getSetValue(e,strTags),CtxTagKeys.internalAgentVersion,r.agentVersion,isString),setValue(n,CtxTagKeys.internalSdkVersion,dataSanitizeString(c,r.sdkVersion,64),isString),e.baseType!==_InternalLogMessage.dataType&&e.baseType!==PageView.dataType||(setValue(n,CtxTagKeys.internalSnippet,r.snippetVer,isString),setValue(n,CtxTagKeys.internalSdkSrc,r.sdkSrc,isString)))},i[_DYN_APPLY_LOCATION_CONTE4]=function(e,t){var n=s.location;n&&setValue(getSetValue(e,strTags,[]),CtxTagKeys.locationIp,n.ip,isString)},i[_DYN_APPLY_OPERATION_CONT2]=function(e,t){var n=i[_DYN_TELEMETRY_TRACE];n&&(setValue(e=getSetValue(getSetValue(e,strExt),Extensions.TraceExt,{traceID:undefined,parentID:undefined}),"traceID",n.traceID,isString,isNullOrUndefined),setValue(e,"name",n.name,isString,isNullOrUndefined),setValue(e,"parentID",n.parentID,isString,isNullOrUndefined))},i.applyWebContext=function(e,t){var n=s.web;n&&setValue(getSetValue(e,strExt),Extensions.WebExt,n)},i.applyUserContext=function(e,t){var n=i.user;n&&(setValue(getSetValue(e,strTags,[]),CtxTagKeys.userAccountId,n[_DYN_ACCOUNT_ID],isString),setValue(e=getSetValue(getSetValue(e,strExt),Extensions.UserExt),"id",n.id,isString),setValue(e,"authId",n[_DYN_AUTHENTICATED_ID],isString))},i.cleanUp=function(e,t){e=e.ext;e&&(_removeEmpty(e,Extensions.DeviceExt),_removeEmpty(e,Extensions.UserExt),_removeEmpty(e,Extensions.WebExt),_removeEmpty(e,Extensions.OSExt),_removeEmpty(e,Extensions.AppExt),_removeEmpty(e,Extensions.TraceExt))}})}return e.__ieDyn=1,e}(),nullValue=null,_defaultConfig=objDeepFreeze(((_a$1={accountId:nullValue,sessionRenewalMs:18e5,samplingPercentage:100,sessionExpirationMs:864e5,cookieDomain:nullValue,sdkExtension:nullValue,isBrowserLinkTrackingEnabled:!1,appId:nullValue})[_DYN_GET_SESSION_ID]=nullValue,_a$1.namePrefix=undefString,_a$1[_DYN_SESSION_COOKIE_POSTF6]=undefString,_a$1.userCookiePostfix=undefString,_a$1.idLength=22,_a$1.getNewId=nullValue,_a$1)),PropertiesPlugin=function(t){function n(){var c,u,l,E,N,e=t.call(this)||this;return e.priority=110,e.identifier=PropertiesPluginIdentifier,dynamicProto(n,e,function(o,s){function n(){N=!(E=l=u=c=null)}n(),objDefine(o,"context",{g:function(){return E}}),o.initialize=function(e,t,n,r){var i,a,_;s.initialize(e,t,n,r),a=o.identifier,_=o.core,o._addHook(onConfigChange(i=e,function(){var e=createProcessTelemetryContext(null,i,_);i.storagePrefix&&utlSetStoragePrefix(i.storagePrefix),N=!1!==i.disableUserInitMessage,c=e.getExtCfg(a,_defaultConfig),o._extConfig=c})),l=_[_DYN_GET_TRACE_CTX](!1),E=new TelemetryContext(_,c,l,o._unloadHooks),u=createDistributedTraceContextFromTrace(o.context[_DYN_TELEMETRY_TRACE],l),_.setTraceCtx(u),o.context.appId=function(){var e=_.getPlugin(BreezeChannelIdentifier);return e?e.plugin._appId:null}},o.processTelemetry=function(e,t){var n,r,i,a;isNullOrUndefined(e)||(t=o._getTelCtx(t),e.name===PageView.envelopeType&&t.diagLog().resetInternalMessageCount(),(i=E||{})[_DYN_SESSION]&&"string"!=typeof E[_DYN_SESSION].id&&i[_DYN_SESSION_MANAGER]&&i[_DYN_SESSION_MANAGER].update(),(n=i.user)&&!n[_DYN_IS_USER_COOKIE_SET]&&n.update(i.user.id),i=t,getSetValue(r=e,"tags",[]),getSetValue(r,"ext",{}),(a=o.context)[_DYN_APPLY_SESSION_CONTEX0](r,i),a[_DYN_APPLY_APPLICATION_CO1](r,i),a.applyDeviceContext(r,i),a[_DYN_APPLY_OPERATION_CONT2](r,i),a.applyUserContext(r,i),a[_DYN_APPLY_OPERATING_SYST3](r,i),a.applyWebContext(r,i),a[_DYN_APPLY_LOCATION_CONTE4](r,i),a[_DYN_APPLY_INTERNAL_CONTE5](r,i),a.cleanUp(r,i),n&&n[_DYN_IS_NEW_USER]&&(n[_DYN_IS_NEW_USER]=!1,N||(r=new _InternalLogMessage(72,(getNavigator()||{}).userAgent||""),_logInternalMessage(t.diagLog(),1,r))),o.processNext(e,t))},o._doTeardown=function(e,t){e=(e||{}).core();e&&e[_DYN_GET_TRACE_CTX]&&e[_DYN_GET_TRACE_CTX](!1)===u&&e.setTraceCtx(l),n()}}),e}return __extendsFn(n,t),n.__ieDyn=1,n}(BaseTelemetryPlugin),PropertiesPlugin$1=PropertiesPlugin,_AUTHENTICATED_USER_CONTEXT="AuthenticatedUserContext",_TRACK="track",STR_SNIPPET="snippet",STR_GET_COOKIE_MGR="getCookieMgr",STR_START_TRACK_PAGE="startTrackPage",STR_STOP_TRACK_PAGE="stopTrackPage",STR_FLUSH="flush",STR_START_TRACK_EVENT="startTrackEvent",STR_STOP_TRACK_EVENT="stopTrackEvent",STR_ADD_TELEMETRY_INITIALIZER="addTelemetryInitializer",STR_POLL_INTERNAL_LOGS="pollInternalLogs",STR_GET_PLUGIN="getPlugin",STR_EVT_NAMESPACE="evtNamespace",STR_TRACK_EVENT=_TRACK+"Event",STR_TRACK_TRACE=_TRACK+"Trace",STR_TRACK_METRIC=_TRACK+"Metric",STR_TRACK_PAGE_VIEW=_TRACK+"PageView",STR_TRACK_EXCEPTION=_TRACK+"Exception",STR_TRACK_DEPENDENCY_DATA=_TRACK+"DependencyData",STR_SET_AUTHENTICATED_USER_CONTEXT="set"+_AUTHENTICATED_USER_CONTEXT,STR_CLEAR_AUTHENTICATED_USER_CONTEXT="clear"+_AUTHENTICATED_USER_CONTEXT,CONFIG_ENDPOINT_URL="https://js.monitor.azure.com/scripts/b/ai.config.1.cfg.json",_DYN_CONNECTION_STRING="connectionString",_DYN_VERSION="version",_DYN_QUEUE="queue",_DYN_INSTRUMENTATION_KEY="instrumentationKey",_DYN_USER_OVERRIDE_ENDPOI0="userOverrideEndpointUrl",_DYN_ENDPOINT_URL="endpointUrl",_DYN_ONUNLOAD_FLUSH="onunloadFlush",_DYN_CONTEXT="context",_DYN_ADD_HOUSEKEEPING_BEF1="addHousekeepingBeforeUnload",_DYN_SEND_MESSAGE="sendMessage",_DYN_UPDATE_SNIPPET_DEFIN2="updateSnippetDefinitions",_ignoreUpdateSnippetProperties=[STR_SNIPPET,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],IKEY_USAGE="iKeyUsage",CDN_USAGE="CdnUsage",SDK_LOADER_VER="SdkLoaderVer",ZIP_PAYLOAD="zipPayload",UNDEFINED_VALUE=undefined,default_limit={samplingRate:100,maxSendNumber:1},default_interval={monthInterval:3,daysOfMonth:[28]},default_throttle_config={disabled:!0,limit:cfgDfMerge(default_limit),interval:cfgDfMerge(default_interval)},defaultConfigValues=((_a={})[_DYN_CONNECTION_STRING]=UNDEFINED_VALUE,_a.endpointUrl=UNDEFINED_VALUE,_a[_DYN_INSTRUMENTATION_KEY]=UNDEFINED_VALUE,_a[_DYN_USER_OVERRIDE_ENDPOI0]=UNDEFINED_VALUE,_a.diagnosticLogInterval=cfgDfValidate(_chkDiagLevel,1e4),_a.featureOptIn=((_b={})[IKEY_USAGE]={mode:3},_b[CDN_USAGE]={mode:2},_b[SDK_LOADER_VER]={mode:2},_b[ZIP_PAYLOAD]={mode:1},_b),_a.throttleMgrCfg=cfgDfMerge(((_c={})[109]=cfgDfMerge(default_throttle_config),_c[106]=cfgDfMerge(default_throttle_config),_c[111]=cfgDfMerge(default_throttle_config),_c[110]=cfgDfMerge(default_throttle_config),_c)),_a.extensionConfig=cfgDfMerge(((_d={}).AppInsightsCfgSyncPlugin=cfgDfMerge({cfgUrl:CONFIG_ENDPOINT_URL,syncMode:2}),_d)),_a);function _chkDiagLevel(e){return e&&0<e}function _parseCs(i,t){return createSyncPromise(function(r,e){doAwaitResponse(t,function(e){var t=e&&e.value,n=null;!e.rejected&&t&&(n=parseConnectionString(i[_DYN_CONNECTION_STRING]=t)),r(n)})})}var AppInsightsSku=function(){function n(e){var c,u,l,E,t,N,f,D,T,d,S,g,p,A,I=this;dynamicProto(n,this,function(a){_(),objDefine(a,"config",{g:function(){return D}}),arrForEach(["pluginVersionStringArr","pluginVersionString"],function(e){objDefine(a,e,{g:function(){return f?f[e]:null}})}),E=""+(e.sv||e[_DYN_VERSION]||""),e[_DYN_QUEUE]=e[_DYN_QUEUE]||[],e[_DYN_VERSION]=e[_DYN_VERSION]||2;var i=createDynamicConfig(e.config||{},defaultConfigValues);function _(){t=createUniqueNamespace("AISKU"),S=E=l=u=c=N=null,A=p=g=!1,d=new CfgSyncPlugin}function o(){N&&(removePageUnloadEventListener(null,N),removePageHideEventListener(null,N))}function s(e){f.addUnloadHook(e)}D=i.cfg,T=new AnalyticsPlugin,objDefine(a,"appInsights",{g:function(){return T}}),u=new PropertiesPlugin$1,c=new AjaxMonitor,l=new Sender,f=new AppInsightsCore,objDefine(a,"core",{g:function(){return f}}),s(onConfigChange(i,function(){var e,t,r=D[_DYN_CONNECTION_STRING];isPromiseLike(r)&&(e=createSyncPromise(function(n,e){doAwaitResponse(_parseCs(D,r),function(e){var t;e.rejected?n(null):(t=D[_DYN_INSTRUMENTATION_KEY],t=(e=e.value)&&e.instrumentationkey||t,n(t))})}),isNullOrUndefined(t=D[_DYN_USER_OVERRIDE_ENDPOI0])&&(t=createSyncPromise(function(n,e){doAwaitResponse(_parseCs(D,r),function(e){var t;e.rejected?n(null):(t=D[_DYN_ENDPOINT_URL],e=(e=e.value)&&e.ingestionendpoint,n(t=e?e+DEFAULT_BREEZE_PATH:t))})})),D[_DYN_INSTRUMENTATION_KEY]=e,D[_DYN_ENDPOINT_URL]=t),isString(r)&&r&&(t=(e=parseConnectionString(r)).ingestionendpoint,D.endpointUrl=D[_DYN_USER_OVERRIDE_ENDPOI0]||t+DEFAULT_BREEZE_PATH,D[_DYN_INSTRUMENTATION_KEY]=e.instrumentationkey||D[_DYN_INSTRUMENTATION_KEY]),D.endpointUrl=D[_DYN_USER_OVERRIDE_ENDPOI0]||D[_DYN_ENDPOINT_URL]})),a[STR_SNIPPET]=e,a[STR_FLUSH]=function(r,i){var e;return doPerf(f,function(){return"AISKU.flush"},function(){r&&!i&&(e=createPromise(function(e){i=e}));var t=1,n=function(){0==--t&&i()};arrForEach(f.getChannels(),function(e){e&&(t++,e[STR_FLUSH](r,n))}),n()},null,r=void 0===r||r),e},a[_DYN_ONUNLOAD_FLUSH]=function(t){void 0===t&&(t=!0),arrForEach(f.getChannels(),function(e){e[_DYN_ONUNLOAD_FLUSH]?e[_DYN_ONUNLOAD_FLUSH]():e[STR_FLUSH](t)})},a.loadAppInsights=function(e,t,r){return(e=void 0!==e&&e)&&throwUnsupported("Legacy Mode is no longer supported"),doPerf(a.core,function(){return"AISKU.loadAppInsights"},function(){f.initialize(D,[l,u,c,T,d],t,r),objDefine(a,"context",{g:function(){return u[_DYN_CONTEXT]}}),S=S||new ThrottleMgr(f);var n,e=_findSdkSourceFile();e&&a[_DYN_CONTEXT]&&(a[_DYN_CONTEXT].internal.sdkSrc=e),(n=a[STR_SNIPPET])&&(e="",isNullOrUndefined(E)||(e+=E),a[_DYN_CONTEXT]&&a[_DYN_CONTEXT].internal&&(a[_DYN_CONTEXT].internal.snippetVer=e||"-"),objForEachKey(a,function(e,t){isString(e)&&!isFunction(t)&&e&&"_"!==e[0]&&-1===arrIndexOf(_ignoreUpdateSnippetProperties,e)&&n[e]!==t&&(n[e]=t)})),a.emptyQueue(),a[STR_POLL_INTERNAL_LOGS](),a[_DYN_ADD_HOUSEKEEPING_BEF1](a),s(onConfigChange(i,function(){var e=!1;D.throttleMgrCfg[109]&&(e=!D.throttleMgrCfg[109].disabled),!S.isReady()&&D.extensionConfig&&D.extensionConfig[d.identifier]&&e&&S.onReadyState(!0),g||D[_DYN_CONNECTION_STRING]||!isFeatureEnabled(IKEY_USAGE,D,!0)||(S[_DYN_SEND_MESSAGE](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),g=!0),!p&&a[_DYN_CONTEXT].internal.sdkSrc&&~a[_DYN_CONTEXT].internal.sdkSrc.indexOf("az416426")&&isFeatureEnabled(CDN_USAGE,D,!0)&&(S[_DYN_SEND_MESSAGE](110,"See Cdn support notice at aka.ms/JsActiveCdn"),p=!0),!A&&parseInt(E)<6&&isFeatureEnabled(SDK_LOADER_VER,D,!0)&&(S[_DYN_SEND_MESSAGE](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),A=!0)}))}),a},a[_DYN_UPDATE_SNIPPET_DEFIN2]=function(e){proxyAssign(e,a,function(e){return e&&-1===arrIndexOf(_ignoreUpdateSnippetProperties,e)})},a.emptyQueue=function(){try{if(isArray(a.snippet[_DYN_QUEUE])){for(var e=a.snippet[_DYN_QUEUE].length,t=0;t<e;t++)(0,a.snippet[_DYN_QUEUE][t])();a.snippet[_DYN_QUEUE]=undefined,delete a.snippet[_DYN_QUEUE]}}catch(n){n&&isFunction(n.toString)&&n.toString()}},a[_DYN_ADD_HOUSEKEEPING_BEF1]=function(n){var r,i;(hasWindow()||hasDocument())&&(i=!(r=function(){var e;n[_DYN_ONUNLOAD_FLUSH](!1),isFunction(a.core[STR_GET_PLUGIN])&&(e=I.core[STR_GET_PLUGIN](PropertiesPluginIdentifier))&&(e=e.plugin)&&e[_DYN_CONTEXT]&&e[_DYN_CONTEXT]._sessionManager&&e[_DYN_CONTEXT]._sessionManager.backup()}),N=N||mergeEvtNamespace(t,f[STR_EVT_NAMESPACE]&&f[STR_EVT_NAMESPACE]()),s(onConfigChange(D,function(e){var e=e.cfg,t=n.appInsights,t=createProcessTelemetryContext(null,e,t.core).getExtCfg(t.identifier||AnalyticsPluginIdentifier),e=(o(),e.disablePageUnloadEvents);t.disableFlushOnBeforeUnload||(addPageUnloadEventListener(r,e,N)&&(i=!0),(i=!!addPageHideEventListener(r,e,N)||i)||isReactNative()||_throwInternal(f.logger,1,19,"Could not add handler for beforeunload and pagehide")),i||t.disableFlushOnUnload||addPageHideEventListener(r,e,N)})))},a.getSender=function(){return l},a.unload=function(e,t,n){var r,i=!1;return e&&!t&&(r=createPromise(function(e){t=e})),a[_DYN_ONUNLOAD_FLUSH](e),o(),f.unload&&f.unload(e,function(e){i||(i=!0,_(),t&&t(e))},n),r},proxyFunctions(a,T,[STR_GET_COOKIE_MGR,STR_TRACK_EVENT,STR_TRACK_PAGE_VIEW,"trackPageViewPerformance",STR_TRACK_EXCEPTION,"_onerror",STR_TRACK_TRACE,STR_TRACK_METRIC,STR_START_TRACK_PAGE,STR_STOP_TRACK_PAGE,STR_START_TRACK_EVENT,STR_STOP_TRACK_EVENT]),proxyFunctions(a,function(){return c},[STR_TRACK_DEPENDENCY_DATA,"addDependencyListener","addDependencyInitializer"]),proxyFunctions(a,f,[STR_ADD_TELEMETRY_INITIALIZER,STR_POLL_INTERNAL_LOGS,"stopPollingInternalLogs",STR_GET_PLUGIN,"addPlugin",STR_EVT_NAMESPACE,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),proxyFunctions(a,function(){var e=u[_DYN_CONTEXT];return e?e.user:null},[STR_SET_AUTHENTICATED_USER_CONTEXT,STR_CLEAR_AUTHENTICATED_USER_CONTEXT])})}return n.prototype.addDependencyInitializer=function(e){return null},n}();function _findSdkSourceFile(){if(_internalSdkSrc)return _internalSdkSrc;var e=null;try{var t=(document||{}).currentScript;t&&(e=t.src)}catch(i){}if(e){try{var n,r=e.toLowerCase();r&&(n="",arrForEach(["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"],function(e,t){if(-1!==strIndexOf(r,e))return n="cdn"+(t+1),-1===strIndexOf(r,"/scripts/")&&(-1!==strIndexOf(r,"/next/")?n+="-next":-1!==strIndexOf(r,"/beta/")&&(n+="-beta")),_internalSdkSrc=n+"",-1}))}catch(i){}_internalSdkSrc=e}return _internalSdkSrc}var _window,snippet,aiName,ApplicationInsightsContainer=function(){function e(){}return e.getAppInsights=function(e,t){var n=new AppInsightsSku(e);if(2<=t)return n[_DYN_UPDATE_SNIPPET_DEFIN2](e),n.loadAppInsights(!1),n;throwUnsupported("V1 API compatibility is no longer supported")},e}();function _logWarn(e,t){var n=getInst("console");n&&n.warn&&n.warn("Failed to initialize AppInsights JS SDK for instance "+(e||"<unknown>")+" - "+t)}try{typeof window!==strShimUndefined?(aiName=(_window=window).appInsightsSDK||"appInsights",document.currentScript&&(aiName=document.currentScript.getAttribute("data-ai-name")||aiName),typeof JSON!==strShimUndefined?_window[aiName]!==undefined&&(2<=(snippet=_window[aiName]||{version:2})[_DYN_VERSION]&&_window[aiName].initialize||snippet[_DYN_VERSION]===undefined)&&ApplicationInsightsContainer.getAppInsights(snippet,snippet[_DYN_VERSION]):_logWarn(aiName,"Missing JSON - you must supply a JSON polyfill!")):_logWarn(aiName,"Missing window")}catch(e){_logWarn(aiName,e.message)}exports.AnalyticsPluginIdentifier=AnalyticsPluginIdentifier,exports.ApplicationInsights=AppInsightsSku,exports.BreezeChannelIdentifier=BreezeChannelIdentifier,exports.DEFAULT_BREEZE_ENDPOINT=DEFAULT_BREEZE_ENDPOINT,exports.DisabledPropertyName=DisabledPropertyName,exports.DistributedTracingModes=DistributedTracingModes,exports.EventPersistence=EventPersistence,exports.LoggingSeverity=LoggingSeverity,exports.PerfEvent=PerfEvent,exports.PerfManager=PerfManager,exports.PropertiesPluginIdentifier=PropertiesPluginIdentifier,exports.RequestHeaders=RequestHeaders,exports.SeverityLevel=SeverityLevel,exports.addEventHandler=addEventHandler,exports.doPerf=doPerf,exports.eventOff=eventOff,exports.eventOn=eventOn,exports.findMetaTag=findMetaTag,exports.findW3cTraceParent=findW3cTraceParent,exports.generateW3CId=generateW3CId,exports.isBeaconsSupported=isBeaconsSupported,exports.mergeEvtNamespace=mergeEvtNamespace,exports.newGuid=newGuid,exports.newId=newId,exports.random32=random32,exports.randomValue=randomValue,exports.removeEventHandler=removeEventHandler;
//# sourceMappingURL=ai.3.cjs.min.js.map
