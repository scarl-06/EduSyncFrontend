{"ast":null,"code":"var _jsxFileName = \"C:\\\\assigment\\\\EduSyncApiSolution\\\\edusync-front\\\\src\\\\pages\\\\EditAssessmentPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport api from '../api/axios';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditAssessmentPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    courseId: '',\n    title: '',\n    maxScore: 100,\n    questions: ''\n  });\n  const [courses, setCourses] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [assessmentRes, coursesRes] = await Promise.all([api.get(`/Assessments/${id}`), api.get('/Course')]);\n        const a = assessmentRes.data;\n        setForm({\n          courseId: a.courseId,\n          title: a.title,\n          maxScore: a.maxScore,\n          questions: a.questions\n        });\n        setCourses(coursesRes.data);\n      } catch (err) {\n        console.error('Error loading assessment or courses:', err);\n      }\n    };\n    fetchData();\n  }, [id]);\n  const handleUpdateAssessment = async e => {\n    e.preventDefault();\n    try {\n      JSON.parse(form.questions); // ✅ Validate JSON\n      const payload = {\n        ...form,\n        question: form.questions\n      };\n      await api.put(`/Assessments/${id}`, payload);\n      navigate('/assessments');\n    } catch (error) {\n      alert('❗ Please enter valid JSON in the Questions field.');\n      console.error('Update failed:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"p-6 max-w-3xl mx-auto\",\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.5\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-center mb-6 text-indigo-600\",\n      children: \"Edit Assessment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpdateAssessment,\n      className: \"space-y-4 bg-white dark:bg-slate-800 p-6 rounded-xl shadow border dark:border-slate-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: form.courseId,\n        onChange: e => setForm({\n          ...form,\n          courseId: e.target.value\n        }),\n        className: \"w-full px-4 py-2 rounded border border-purple-200 dark:border-slate-600 dark:bg-slate-700 text-slate-800 dark:text-white\",\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select a course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), courses.map(course => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: course.courseId,\n          children: course.title\n        }, course.courseId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Assessment Title\",\n        value: form.title,\n        onChange: e => setForm({\n          ...form,\n          title: e.target.value\n        }),\n        className: \"w-full px-4 py-2 border border-purple-200 dark:border-slate-600 rounded dark:bg-slate-700 text-slate-800 dark:text-white\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Questions (as JSON)\",\n        value: form.questions,\n        onChange: e => setForm({\n          ...form,\n          questions: e.target.value\n        }),\n        className: \"w-full px-4 py-2 border border-purple-200 dark:border-slate-600 rounded dark:bg-slate-700 text-slate-800 dark:text-white\",\n        rows: 6,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Max Score\",\n        value: form.maxScore,\n        onChange: e => setForm({\n          ...form,\n          maxScore: e.target.value\n        }),\n        className: \"w-full px-4 py-2 border border-purple-200 dark:border-slate-600 rounded dark:bg-slate-700 text-slate-800 dark:text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white px-5 py-2.5 rounded-md font-semibold transition shadow-md\",\n        children: \"\\uD83D\\uDCBE Update Assessment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(EditAssessmentPage, \"3smsrHM+F3dqrFJUtiEJ6WeWjDQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditAssessmentPage;\nexport default EditAssessmentPage;\nvar _c;\n$RefreshReg$(_c, \"EditAssessmentPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","api","motion","jsxDEV","_jsxDEV","EditAssessmentPage","_s","id","navigate","form","setForm","courseId","title","maxScore","questions","courses","setCourses","fetchData","assessmentRes","coursesRes","Promise","all","get","a","data","err","console","error","handleUpdateAssessment","e","preventDefault","JSON","parse","payload","question","put","alert","div","className","initial","opacity","y","animate","transition","duration","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","map","course","type","placeholder","rows","_c","$RefreshReg$"],"sources":["C:/assigment/EduSyncApiSolution/edusync-front/src/pages/EditAssessmentPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport api from '../api/axios';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst EditAssessmentPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [form, setForm] = useState({\r\n    courseId: '',\r\n    title: '',\r\n    maxScore: 100,\r\n    questions: '',\r\n  });\r\n\r\n  const [courses, setCourses] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [assessmentRes, coursesRes] = await Promise.all([\r\n          api.get(`/Assessments/${id}`),\r\n          api.get('/Course'),\r\n        ]);\r\n\r\n        const a = assessmentRes.data;\r\n        setForm({\r\n          courseId: a.courseId,\r\n          title: a.title,\r\n          maxScore: a.maxScore,\r\n          questions: a.questions,\r\n        });\r\n\r\n        setCourses(coursesRes.data);\r\n      } catch (err) {\r\n        console.error('Error loading assessment or courses:', err);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const handleUpdateAssessment = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      JSON.parse(form.questions); // ✅ Validate JSON\r\n      const payload = {\r\n        ...form,\r\n        question: form.questions,\r\n      };\r\n      await api.put(`/Assessments/${id}`, payload);\r\n      navigate('/assessments');\r\n    } catch (error) {\r\n      alert('❗ Please enter valid JSON in the Questions field.');\r\n      console.error('Update failed:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"p-6 max-w-3xl mx-auto\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <h2 className=\"text-3xl font-bold text-center mb-6 text-indigo-600\">Edit Assessment</h2>\r\n\r\n      <form\r\n        onSubmit={handleUpdateAssessment}\r\n        className=\"space-y-4 bg-white dark:bg-slate-800 p-6 rounded-xl shadow border dark:border-slate-700\"\r\n      >\r\n        <select\r\n          value={form.courseId}\r\n          onChange={(e) => setForm({ ...form, courseId: e.target.value })}\r\n          className=\"w-full px-4 py-2 rounded border border-purple-200 dark:border-slate-600 dark:bg-slate-700 text-slate-800 dark:text-white\"\r\n          required\r\n        >\r\n          <option value=\"\">Select a course</option>\r\n          {courses.map((course) => (\r\n            <option key={course.courseId} value={course.courseId}>\r\n              {course.title}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Assessment Title\"\r\n          value={form.title}\r\n          onChange={(e) => setForm({ ...form, title: e.target.value })}\r\n          className=\"w-full px-4 py-2 border border-purple-200 dark:border-slate-600 rounded dark:bg-slate-700 text-slate-800 dark:text-white\"\r\n          required\r\n        />\r\n\r\n        <textarea\r\n          placeholder=\"Questions (as JSON)\"\r\n          value={form.questions}\r\n          onChange={(e) => setForm({ ...form, questions: e.target.value })}\r\n          className=\"w-full px-4 py-2 border border-purple-200 dark:border-slate-600 rounded dark:bg-slate-700 text-slate-800 dark:text-white\"\r\n          rows={6}\r\n          required\r\n        />\r\n\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Max Score\"\r\n          value={form.maxScore}\r\n          onChange={(e) => setForm({ ...form, maxScore: e.target.value })}\r\n          className=\"w-full px-4 py-2 border border-purple-200 dark:border-slate-600 rounded dark:bg-slate-700 text-slate-800 dark:text-white\"\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white px-5 py-2.5 rounded-md font-semibold transition shadow-md\"\r\n        >\r\n          💾 Update Assessment\r\n        </button>\r\n      </form>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default EditAssessmentPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,GAAG,MAAM,cAAc;AAC9B,SAASC,MAAM,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM;IAAEC;EAAG,CAAC,GAAGR,SAAS,CAAC,CAAC;EAC1B,MAAMS,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC;IAC/Ba,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,GAAG;IACbC,SAAS,EAAE;EACb,CAAC,CAAC;EAEF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd,MAAMoB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAM,CAACC,aAAa,EAAEC,UAAU,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACpDpB,GAAG,CAACqB,GAAG,CAAC,gBAAgBf,EAAE,EAAE,CAAC,EAC7BN,GAAG,CAACqB,GAAG,CAAC,SAAS,CAAC,CACnB,CAAC;QAEF,MAAMC,CAAC,GAAGL,aAAa,CAACM,IAAI;QAC5Bd,OAAO,CAAC;UACNC,QAAQ,EAAEY,CAAC,CAACZ,QAAQ;UACpBC,KAAK,EAAEW,CAAC,CAACX,KAAK;UACdC,QAAQ,EAAEU,CAAC,CAACV,QAAQ;UACpBC,SAAS,EAAES,CAAC,CAACT;QACf,CAAC,CAAC;QAEFE,UAAU,CAACG,UAAU,CAACK,IAAI,CAAC;MAC7B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,sCAAsC,EAAEF,GAAG,CAAC;MAC5D;IACF,CAAC;IACDR,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACV,EAAE,CAAC,CAAC;EAER,MAAMqB,sBAAsB,GAAG,MAAOC,CAAC,IAAK;IAC1CA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACFC,IAAI,CAACC,KAAK,CAACvB,IAAI,CAACK,SAAS,CAAC,CAAC,CAAC;MAC5B,MAAMmB,OAAO,GAAG;QACd,GAAGxB,IAAI;QACPyB,QAAQ,EAAEzB,IAAI,CAACK;MACjB,CAAC;MACD,MAAMb,GAAG,CAACkC,GAAG,CAAC,gBAAgB5B,EAAE,EAAE,EAAE0B,OAAO,CAAC;MAC5CzB,QAAQ,CAAC,cAAc,CAAC;IAC1B,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACdS,KAAK,CAAC,mDAAmD,CAAC;MAC1DV,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACxC;EACF,CAAC;EAED,oBACEvB,OAAA,CAACF,MAAM,CAACmC,GAAG;IACTC,SAAS,EAAC,uBAAuB;IACjCC,OAAO,EAAE;MAAEC,OAAO,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAG,CAAE;IAC/BC,OAAO,EAAE;MAAEF,OAAO,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAE;IAC9BE,UAAU,EAAE;MAAEC,QAAQ,EAAE;IAAI,CAAE;IAAAC,QAAA,gBAE9BzC,OAAA;MAAIkC,SAAS,EAAC,qDAAqD;MAAAO,QAAA,EAAC;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAExF7C,OAAA;MACE8C,QAAQ,EAAEtB,sBAAuB;MACjCU,SAAS,EAAC,yFAAyF;MAAAO,QAAA,gBAEnGzC,OAAA;QACE+C,KAAK,EAAE1C,IAAI,CAACE,QAAS;QACrByC,QAAQ,EAAGvB,CAAC,IAAKnB,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEE,QAAQ,EAAEkB,CAAC,CAACwB,MAAM,CAACF;QAAM,CAAC,CAAE;QAChEb,SAAS,EAAC,0HAA0H;QACpIgB,QAAQ;QAAAT,QAAA,gBAERzC,OAAA;UAAQ+C,KAAK,EAAC,EAAE;UAAAN,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACxClC,OAAO,CAACwC,GAAG,CAAEC,MAAM,iBAClBpD,OAAA;UAA8B+C,KAAK,EAAEK,MAAM,CAAC7C,QAAS;UAAAkC,QAAA,EAClDW,MAAM,CAAC5C;QAAK,GADF4C,MAAM,CAAC7C,QAAQ;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEpB,CACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC,eAET7C,OAAA;QACEqD,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,kBAAkB;QAC9BP,KAAK,EAAE1C,IAAI,CAACG,KAAM;QAClBwC,QAAQ,EAAGvB,CAAC,IAAKnB,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEG,KAAK,EAAEiB,CAAC,CAACwB,MAAM,CAACF;QAAM,CAAC,CAAE;QAC7Db,SAAS,EAAC,0HAA0H;QACpIgB,QAAQ;MAAA;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eAEF7C,OAAA;QACEsD,WAAW,EAAC,qBAAqB;QACjCP,KAAK,EAAE1C,IAAI,CAACK,SAAU;QACtBsC,QAAQ,EAAGvB,CAAC,IAAKnB,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEK,SAAS,EAAEe,CAAC,CAACwB,MAAM,CAACF;QAAM,CAAC,CAAE;QACjEb,SAAS,EAAC,0HAA0H;QACpIqB,IAAI,EAAE,CAAE;QACRL,QAAQ;MAAA;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eAEF7C,OAAA;QACEqD,IAAI,EAAC,QAAQ;QACbC,WAAW,EAAC,WAAW;QACvBP,KAAK,EAAE1C,IAAI,CAACI,QAAS;QACrBuC,QAAQ,EAAGvB,CAAC,IAAKnB,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEI,QAAQ,EAAEgB,CAAC,CAACwB,MAAM,CAACF;QAAM,CAAC,CAAE;QAChEb,SAAS,EAAC;MAA0H;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrI,CAAC,eAEF7C,OAAA;QACEqD,IAAI,EAAC,QAAQ;QACbnB,SAAS,EAAC,+JAA+J;QAAAO,QAAA,EAC1K;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEjB,CAAC;AAAC3C,EAAA,CAnHID,kBAAkB;EAAA,QACPN,SAAS,EACPC,WAAW;AAAA;AAAA4D,EAAA,GAFxBvD,kBAAkB;AAqHxB,eAAeA,kBAAkB;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}