{"ast":null,"code":"import _objectSpread from\"C:/assigment/EduSyncApiSolution/edusync-front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import api from'../api/axios';import{motion,AnimatePresence}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfilePage=()=>{const userId=localStorage.getItem('userId');const[profile,setProfile]=useState(null);const[editMode,setEditMode]=useState(false);const[form,setForm]=useState({fullName:'',email:''});const[successMsg,setSuccessMsg]=useState('');useEffect(()=>{const fetchProfile=async()=>{try{const res=await api.get(\"/UserModels/\".concat(userId));setProfile(res.data);setForm({fullName:res.data.fullName||'',email:res.data.email||''});}catch(err){console.error('Failed to load profile',err);}};if(userId)fetchProfile();},[userId]);const handleUpdate=async e=>{e.preventDefault();try{await api.put(\"/UserModels/\".concat(userId),{userId,fullName:form.fullName,email:form.email});setProfile(_objectSpread(_objectSpread({},form),{},{userId}));setEditMode(false);setSuccessMsg('✅ Profile updated successfully!');}catch(err){console.error('Failed to update profile',err);alert('Update failed.');}};if(!profile){return/*#__PURE__*/_jsx(\"p\",{className:\"p-6 text-emerald-600 dark:text-emerald-300\",children:\"Loading profile...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-emerald-50 via-teal-100 to-white dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 py-10 px-4\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:0.6},className:\"max-w-xl mx-auto bg-white dark:bg-slate-800 shadow-xl rounded-3xl p-8 border border-emerald-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500 text-center mb-6\",children:\"My Profile\"}),successMsg&&/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},className:\"text-green-700 bg-green-100 dark:bg-green-900 dark:text-green-300 border border-green-300 dark:border-green-700 rounded px-4 py-2 text-sm mb-4\",children:successMsg}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:editMode?/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:0.4},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full px-4 py-2 rounded-xl border border-emerald-200 dark:border-slate-600 bg-emerald-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-400 focus:outline-none\",value:form.fullName,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{fullName:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"w-full px-4 py-2 rounded-xl border border-emerald-200 dark:border-slate-600 bg-emerald-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-400 focus:outline-none\",value:form.email,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{email:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setEditMode(false),className:\"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-xl transition\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white rounded-xl transition shadow-md\",children:\"Save Changes\"})]})]})},\"edit\"):/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:0.4},className:\"space-y-4 text-gray-800 dark:text-gray-200\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Full Name:\"}),\" \",profile.fullName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",profile.email]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditMode(true),className:\"px-6 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white rounded-xl transition shadow-md\",children:\"\\u270F\\uFE0F Edit Profile\"})})]},\"static\")})]})});};export default ProfilePage;","map":{"version":3,"names":["React","useEffect","useState","api","motion","AnimatePresence","jsx","_jsx","jsxs","_jsxs","ProfilePage","userId","localStorage","getItem","profile","setProfile","editMode","setEditMode","form","setForm","fullName","email","successMsg","setSuccessMsg","fetchProfile","res","get","concat","data","err","console","error","handleUpdate","e","preventDefault","put","_objectSpread","alert","className","children","div","initial","opacity","y","animate","transition","duration","p","mode","exit","onSubmit","value","onChange","target","required","type","onClick"],"sources":["C:/assigment/EduSyncApiSolution/edusync-front/src/pages/ProfilePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../api/axios';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nconst ProfilePage = () => {\r\n  const userId = localStorage.getItem('userId');\r\n  const [profile, setProfile] = useState(null);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [form, setForm] = useState({ fullName: '', email: '' });\r\n  const [successMsg, setSuccessMsg] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const res = await api.get(`/UserModels/${userId}`);\r\n        setProfile(res.data);\r\n        setForm({\r\n          fullName: res.data.fullName || '',\r\n          email: res.data.email || ''\r\n        });\r\n      } catch (err) {\r\n        console.error('Failed to load profile', err);\r\n      }\r\n    };\r\n\r\n    if (userId) fetchProfile();\r\n  }, [userId]);\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await api.put(`/UserModels/${userId}`, {\r\n        userId,\r\n        fullName: form.fullName,\r\n        email: form.email\r\n      });\r\n      setProfile({ ...form, userId });\r\n      setEditMode(false);\r\n      setSuccessMsg('✅ Profile updated successfully!');\r\n    } catch (err) {\r\n      console.error('Failed to update profile', err);\r\n      alert('Update failed.');\r\n    }\r\n  };\r\n\r\n  if (!profile) {\r\n    return <p className=\"p-6 text-emerald-600 dark:text-emerald-300\">Loading profile...</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-emerald-50 via-teal-100 to-white dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 py-10 px-4\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 30 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.6 }}\r\n        className=\"max-w-xl mx-auto bg-white dark:bg-slate-800 shadow-xl rounded-3xl p-8 border border-emerald-200 dark:border-slate-700\"\r\n      >\r\n        <h2 className=\"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500 text-center mb-6\">\r\n          My Profile\r\n        </h2>\r\n\r\n        {successMsg && (\r\n          <motion.p\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"text-green-700 bg-green-100 dark:bg-green-900 dark:text-green-300 border border-green-300 dark:border-green-700 rounded px-4 py-2 text-sm mb-4\"\r\n          >\r\n            {successMsg}\r\n          </motion.p>\r\n        )}\r\n\r\n        <AnimatePresence mode=\"wait\">\r\n          {editMode ? (\r\n            <motion.div\r\n              key=\"edit\"\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -10 }}\r\n              transition={{ duration: 0.4 }}\r\n            >\r\n              <form onSubmit={handleUpdate} className=\"space-y-5\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Full Name</label>\r\n                  <input\r\n                    className=\"w-full px-4 py-2 rounded-xl border border-emerald-200 dark:border-slate-600 bg-emerald-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-400 focus:outline-none\"\r\n                    value={form.fullName}\r\n                    onChange={(e) => setForm({ ...form, fullName: e.target.value })}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Email</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"w-full px-4 py-2 rounded-xl border border-emerald-200 dark:border-slate-600 bg-emerald-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-400 focus:outline-none\"\r\n                    value={form.email}\r\n                    onChange={(e) => setForm({ ...form, email: e.target.value })}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex justify-end gap-4 pt-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setEditMode(false)}\r\n                    className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-xl transition\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white rounded-xl transition shadow-md\"\r\n                  >\r\n                    Save Changes\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </motion.div>\r\n          ) : (\r\n            <motion.div\r\n              key=\"static\"\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0 }}\r\n              transition={{ duration: 0.4 }}\r\n              className=\"space-y-4 text-gray-800 dark:text-gray-200\"\r\n            >\r\n              <p><strong>Full Name:</strong> {profile.fullName}</p>\r\n              <p><strong>Email:</strong> {profile.email}</p>\r\n\r\n              <div className=\"text-center mt-6\">\r\n                <button\r\n                  onClick={() => setEditMode(true)}\r\n                  className=\"px-6 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white rounded-xl transition shadow-md\"\r\n                >\r\n                  ✏️ Edit Profile\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}