{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{motion}from'framer-motion';import api from'../api/axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const AssessmentResultsPage=()=>{const{id}=useParams();const[results,setResults]=useState([]);const[title,setTitle]=useState('Assessment');const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const fetchData=async()=>{try{var _titleRes$data;const[titleRes,resultsRes]=await Promise.all([api.get(\"/Assessments/\".concat(id)),api.get(\"/Results/Assessment/\".concat(id))]);setTitle(((_titleRes$data=titleRes.data)===null||_titleRes$data===void 0?void 0:_titleRes$data.title)||'Assessment');setResults(resultsRes.data);setError('');}catch(err){console.error('Error fetching assessment or results:',err);setError('Failed to fetch data. Please try again later.');}finally{setLoading(false);}};fetchData();},[id]);return/*#__PURE__*/_jsxs(motion.div,{className:\"p-6 max-w-5xl mx-auto\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500 mb-6 text-center\",children:[\"Results for: \",title]}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 dark:text-gray-400\",children:\"Loading results...\"}):error?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-600 dark:text-red-400\",children:error}):results.length===0?/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},className:\"text-center text-gray-600 dark:text-gray-300\",children:\"No results found for this assessment.\"}):/*#__PURE__*/_jsx(motion.div,{className:\"overflow-x-auto bg-white dark:bg-gray-900 shadow-xl rounded-xl\",initial:{opacity:0},animate:{opacity:1},transition:{delay:0.2},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto w-full border-separate border-spacing-y-2 px-4 py-2\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-left bg-emerald-100 dark:bg-gray-800 rounded\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 rounded-l-xl text-emerald-700 dark:text-emerald-300\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-emerald-700 dark:text-emerald-300\",children:\"Student\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-emerald-700 dark:text-emerald-300\",children:\"Score\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 rounded-r-xl text-emerald-700 dark:text-emerald-300\",children:\"Attempt Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:results.map((r,index)=>/*#__PURE__*/_jsxs(motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:0.05*index},className:\"bg-emerald-50 dark:bg-gray-800 hover:bg-emerald-100 dark:hover:bg-gray-700 transition-all rounded-lg text-sm shadow-sm\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-gray-800 dark:text-gray-100\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-gray-700 dark:text-gray-100\",children:r.userName}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 font-semibold text-emerald-700 dark:text-emerald-400\",children:r.score}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-gray-600 dark:text-gray-300\",children:r.attemptDate?new Date(r.attemptDate).toLocaleString('en-IN'):'N/A'})]},r.resultId||\"\".concat(r.userName,\"-\").concat(index)))})]})})]});};export default AssessmentResultsPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","motion","api","jsxs","_jsxs","jsx","_jsx","AssessmentResultsPage","id","results","setResults","title","setTitle","loading","setLoading","error","setError","fetchData","_titleRes$data","titleRes","resultsRes","Promise","all","get","concat","data","err","console","div","className","initial","opacity","y","animate","transition","duration","children","length","p","delay","map","r","index","tr","userName","score","attemptDate","Date","toLocaleString","resultId"],"sources":["C:/assigment/EduSyncApiSolution/edusync-front/src/pages/AssessmentResultsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport api from '../api/axios';\r\n\r\nconst AssessmentResultsPage = () => {\r\n  const { id } = useParams();\r\n  const [results, setResults] = useState([]);\r\n  const [title, setTitle] = useState('Assessment');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [titleRes, resultsRes] = await Promise.all([\r\n          api.get(`/Assessments/${id}`),\r\n          api.get(`/Results/Assessment/${id}`),\r\n        ]);\r\n\r\n        setTitle(titleRes.data?.title || 'Assessment');\r\n        setResults(resultsRes.data);\r\n        setError('');\r\n      } catch (err) {\r\n        console.error('Error fetching assessment or results:', err);\r\n        setError('Failed to fetch data. Please try again later.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"p-6 max-w-5xl mx-auto\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <h2 className=\"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500 mb-6 text-center\">\r\n        Results for: {title}\r\n      </h2>\r\n\r\n      {loading ? (\r\n        <p className=\"text-center text-gray-500 dark:text-gray-400\">Loading results...</p>\r\n      ) : error ? (\r\n        <p className=\"text-center text-red-600 dark:text-red-400\">{error}</p>\r\n      ) : results.length === 0 ? (\r\n        <motion.p\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"text-center text-gray-600 dark:text-gray-300\"\r\n        >\r\n          No results found for this assessment.\r\n        </motion.p>\r\n      ) : (\r\n        <motion.div\r\n          className=\"overflow-x-auto bg-white dark:bg-gray-900 shadow-xl rounded-xl\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.2 }}\r\n        >\r\n          <table className=\"table-auto w-full border-separate border-spacing-y-2 px-4 py-2\">\r\n            <thead>\r\n              <tr className=\"text-left bg-emerald-100 dark:bg-gray-800 rounded\">\r\n                <th className=\"py-3 px-4 rounded-l-xl text-emerald-700 dark:text-emerald-300\">#</th>\r\n                <th className=\"py-3 px-4 text-emerald-700 dark:text-emerald-300\">Student</th>\r\n                <th className=\"py-3 px-4 text-emerald-700 dark:text-emerald-300\">Score</th>\r\n                <th className=\"py-3 px-4 rounded-r-xl text-emerald-700 dark:text-emerald-300\">Attempt Date</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {results.map((r, index) => (\r\n                <motion.tr\r\n                  key={r.resultId || `${r.userName}-${index}`}\r\n                  initial={{ opacity: 0, y: 10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: 0.05 * index }}\r\n                  className=\"bg-emerald-50 dark:bg-gray-800 hover:bg-emerald-100 dark:hover:bg-gray-700 transition-all rounded-lg text-sm shadow-sm\"\r\n                >\r\n                  <td className=\"py-3 px-4 text-gray-800 dark:text-gray-100\">{index + 1}</td>\r\n                  <td className=\"py-3 px-4 text-gray-700 dark:text-gray-100\">{r.userName}</td>\r\n                  <td className=\"py-3 px-4 font-semibold text-emerald-700 dark:text-emerald-400\">{r.score}</td>\r\n                  <td className=\"py-3 px-4 text-gray-600 dark:text-gray-300\">\r\n                    {r.attemptDate ? new Date(r.attemptDate).toLocaleString('en-IN') : 'N/A'}\r\n                  </td>\r\n                </motion.tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </motion.div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default AssessmentResultsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}